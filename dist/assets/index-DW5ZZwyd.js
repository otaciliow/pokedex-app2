(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function E_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ch={exports:{}},la={},hh={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function w_(){if(Xp)return be;Xp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function $(O,Y,Ee){this.props=O,this.context=Y,this.refs=H,this.updater=Ee||P}$.prototype.isReactComponent={},$.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=$.prototype;function se(O,Y,Ee){this.props=O,this.context=Y,this.refs=H,this.updater=Ee||P}var re=se.prototype=new K;re.constructor=se,M(re,$.prototype),re.isPureReactComponent=!0;var ue=Array.isArray,b=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(O,Y,Ee){var Ve,Ne={},Ue=null,Xe=null;if(Y!=null)for(Ve in Y.ref!==void 0&&(Xe=Y.ref),Y.key!==void 0&&(Ue=""+Y.key),Y)b.call(Y,Ve)&&!k.hasOwnProperty(Ve)&&(Ne[Ve]=Y[Ve]);var Je=arguments.length-2;if(Je===1)Ne.children=Ee;else if(1<Je){for(var Oe=Array(Je),ht=0;ht<Je;ht++)Oe[ht]=arguments[ht+2];Ne.children=Oe}if(O&&O.defaultProps)for(Ve in Je=O.defaultProps,Je)Ne[Ve]===void 0&&(Ne[Ve]=Je[Ve]);return{$$typeof:i,type:O,key:Ue,ref:Xe,props:Ne,_owner:ce.current}}function R(O,Y){return{$$typeof:i,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ee){return Y[Ee]})}var U=/\/+/g;function C(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function ut(O,Y,Ee,Ve,Ne){var Ue=typeof O;(Ue==="undefined"||Ue==="boolean")&&(O=null);var Xe=!1;if(O===null)Xe=!0;else switch(Ue){case"string":case"number":Xe=!0;break;case"object":switch(O.$$typeof){case i:case e:Xe=!0}}if(Xe)return Xe=O,Ne=Ne(Xe),O=Ve===""?"."+C(Xe,0):Ve,ue(Ne)?(Ee="",O!=null&&(Ee=O.replace(U,"$&/")+"/"),ut(Ne,Y,Ee,"",function(ht){return ht})):Ne!=null&&(x(Ne)&&(Ne=R(Ne,Ee+(!Ne.key||Xe&&Xe.key===Ne.key?"":(""+Ne.key).replace(U,"$&/")+"/")+O)),Y.push(Ne)),1;if(Xe=0,Ve=Ve===""?".":Ve+":",ue(O))for(var Je=0;Je<O.length;Je++){Ue=O[Je];var Oe=Ve+C(Ue,Je);Xe+=ut(Ue,Y,Ee,Oe,Ne)}else if(Oe=S(O),typeof Oe=="function")for(O=Oe.call(O),Je=0;!(Ue=O.next()).done;)Ue=Ue.value,Oe=Ve+C(Ue,Je++),Xe+=ut(Ue,Y,Ee,Oe,Ne);else if(Ue==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Xe}function $e(O,Y,Ee){if(O==null)return O;var Ve=[],Ne=0;return ut(O,Ve,"","",function(Ue){return Y.call(Ee,Ue,Ne++)}),Ve}function Rt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(Ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ee)},function(Ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ee)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var He={current:null},oe={transition:null},Te={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function he(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:$e,forEach:function(O,Y,Ee){$e(O,function(){Y.apply(this,arguments)},Ee)},count:function(O){var Y=0;return $e(O,function(){Y++}),Y},toArray:function(O){return $e(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=$,be.Fragment=n,be.Profiler=a,be.PureComponent=se,be.StrictMode=s,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,be.act=he,be.cloneElement=function(O,Y,Ee){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ve=M({},O.props),Ne=O.key,Ue=O.ref,Xe=O._owner;if(Y!=null){if(Y.ref!==void 0&&(Ue=Y.ref,Xe=ce.current),Y.key!==void 0&&(Ne=""+Y.key),O.type&&O.type.defaultProps)var Je=O.type.defaultProps;for(Oe in Y)b.call(Y,Oe)&&!k.hasOwnProperty(Oe)&&(Ve[Oe]=Y[Oe]===void 0&&Je!==void 0?Je[Oe]:Y[Oe])}var Oe=arguments.length-2;if(Oe===1)Ve.children=Ee;else if(1<Oe){Je=Array(Oe);for(var ht=0;ht<Oe;ht++)Je[ht]=arguments[ht+2];Ve.children=Je}return{$$typeof:i,type:O.type,key:Ne,ref:Ue,props:Ve,_owner:Xe}},be.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},be.createElement=T,be.createFactory=function(O){var Y=T.bind(null,O);return Y.type=O,Y},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:d,render:O}},be.isValidElement=x,be.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Rt}},be.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},be.startTransition=function(O){var Y=oe.transition;oe.transition={};try{O()}finally{oe.transition=Y}},be.unstable_act=he,be.useCallback=function(O,Y){return He.current.useCallback(O,Y)},be.useContext=function(O){return He.current.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O){return He.current.useDeferredValue(O)},be.useEffect=function(O,Y){return He.current.useEffect(O,Y)},be.useId=function(){return He.current.useId()},be.useImperativeHandle=function(O,Y,Ee){return He.current.useImperativeHandle(O,Y,Ee)},be.useInsertionEffect=function(O,Y){return He.current.useInsertionEffect(O,Y)},be.useLayoutEffect=function(O,Y){return He.current.useLayoutEffect(O,Y)},be.useMemo=function(O,Y){return He.current.useMemo(O,Y)},be.useReducer=function(O,Y,Ee){return He.current.useReducer(O,Y,Ee)},be.useRef=function(O){return He.current.useRef(O)},be.useState=function(O){return He.current.useState(O)},be.useSyncExternalStore=function(O,Y,Ee){return He.current.useSyncExternalStore(O,Y,Ee)},be.useTransition=function(){return He.current.useTransition()},be.version="18.3.1",be}var Jp;function Zh(){return Jp||(Jp=1,hh.exports=w_()),hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function T_(){if(Zp)return la;Zp=1;var i=Zh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,v){var E,I={},S=null,P=null;v!==void 0&&(S=""+v),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(P=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(I[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:d,key:S,ref:P,props:I,_owner:a.current}}return la.Fragment=n,la.jsx=h,la.jsxs=h,la}var em;function S_(){return em||(em=1,ch.exports=T_()),ch.exports}var De=S_(),W=Zh(),Wl={},fh={exports:{}},Cn={},dh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function I_(){return tm||(tm=1,function(i){function e(oe,Te){var he=oe.length;oe.push(Te);e:for(;0<he;){var O=he-1>>>1,Y=oe[O];if(0<a(Y,Te))oe[O]=Te,oe[he]=Y,he=O;else break e}}function n(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var Te=oe[0],he=oe.pop();if(he!==Te){oe[0]=he;e:for(var O=0,Y=oe.length,Ee=Y>>>1;O<Ee;){var Ve=2*(O+1)-1,Ne=oe[Ve],Ue=Ve+1,Xe=oe[Ue];if(0>a(Ne,he))Ue<Y&&0>a(Xe,Ne)?(oe[O]=Xe,oe[Ue]=he,O=Ue):(oe[O]=Ne,oe[Ve]=he,O=Ve);else if(Ue<Y&&0>a(Xe,he))oe[O]=Xe,oe[Ue]=he,O=Ue;else break e}}return Te}function a(oe,Te){var he=oe.sortIndex-Te.sortIndex;return he!==0?he:oe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var g=[],v=[],E=1,I=null,S=3,P=!1,M=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(oe){for(var Te=n(v);Te!==null;){if(Te.callback===null)s(v);else if(Te.startTime<=oe)s(v),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=n(v)}}function ue(oe){if(H=!1,re(oe),!M)if(n(g)!==null)M=!0,Rt(b);else{var Te=n(v);Te!==null&&He(ue,Te.startTime-oe)}}function b(oe,Te){M=!1,H&&(H=!1,K(T),T=-1),P=!0;var he=S;try{for(re(Te),I=n(g);I!==null&&(!(I.expirationTime>Te)||oe&&!V());){var O=I.callback;if(typeof O=="function"){I.callback=null,S=I.priorityLevel;var Y=O(I.expirationTime<=Te);Te=i.unstable_now(),typeof Y=="function"?I.callback=Y:I===n(g)&&s(g),re(Te)}else s(g);I=n(g)}if(I!==null)var Ee=!0;else{var Ve=n(v);Ve!==null&&He(ue,Ve.startTime-Te),Ee=!1}return Ee}finally{I=null,S=he,P=!1}}var ce=!1,k=null,T=-1,R=5,x=-1;function V(){return!(i.unstable_now()-x<R)}function U(){if(k!==null){var oe=i.unstable_now();x=oe;var Te=!0;try{Te=k(!0,oe)}finally{Te?C():(ce=!1,k=null)}}else ce=!1}var C;if(typeof se=="function")C=function(){se(U)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,$e=ut.port2;ut.port1.onmessage=U,C=function(){$e.postMessage(null)}}else C=function(){$(U,0)};function Rt(oe){k=oe,ce||(ce=!0,C())}function He(oe,Te){T=$(function(){oe(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){M||P||(M=!0,Rt(b))},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(oe){switch(S){case 1:case 2:case 3:var Te=3;break;default:Te=S}var he=S;S=Te;try{return oe()}finally{S=he}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,Te){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=S;S=oe;try{return Te()}finally{S=he}},i.unstable_scheduleCallback=function(oe,Te,he){var O=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?O+he:O):he=O,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=he+Y,oe={id:E++,callback:Te,priorityLevel:oe,startTime:he,expirationTime:Y,sortIndex:-1},he>O?(oe.sortIndex=he,e(v,oe),n(g)===null&&oe===n(v)&&(H?(K(T),T=-1):H=!0,He(ue,he-O))):(oe.sortIndex=Y,e(g,oe),M||P||(M=!0,Rt(b))),oe},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(oe){var Te=S;return function(){var he=S;S=Te;try{return oe.apply(this,arguments)}finally{S=he}}}}(ph)),ph}var nm;function R_(){return nm||(nm=1,dh.exports=I_()),dh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function A_(){if(rm)return Cn;rm=1;var i=Zh(),e=R_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function S(t){return g.call(I,t)?!0:g.call(E,t)?!1:v.test(t)?I[t]=!0:(E[t]=!0,!1)}function P(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M(t,r,o,c){if(r===null||typeof r>"u"||P(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,o,c,f,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function se(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,se);$[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,se);$[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,se);$[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,o,c){var f=$.hasOwnProperty(r)?$[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(M(r,o,f,c)&&(o=null),c||f===null?S(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ue=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,O;function Y(t){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var Ee=!1;function Ve(t,r){if(!t||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(q){var c=q}Reflect.construct(t,[],r)}else{try{r.call()}catch(q){c=q}t.call(r.prototype)}else{try{throw Error()}catch(q){c=q}t()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,A=m.length-1;1<=_&&0<=A&&f[_]!==m[A];)A--;for(;1<=_&&0<=A;_--,A--)if(f[_]!==m[A]){if(_!==1||A!==1)do if(_--,A--,0>A||f[_]!==m[A]){var D=`
`+f[_].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=_&&0<=A);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Y(t):""}function Ne(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=Ve(t.type,!1),t;case 11:return t=Ve(t.type.render,!1),t;case 1:return t=Ve(t.type,!0),t;default:return""}}function Ue(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case ut:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case U:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $e:return r=t.displayName||null,r!==null?r:Ue(t.type)||"Memo";case Rt:r=t._payload,t=t._init;try{return Ue(t(r))}catch{}}return null}function Xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Je(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ht(t){var r=Oe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Un(t){t._valueTracker||(t._valueTracker=ht(t))}function ii(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Oe(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function en(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fr(t,r){var o=r.checked;return he({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function si(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Je(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function oi(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function Yi(t,r){oi(t,r);var o=Je(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ai(t,r.type,o):r.hasOwnProperty("defaultValue")&&ai(t,r.type,Je(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ps(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ai(t,r,o){(r!=="number"||en(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function $t(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Je(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Yn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return he({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function br(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Je(o)}}function yr(t,r){var o=Je(r.value),c=Je(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function yn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ot(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kn,Xi=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ht(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){_r.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),vr[r]=vr[t]})});function li(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||vr.hasOwnProperty(t)&&vr[t]?(""+r).trim():r+"px"}function Ji(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=li(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var ui=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(t,r){if(r){if(ui[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ci(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,vn=null,xn=null;function Jn(t){if(t=Ko(t)){if(typeof Ur!="function")throw Error(n(280));var r=t.stateNode;r&&(r=al(r),Ur(t.stateNode,t.type,r))}}function fn(t){vn?xn?xn.push(t):xn=[t]:vn=t}function Zi(){if(vn){var t=vn,r=xn;if(xn=vn=null,Jn(t),r)for(t=0;t<r.length;t++)Jn(r[t])}}function zr(t,r){return t(r)}function N(){}var F=!1;function Q(t,r,o){if(F)return t(r,o);F=!0;try{return zr(t,r,o)}finally{F=!1,(vn!==null||xn!==null)&&(N(),Zi())}}function X(t,r){var o=t.stateNode;if(o===null)return null;var c=al(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var fe=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Re(t,r,o,c,f,m,_,A,D){var q=Array.prototype.slice.call(arguments,3);try{r.apply(o,q)}catch(ee){this.onError(ee)}}var de=!1,_e=null,ae=!1,ke=null,Fe={onError:function(t){de=!0,_e=t}};function rt(t,r,o,c,f,m,_,A,D){de=!1,_e=null,Re.apply(Fe,arguments)}function St(t,r,o,c,f,m,_,A,D){if(rt.apply(this,arguments),de){if(de){var q=_e;de=!1,_e=null}else throw Error(n(198));ae||(ae=!0,ke=q)}}function ze(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Ze(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function it(t){if(ze(t)!==t)throw Error(n(188))}function Zn(t){var r=t.alternate;if(!r){if(r=ze(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return it(f),t;if(m===c)return it(f),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=m;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,c=m;break}if(A===c){_=!0,c=f,o=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===o){_=!0,o=m,c=f;break}if(A===c){_=!0,c=m,o=f;break}A=A.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function er(t){return t=Zn(t),t!==null?tn(t):null}function tn(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=tn(t);if(r!==null)return r;t=t.sibling}return null}var qt=e.unstable_scheduleCallback,jr=e.unstable_cancelCallback,wr=e.unstable_shouldYield,tr=e.unstable_requestPaint,st=e.unstable_now,Br=e.unstable_getCurrentPriorityLevel,qe=e.unstable_ImmediatePriority,ft=e.unstable_UserBlockingPriority,Wt=e.unstable_NormalPriority,nr=e.unstable_LowPriority,dt=e.unstable_IdlePriority,_n=null,nn=null;function ks(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ua,Do=Math.log,ba=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Do(t)/ba|0)|0}var xs=64,Ds=4194304;function fi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function es(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var A=_&~f;A!==0?c=fi(A):(m&=_,m!==0&&(c=fi(m)))}else _=o&~f,_!==0?c=fi(_):m!==0&&(c=fi(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-dn(r),f=1<<o,c|=t[o],r&=~f;return c}function zu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-dn(m),A=1<<_,D=f[_];D===-1?(!(A&o)||A&c)&&(f[_]=zu(A,r)):D<=r&&(t.expiredLanes|=A),m&=~A}}function Dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ts(){var t=xs;return xs<<=1,!(xs&4194240)&&(xs=64),t}function di(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function pi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-dn(r),t[r]=o}function lt(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-dn(o),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function mi(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-dn(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var je=0;function gi(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var za,Ns,ja,Ba,$a,No=!1,Tr=[],Kt=null,rr=null,ir=null,yi=new Map,zn=new Map,Sr=[],ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(t,r){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":yi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(r.pointerId)}}function En(t,r,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ko(r),r!==null&&Ns(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Bu(t,r,o,c,f){switch(r){case"focusin":return Kt=En(Kt,t,r,o,c,f),!0;case"dragenter":return rr=En(rr,t,r,o,c,f),!0;case"mouseover":return ir=En(ir,t,r,o,c,f),!0;case"pointerover":var m=f.pointerId;return yi.set(m,En(yi.get(m)||null,t,r,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,zn.set(m,En(zn.get(m)||null,t,r,o,c,f)),!0}return!1}function qa(t){var r=os(t.target);if(r!==null){var o=ze(r);if(o!==null){if(r=o.tag,r===13){if(r=Ze(o),r!==null){t.blockedOn=r,$a(t.priority,function(){ja(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Vs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Xn=c,o.target.dispatchEvent(c),Xn=null}else return r=Ko(o),r!==null&&Ns(r),t.blockedOn=o,!1;r.shift()}return!0}function ns(t,r,o){Hr(t)&&o.delete(r)}function Wa(){No=!1,Kt!==null&&Hr(Kt)&&(Kt=null),rr!==null&&Hr(rr)&&(rr=null),ir!==null&&Hr(ir)&&(ir=null),yi.forEach(ns),zn.forEach(ns)}function sr(t,r){t.blockedOn===r&&(t.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wa)))}function or(t){function r(f){return sr(f,t)}if(0<Tr.length){sr(Tr[0],t);for(var o=1;o<Tr.length;o++){var c=Tr[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Kt!==null&&sr(Kt,t),rr!==null&&sr(rr,t),ir!==null&&sr(ir,t),yi.forEach(r),zn.forEach(r),o=0;o<Sr.length;o++)c=Sr[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)qa(o),o.blockedOn===null&&Sr.shift()}var qr=ue.ReactCurrentBatchConfig,vi=!0;function yt(t,r,o,c){var f=je,m=qr.transition;qr.transition=null;try{je=1,Vo(t,r,o,c)}finally{je=f,qr.transition=m}}function $u(t,r,o,c){var f=je,m=qr.transition;qr.transition=null;try{je=4,Vo(t,r,o,c)}finally{je=f,qr.transition=m}}function Vo(t,r,o,c){if(vi){var f=Vs(t,r,o,c);if(f===null)ec(t,r,c,rs,o),Ha(t,c);else if(Bu(f,t,r,o,c))c.stopPropagation();else if(Ha(t,c),r&4&&-1<ju.indexOf(t)){for(;f!==null;){var m=Ko(f);if(m!==null&&za(m),m=Vs(t,r,o,c),m===null&&ec(t,r,c,rs,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else ec(t,r,c,null,o)}}var rs=null;function Vs(t,r,o,c){if(rs=null,t=hi(c),t=os(t),t!==null)if(r=ze(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Ze(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return rs=t,null}function Lo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Br()){case qe:return 1;case ft:return 4;case Wt:case nr:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Nn=null,Ls=null,wn=null;function Mo(){if(wn)return wn;var t,r=Ls,o=r.length,c,f="value"in Nn?Nn.value:Nn.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[m-c];c++);return wn=f.slice(t,1<c?1-c:void 0)}function Ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function Oo(){return!1}function Qt(t){function r(o,c,f,m,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(o=t[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ir:Oo,this.isPropagationStopped=Oo,this}return he(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Qt(ar),Rr=he({},ar,{view:0,detail:0}),Hu=Qt(Rr),Fs,Wr,_i,is=he({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Fs=t.screenX-_i.screenX,Wr=t.screenY-_i.screenY):Wr=Fs=0,_i=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:Wr}}),bs=Qt(is),Fo=he({},is,{dataTransfer:0}),Ka=Qt(Fo),Us=he({},Rr,{relatedTarget:0}),zs=Qt(Us),Qa=he({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=Qt(Qa),Ga=he({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=Qt(Ga),Xa=he({},ar,{data:0}),bo=Qt(Xa),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ja[t])?!!r[t]:!1}function Ar(){return Za}var l=he({},Rr,{key:function(t){if(t.key){var r=js[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=Qt(l),y=he({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Qt(y),z=he({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),G=Qt(z),le=he({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),at=Qt(le),Vt=he({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Qt(Vt),Ft=[9,13,27,32],kt=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Vn=d&&"TextEvent"in window&&!jn,ss=d&&(!kt||jn&&8<jn&&11>=jn),Bs=" ",qf=!1;function Wf(t,r){switch(t){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function vv(t,r){switch(t){case"compositionend":return Kf(r);case"keypress":return r.which!==32?null:(qf=!0,Bs);case"textInput":return t=r.data,t===Bs&&qf?null:t;default:return null}}function _v(t,r){if($s)return t==="compositionend"||!kt&&Wf(t,r)?(t=Mo(),wn=Ls=Nn=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ss&&r.locale!=="ko"?null:r.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ev[t.type]:r==="textarea"}function Gf(t,r,o,c){fn(c),r=il(r,"onChange"),0<r.length&&(o=new Os("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Uo=null,zo=null;function wv(t){dd(t,0)}function el(t){var r=Qs(t);if(ii(r))return t}function Tv(t,r){if(t==="change")return r}var Yf=!1;if(d){var qu;if(d){var Wu="oninput"in document;if(!Wu){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),Wu=typeof Xf.oninput=="function"}qu=Wu}else qu=!1;Yf=qu&&(!document.documentMode||9<document.documentMode)}function Jf(){Uo&&(Uo.detachEvent("onpropertychange",Zf),zo=Uo=null)}function Zf(t){if(t.propertyName==="value"&&el(zo)){var r=[];Gf(r,zo,t,hi(t)),Q(wv,r)}}function Sv(t,r,o){t==="focusin"?(Jf(),Uo=r,zo=o,Uo.attachEvent("onpropertychange",Zf)):t==="focusout"&&Jf()}function Iv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(zo)}function Rv(t,r){if(t==="click")return el(r)}function Av(t,r){if(t==="input"||t==="change")return el(r)}function Cv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var lr=typeof Object.is=="function"?Object.is:Cv;function jo(t,r){if(lr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!lr(t[f],r[f]))return!1}return!0}function ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function td(t,r){var o=ed(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ed(o)}}function nd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?nd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function rd(){for(var t=window,r=en();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=en(t.document)}return r}function Ku(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Pv(t){var r=rd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&nd(o.ownerDocument.documentElement,o)){if(c!==null&&Ku(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=td(o,m);var _=td(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kv=d&&"documentMode"in document&&11>=document.documentMode,Hs=null,Qu=null,Bo=null,Gu=!1;function id(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gu||Hs==null||Hs!==en(c)||(c=Hs,"selectionStart"in c&&Ku(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bo&&jo(Bo,c)||(Bo=c,c=il(Qu,"onSelect"),0<c.length&&(r=new Os("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=Hs)))}function tl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var qs={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Yu={},sd={};d&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function nl(t){if(Yu[t])return Yu[t];if(!qs[t])return t;var r=qs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in sd)return Yu[t]=r[o];return t}var od=nl("animationend"),ad=nl("animationiteration"),ld=nl("animationstart"),ud=nl("transitionend"),cd=new Map,hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,r){cd.set(t,r),u(r,[t])}for(var Xu=0;Xu<hd.length;Xu++){var Ju=hd[Xu],xv=Ju.toLowerCase(),Dv=Ju[0].toUpperCase()+Ju.slice(1);Ei(xv,"on"+Dv)}Ei(od,"onAnimationEnd"),Ei(ad,"onAnimationIteration"),Ei(ld,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(ud,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function fd(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,St(c,r,void 0,t),t.currentTarget=null}function dd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var A=c[_],D=A.instance,q=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;fd(f,A,q),m=D}else for(_=0;_<c.length;_++){if(A=c[_],D=A.instance,q=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;fd(f,A,q),m=D}}}if(ae)throw t=ke,ae=!1,ke=null,t}function pt(t,r){var o=r[oc];o===void 0&&(o=r[oc]=new Set);var c=t+"__bubble";o.has(c)||(pd(r,t,2,!1),o.add(c))}function Zu(t,r,o){var c=0;r&&(c|=4),pd(o,t,c,r)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[rl]){t[rl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Nv.has(o)||Zu(o,!1,t),Zu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rl]||(r[rl]=!0,Zu("selectionchange",!1,r))}}function pd(t,r,o,c){switch(Lo(r)){case 1:var f=yt;break;case 4:f=$u;break;default:f=Vo}o=f.bind(null,r,o,t),f=void 0,!fe||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function ec(t,r,o,c,f){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;A!==null;){if(_=os(A),_===null)return;if(D=_.tag,D===5||D===6){c=m=_;continue e}A=A.parentNode}}c=c.return}Q(function(){var q=m,ee=hi(o),te=[];e:{var Z=cd.get(t);if(Z!==void 0){var pe=Os,we=t;switch(t){case"keypress":if(Ms(o)===0)break e;case"keydown":case"keyup":pe=p;break;case"focusin":we="focus",pe=zs;break;case"focusout":we="blur",pe=zs;break;case"beforeblur":case"afterblur":pe=zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=G;break;case od:case ad:case ld:pe=Kr;break;case ud:pe=at;break;case"scroll":pe=Hu;break;case"wheel":pe=We;break;case"copy":case"cut":case"paste":pe=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=w}var Se=(r&4)!==0,At=!Se&&t==="scroll",j=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var L=q,B;L!==null;){B=L;var ie=B.stateNode;if(B.tag===5&&ie!==null&&(B=ie,j!==null&&(ie=X(L,j),ie!=null&&Se.push(qo(L,ie,B)))),At)break;L=L.return}0<Se.length&&(Z=new pe(Z,we,null,o,ee),te.push({event:Z,listeners:Se}))}}if(!(r&7)){e:{if(Z=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",Z&&o!==Xn&&(we=o.relatedTarget||o.fromElement)&&(os(we)||we[Qr]))break e;if((pe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,pe?(we=o.relatedTarget||o.toElement,pe=q,we=we?os(we):null,we!==null&&(At=ze(we),we!==At||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=q),pe!==we)){if(Se=bs,ie="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=w,ie="onPointerLeave",j="onPointerEnter",L="pointer"),At=pe==null?Z:Qs(pe),B=we==null?Z:Qs(we),Z=new Se(ie,L+"leave",pe,o,ee),Z.target=At,Z.relatedTarget=B,ie=null,os(ee)===q&&(Se=new Se(j,L+"enter",we,o,ee),Se.target=B,Se.relatedTarget=At,ie=Se),At=ie,pe&&we)t:{for(Se=pe,j=we,L=0,B=Se;B;B=Ws(B))L++;for(B=0,ie=j;ie;ie=Ws(ie))B++;for(;0<L-B;)Se=Ws(Se),L--;for(;0<B-L;)j=Ws(j),B--;for(;L--;){if(Se===j||j!==null&&Se===j.alternate)break t;Se=Ws(Se),j=Ws(j)}Se=null}else Se=null;pe!==null&&md(te,Z,pe,Se,!1),we!==null&&At!==null&&md(te,At,we,Se,!0)}}e:{if(Z=q?Qs(q):window,pe=Z.nodeName&&Z.nodeName.toLowerCase(),pe==="select"||pe==="input"&&Z.type==="file")var Ie=Tv;else if(Qf(Z))if(Yf)Ie=Av;else{Ie=Iv;var Ce=Sv}else(pe=Z.nodeName)&&pe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Ie=Rv);if(Ie&&(Ie=Ie(t,q))){Gf(te,Ie,o,ee);break e}Ce&&Ce(t,Z,q),t==="focusout"&&(Ce=Z._wrapperState)&&Ce.controlled&&Z.type==="number"&&ai(Z,"number",Z.value)}switch(Ce=q?Qs(q):window,t){case"focusin":(Qf(Ce)||Ce.contentEditable==="true")&&(Hs=Ce,Qu=q,Bo=null);break;case"focusout":Bo=Qu=Hs=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,id(te,o,ee);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":id(te,o,ee)}var Pe;if(kt)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else $s?Wf(t,o)&&(xe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(ss&&o.locale!=="ko"&&($s||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&$s&&(Pe=Mo()):(Nn=ee,Ls="value"in Nn?Nn.value:Nn.textContent,$s=!0)),Ce=il(q,xe),0<Ce.length&&(xe=new bo(xe,t,null,o,ee),te.push({event:xe,listeners:Ce}),Pe?xe.data=Pe:(Pe=Kf(o),Pe!==null&&(xe.data=Pe)))),(Pe=Vn?vv(t,o):_v(t,o))&&(q=il(q,"onBeforeInput"),0<q.length&&(ee=new bo("onBeforeInput","beforeinput",null,o,ee),te.push({event:ee,listeners:q}),ee.data=Pe))}dd(te,r)})}function qo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function il(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=X(t,o),m!=null&&c.unshift(qo(t,m,f)),m=X(t,r),m!=null&&c.push(qo(t,m,f))),t=t.return}return c}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function md(t,r,o,c,f){for(var m=r._reactName,_=[];o!==null&&o!==c;){var A=o,D=A.alternate,q=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&q!==null&&(A=q,f?(D=X(o,m),D!=null&&_.unshift(qo(o,D,A))):f||(D=X(o,m),D!=null&&_.push(qo(o,D,A)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Vv=/\r\n?/g,Lv=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(Vv,`
`).replace(Lv,"")}function sl(t,r,o){if(r=gd(r),gd(t)!==r&&o)throw Error(n(425))}function ol(){}var tc=null,nc=null;function rc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,Mv=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(t){return yd.resolve(null).then(t).catch(Fv)}:ic;function Fv(t){setTimeout(function(){throw t})}function sc(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),or(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);or(r)}function wi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function vd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ks,Wo="__reactProps$"+Ks,Qr="__reactContainer$"+Ks,oc="__reactEvents$"+Ks,bv="__reactListeners$"+Ks,Uv="__reactHandles$"+Ks;function os(t){var r=t[Cr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Qr]||o[Cr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=vd(t);t!==null;){if(o=t[Cr])return o;t=vd(t)}return r}t=o,o=t.parentNode}return null}function Ko(t){return t=t[Cr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function al(t){return t[Wo]||null}var ac=[],Gs=-1;function Ti(t){return{current:t}}function mt(t){0>Gs||(t.current=ac[Gs],ac[Gs]=null,Gs--)}function ct(t,r){Gs++,ac[Gs]=t.current,t.current=r}var Si={},rn=Ti(Si),Tn=Ti(!1),as=Si;function Ys(t,r){var o=t.type.contextTypes;if(!o)return Si;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(t){return t=t.childContextTypes,t!=null}function ll(){mt(Tn),mt(rn)}function _d(t,r,o){if(rn.current!==Si)throw Error(n(168));ct(rn,r),ct(Tn,o)}function Ed(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Xe(t)||"Unknown",f));return he({},o,c)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,as=rn.current,ct(rn,t),ct(Tn,Tn.current),!0}function wd(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Ed(t,r,as),c.__reactInternalMemoizedMergedChildContext=t,mt(Tn),mt(rn),ct(rn,t)):mt(Tn),ct(Tn,o)}var Gr=null,cl=!1,lc=!1;function Td(t){Gr===null?Gr=[t]:Gr.push(t)}function zv(t){cl=!0,Td(t)}function Ii(){if(!lc&&Gr!==null){lc=!0;var t=0,r=je;try{var o=Gr;for(je=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}Gr=null,cl=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(t+1)),qt(qe,Ii),f}finally{je=r,lc=!1}}return null}var Xs=[],Js=0,hl=null,fl=0,Bn=[],$n=0,ls=null,Yr=1,Xr="";function us(t,r){Xs[Js++]=fl,Xs[Js++]=hl,hl=t,fl=r}function Sd(t,r,o){Bn[$n++]=Yr,Bn[$n++]=Xr,Bn[$n++]=ls,ls=t;var c=Yr;t=Xr;var f=32-dn(c)-1;c&=~(1<<f),o+=1;var m=32-dn(r)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,Yr=1<<32-dn(r)+f|o<<f|c,Xr=m+t}else Yr=1<<m|o<<f|c,Xr=t}function uc(t){t.return!==null&&(us(t,1),Sd(t,1,0))}function cc(t){for(;t===hl;)hl=Xs[--Js],Xs[Js]=null,fl=Xs[--Js],Xs[Js]=null;for(;t===ls;)ls=Bn[--$n],Bn[$n]=null,Xr=Bn[--$n],Bn[$n]=null,Yr=Bn[--$n],Bn[$n]=null}var Ln=null,Mn=null,vt=!1,ur=null;function Id(t,r){var o=Kn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Rd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ln=t,Mn=wi(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ln=t,Mn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=ls!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Kn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ln=t,Mn=null,!0):!1;default:return!1}}function hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fc(t){if(vt){var r=Mn;if(r){var o=r;if(!Rd(t,r)){if(hc(t))throw Error(n(418));r=wi(o.nextSibling);var c=Ln;r&&Rd(t,r)?Id(c,o):(t.flags=t.flags&-4097|2,vt=!1,Ln=t)}}else{if(hc(t))throw Error(n(418));t.flags=t.flags&-4097|2,vt=!1,Ln=t}}}function Ad(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function dl(t){if(t!==Ln)return!1;if(!vt)return Ad(t),vt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!rc(t.type,t.memoizedProps)),r&&(r=Mn)){if(hc(t))throw Cd(),Error(n(418));for(;r;)Id(t,r),r=wi(r.nextSibling)}if(Ad(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Mn=wi(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Mn=null}}else Mn=Ln?wi(t.stateNode.nextSibling):null;return!0}function Cd(){for(var t=Mn;t;)t=wi(t.nextSibling)}function Zs(){Mn=Ln=null,vt=!1}function dc(t){ur===null?ur=[t]:ur.push(t)}var jv=ue.ReactCurrentBatchConfig;function Qo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var A=f.refs;_===null?delete A[m]:A[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Pd(t){var r=t._init;return r(t._payload)}function kd(t){function r(j,L){if(t){var B=j.deletions;B===null?(j.deletions=[L],j.flags|=16):B.push(L)}}function o(j,L){if(!t)return null;for(;L!==null;)r(j,L),L=L.sibling;return null}function c(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function f(j,L){return j=Ni(j,L),j.index=0,j.sibling=null,j}function m(j,L,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<L?(j.flags|=2,L):B):(j.flags|=2,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=2),j}function A(j,L,B,ie){return L===null||L.tag!==6?(L=ih(B,j.mode,ie),L.return=j,L):(L=f(L,B),L.return=j,L)}function D(j,L,B,ie){var Ie=B.type;return Ie===k?ee(j,L,B.props.children,ie,B.key):L!==null&&(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Rt&&Pd(Ie)===L.type)?(ie=f(L,B.props),ie.ref=Qo(j,L,B),ie.return=j,ie):(ie=bl(B.type,B.key,B.props,null,j.mode,ie),ie.ref=Qo(j,L,B),ie.return=j,ie)}function q(j,L,B,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=sh(B,j.mode,ie),L.return=j,L):(L=f(L,B.children||[]),L.return=j,L)}function ee(j,L,B,ie,Ie){return L===null||L.tag!==7?(L=ys(B,j.mode,ie,Ie),L.return=j,L):(L=f(L,B),L.return=j,L)}function te(j,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return L=ih(""+L,j.mode,B),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return B=bl(L.type,L.key,L.props,null,j.mode,B),B.ref=Qo(j,null,L),B.return=j,B;case ce:return L=sh(L,j.mode,B),L.return=j,L;case Rt:var ie=L._init;return te(j,ie(L._payload),B)}if(Gn(L)||Te(L))return L=ys(L,j.mode,B,null),L.return=j,L;pl(j,L)}return null}function Z(j,L,B,ie){var Ie=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ie!==null?null:A(j,L,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===Ie?D(j,L,B,ie):null;case ce:return B.key===Ie?q(j,L,B,ie):null;case Rt:return Ie=B._init,Z(j,L,Ie(B._payload),ie)}if(Gn(B)||Te(B))return Ie!==null?null:ee(j,L,B,ie,null);pl(j,B)}return null}function pe(j,L,B,ie,Ie){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return j=j.get(B)||null,A(L,j,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return j=j.get(ie.key===null?B:ie.key)||null,D(L,j,ie,Ie);case ce:return j=j.get(ie.key===null?B:ie.key)||null,q(L,j,ie,Ie);case Rt:var Ce=ie._init;return pe(j,L,B,Ce(ie._payload),Ie)}if(Gn(ie)||Te(ie))return j=j.get(B)||null,ee(L,j,ie,Ie,null);pl(L,ie)}return null}function we(j,L,B,ie){for(var Ie=null,Ce=null,Pe=L,xe=L=0,zt=null;Pe!==null&&xe<B.length;xe++){Pe.index>xe?(zt=Pe,Pe=null):zt=Pe.sibling;var nt=Z(j,Pe,B[xe],ie);if(nt===null){Pe===null&&(Pe=zt);break}t&&Pe&&nt.alternate===null&&r(j,Pe),L=m(nt,L,xe),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt,Pe=zt}if(xe===B.length)return o(j,Pe),vt&&us(j,xe),Ie;if(Pe===null){for(;xe<B.length;xe++)Pe=te(j,B[xe],ie),Pe!==null&&(L=m(Pe,L,xe),Ce===null?Ie=Pe:Ce.sibling=Pe,Ce=Pe);return vt&&us(j,xe),Ie}for(Pe=c(j,Pe);xe<B.length;xe++)zt=pe(Pe,j,xe,B[xe],ie),zt!==null&&(t&&zt.alternate!==null&&Pe.delete(zt.key===null?xe:zt.key),L=m(zt,L,xe),Ce===null?Ie=zt:Ce.sibling=zt,Ce=zt);return t&&Pe.forEach(function(Vi){return r(j,Vi)}),vt&&us(j,xe),Ie}function Se(j,L,B,ie){var Ie=Te(B);if(typeof Ie!="function")throw Error(n(150));if(B=Ie.call(B),B==null)throw Error(n(151));for(var Ce=Ie=null,Pe=L,xe=L=0,zt=null,nt=B.next();Pe!==null&&!nt.done;xe++,nt=B.next()){Pe.index>xe?(zt=Pe,Pe=null):zt=Pe.sibling;var Vi=Z(j,Pe,nt.value,ie);if(Vi===null){Pe===null&&(Pe=zt);break}t&&Pe&&Vi.alternate===null&&r(j,Pe),L=m(Vi,L,xe),Ce===null?Ie=Vi:Ce.sibling=Vi,Ce=Vi,Pe=zt}if(nt.done)return o(j,Pe),vt&&us(j,xe),Ie;if(Pe===null){for(;!nt.done;xe++,nt=B.next())nt=te(j,nt.value,ie),nt!==null&&(L=m(nt,L,xe),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt);return vt&&us(j,xe),Ie}for(Pe=c(j,Pe);!nt.done;xe++,nt=B.next())nt=pe(Pe,j,xe,nt.value,ie),nt!==null&&(t&&nt.alternate!==null&&Pe.delete(nt.key===null?xe:nt.key),L=m(nt,L,xe),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt);return t&&Pe.forEach(function(__){return r(j,__)}),vt&&us(j,xe),Ie}function At(j,L,B,ie){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var Ie=B.key,Ce=L;Ce!==null;){if(Ce.key===Ie){if(Ie=B.type,Ie===k){if(Ce.tag===7){o(j,Ce.sibling),L=f(Ce,B.props.children),L.return=j,j=L;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Rt&&Pd(Ie)===Ce.type){o(j,Ce.sibling),L=f(Ce,B.props),L.ref=Qo(j,Ce,B),L.return=j,j=L;break e}o(j,Ce);break}else r(j,Ce);Ce=Ce.sibling}B.type===k?(L=ys(B.props.children,j.mode,ie,B.key),L.return=j,j=L):(ie=bl(B.type,B.key,B.props,null,j.mode,ie),ie.ref=Qo(j,L,B),ie.return=j,j=ie)}return _(j);case ce:e:{for(Ce=B.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){o(j,L.sibling),L=f(L,B.children||[]),L.return=j,j=L;break e}else{o(j,L);break}else r(j,L);L=L.sibling}L=sh(B,j.mode,ie),L.return=j,j=L}return _(j);case Rt:return Ce=B._init,At(j,L,Ce(B._payload),ie)}if(Gn(B))return we(j,L,B,ie);if(Te(B))return Se(j,L,B,ie);pl(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,L!==null&&L.tag===6?(o(j,L.sibling),L=f(L,B),L.return=j,j=L):(o(j,L),L=ih(B,j.mode,ie),L.return=j,j=L),_(j)):o(j,L)}return At}var eo=kd(!0),xd=kd(!1),ml=Ti(null),gl=null,to=null,pc=null;function mc(){pc=to=gl=null}function gc(t){var r=ml.current;mt(ml),t._currentValue=r}function yc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function no(t,r){gl=t,pc=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(In=!0),t.firstContext=null)}function Hn(t){var r=t._currentValue;if(pc!==t)if(t={context:t,memoizedValue:r,next:null},to===null){if(gl===null)throw Error(n(308));to=t,gl.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return r}var cs=null;function vc(t){cs===null?cs=[t]:cs.push(t)}function Dd(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,vc(r)):(o.next=f.next,f.next=o),r.interleaved=o,Jr(t,c)}function Jr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ri=!1;function _c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ai(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,et&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,Jr(t,o)}return f=c.interleaved,f===null?(r.next=r,vc(c)):(r.next=f.next,f.next=r),c.interleaved=r,Jr(t,o)}function yl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,mi(t,o)}}function Vd(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function vl(t,r,o,c){var f=t.updateQueue;Ri=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,q=D.next;D.next=null,_===null?m=q:_.next=q,_=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==_&&(A===null?ee.firstBaseUpdate=q:A.next=q,ee.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;_=0,ee=q=D=null,A=m;do{var Z=A.lane,pe=A.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=t,Se=A;switch(Z=r,pe=o,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){te=we.call(pe,te,Z);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,Z=typeof we=="function"?we.call(pe,te,Z):we,Z==null)break e;te=he({},te,Z);break e;case 2:Ri=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,Z=f.effects,Z===null?f.effects=[A]:Z.push(A))}else pe={eventTime:pe,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(q=ee=pe,D=te):ee=ee.next=pe,_|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=te),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);ds|=_,t.lanes=_,t.memoizedState=te}}function Ld(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Go={},Pr=Ti(Go),Yo=Ti(Go),Xo=Ti(Go);function hs(t){if(t===Go)throw Error(n(174));return t}function Ec(t,r){switch(ct(Xo,r),ct(Yo,t),ct(Pr,Go),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Tt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Tt(r,t)}mt(Pr),ct(Pr,r)}function ro(){mt(Pr),mt(Yo),mt(Xo)}function Md(t){hs(Xo.current);var r=hs(Pr.current),o=Tt(r,t.type);r!==o&&(ct(Yo,t),ct(Pr,o))}function wc(t){Yo.current===t&&(mt(Pr),mt(Yo))}var _t=Ti(0);function _l(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tc=[];function Sc(){for(var t=0;t<Tc.length;t++)Tc[t]._workInProgressVersionPrimary=null;Tc.length=0}var El=ue.ReactCurrentDispatcher,Ic=ue.ReactCurrentBatchConfig,fs=0,Et=null,Lt=null,bt=null,wl=!1,Jo=!1,Zo=0,Bv=0;function sn(){throw Error(n(321))}function Rc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!lr(t[o],r[o]))return!1;return!0}function Ac(t,r,o,c,f,m){if(fs=m,Et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?Wv:Kv,t=o(c,f),Jo){m=0;do{if(Jo=!1,Zo=0,25<=m)throw Error(n(301));m+=1,bt=Lt=null,r.updateQueue=null,El.current=Qv,t=o(c,f)}while(Jo)}if(El.current=Il,r=Lt!==null&&Lt.next!==null,fs=0,bt=Lt=Et=null,wl=!1,r)throw Error(n(300));return t}function Cc(){var t=Zo!==0;return Zo=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Et.memoizedState=bt=t:bt=bt.next=t,bt}function qn(){if(Lt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var r=bt===null?Et.memoizedState:bt.next;if(r!==null)bt=r,Lt=t;else{if(t===null)throw Error(n(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},bt===null?Et.memoizedState=bt=t:bt=bt.next=t}return bt}function ea(t,r){return typeof r=="function"?r(t):r}function Pc(t){var r=qn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=Lt,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var A=_=null,D=null,q=m;do{var ee=q.lane;if((fs&ee)===ee)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:t(c,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(A=D=te,_=c):D=D.next=te,Et.lanes|=ee,ds|=ee}q=q.next}while(q!==null&&q!==m);D===null?_=c:D.next=A,lr(c,r.memoizedState)||(In=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=D,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,Et.lanes|=m,ds|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function kc(t){var r=qn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);lr(m,r.memoizedState)||(In=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function Od(){}function Fd(t,r){var o=Et,c=qn(),f=r(),m=!lr(c.memoizedState,f);if(m&&(c.memoizedState=f,In=!0),c=c.queue,xc(zd.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||bt!==null&&bt.memoizedState.tag&1){if(o.flags|=2048,ta(9,Ud.bind(null,o,c,f,r),void 0,null),Ut===null)throw Error(n(349));fs&30||bd(o,r,f)}return f}function bd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Et.updateQueue,r===null?(r={lastEffect:null,stores:null},Et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ud(t,r,o,c){r.value=o,r.getSnapshot=c,jd(r)&&Bd(t)}function zd(t,r,o){return o(function(){jd(r)&&Bd(t)})}function jd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!lr(t,o)}catch{return!0}}function Bd(t){var r=Jr(t,1);r!==null&&dr(r,t,1,-1)}function $d(t){var r=kr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},r.queue=t,t=t.dispatch=qv.bind(null,Et,t),[r.memoizedState,t]}function ta(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Et.updateQueue,r===null?(r={lastEffect:null,stores:null},Et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Hd(){return qn().memoizedState}function Tl(t,r,o,c){var f=kr();Et.flags|=t,f.memoizedState=ta(1|r,o,void 0,c===void 0?null:c)}function Sl(t,r,o,c){var f=qn();c=c===void 0?null:c;var m=void 0;if(Lt!==null){var _=Lt.memoizedState;if(m=_.destroy,c!==null&&Rc(c,_.deps)){f.memoizedState=ta(r,o,m,c);return}}Et.flags|=t,f.memoizedState=ta(1|r,o,m,c)}function qd(t,r){return Tl(8390656,8,t,r)}function xc(t,r){return Sl(2048,8,t,r)}function Wd(t,r){return Sl(4,2,t,r)}function Kd(t,r){return Sl(4,4,t,r)}function Qd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Gd(t,r,o){return o=o!=null?o.concat([t]):null,Sl(4,4,Qd.bind(null,r,t),o)}function Dc(){}function Yd(t,r){var o=qn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Rc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Xd(t,r){var o=qn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Rc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Jd(t,r,o){return fs&21?(lr(o,r)||(o=ts(),Et.lanes|=o,ds|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=o)}function $v(t,r){var o=je;je=o!==0&&4>o?o:4,t(!0);var c=Ic.transition;Ic.transition={};try{t(!1),r()}finally{je=o,Ic.transition=c}}function Zd(){return qn().memoizedState}function Hv(t,r,o){var c=xi(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},ep(t))tp(r,o);else if(o=Dd(t,r,o,c),o!==null){var f=gn();dr(o,t,c,f),np(o,r,c)}}function qv(t,r,o){var c=xi(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(ep(t))tp(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,A=m(_,o);if(f.hasEagerState=!0,f.eagerState=A,lr(A,_)){var D=r.interleaved;D===null?(f.next=f,vc(r)):(f.next=D.next,D.next=f),r.interleaved=f;return}}catch{}finally{}o=Dd(t,r,f,c),o!==null&&(f=gn(),dr(o,t,c,f),np(o,r,c))}}function ep(t){var r=t.alternate;return t===Et||r!==null&&r===Et}function tp(t,r){Jo=wl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function np(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,mi(t,o)}}var Il={readContext:Hn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},Wv={readContext:Hn,useCallback:function(t,r){return kr().memoizedState=[t,r===void 0?null:r],t},useContext:Hn,useEffect:qd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4194308,4,Qd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Tl(4,2,t,r)},useMemo:function(t,r){var o=kr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=kr();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=Hv.bind(null,Et,t),[c.memoizedState,t]},useRef:function(t){var r=kr();return t={current:t},r.memoizedState=t},useState:$d,useDebugValue:Dc,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=$d(!1),r=t[0];return t=$v.bind(null,t[1]),kr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Et,f=kr();if(vt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ut===null)throw Error(n(349));fs&30||bd(c,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,qd(zd.bind(null,c,m,t),[t]),c.flags|=2048,ta(9,Ud.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=kr(),r=Ut.identifierPrefix;if(vt){var o=Xr,c=Yr;o=(c&~(1<<32-dn(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Zo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Bv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Kv={readContext:Hn,useCallback:Yd,useContext:Hn,useEffect:xc,useImperativeHandle:Gd,useInsertionEffect:Wd,useLayoutEffect:Kd,useMemo:Xd,useReducer:Pc,useRef:Hd,useState:function(){return Pc(ea)},useDebugValue:Dc,useDeferredValue:function(t){var r=qn();return Jd(r,Lt.memoizedState,t)},useTransition:function(){var t=Pc(ea)[0],r=qn().memoizedState;return[t,r]},useMutableSource:Od,useSyncExternalStore:Fd,useId:Zd,unstable_isNewReconciler:!1},Qv={readContext:Hn,useCallback:Yd,useContext:Hn,useEffect:xc,useImperativeHandle:Gd,useInsertionEffect:Wd,useLayoutEffect:Kd,useMemo:Xd,useReducer:kc,useRef:Hd,useState:function(){return kc(ea)},useDebugValue:Dc,useDeferredValue:function(t){var r=qn();return Lt===null?r.memoizedState=t:Jd(r,Lt.memoizedState,t)},useTransition:function(){var t=kc(ea)[0],r=qn().memoizedState;return[t,r]},useMutableSource:Od,useSyncExternalStore:Fd,useId:Zd,unstable_isNewReconciler:!1};function cr(t,r){if(t&&t.defaultProps){r=he({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Nc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:he({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Rl={isMounted:function(t){return(t=t._reactInternals)?ze(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=gn(),f=xi(t),m=Zr(c,f);m.payload=r,o!=null&&(m.callback=o),r=Ai(t,m,f),r!==null&&(dr(r,t,f,c),yl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=gn(),f=xi(t),m=Zr(c,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Ai(t,m,f),r!==null&&(dr(r,t,f,c),yl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=gn(),c=xi(t),f=Zr(o,c);f.tag=2,r!=null&&(f.callback=r),r=Ai(t,f,c),r!==null&&(dr(r,t,c,o),yl(r,t,c))}};function rp(t,r,o,c,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!jo(o,c)||!jo(f,m):!0}function ip(t,r,o){var c=!1,f=Si,m=r.contextType;return typeof m=="object"&&m!==null?m=Hn(m):(f=Sn(r)?as:rn.current,c=r.contextTypes,m=(c=c!=null)?Ys(t,f):Si),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function sp(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Rl.enqueueReplaceState(r,r.state,null)}function Vc(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},_c(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=Hn(m):(m=Sn(r)?as:rn.current,f.context=Ys(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Nc(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Rl.enqueueReplaceState(f,f.state,null),vl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,r){try{var o="",c=r;do o+=Ne(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function Lc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Mc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Gv=typeof WeakMap=="function"?WeakMap:Map;function op(t,r,o){o=Zr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Nl||(Nl=!0,Yc=c),Mc(t,r)},o}function ap(t,r,o){o=Zr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Mc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Mc(t,r),typeof c!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function lp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Gv;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=u_.bind(null,t,r,o),r.then(t,t))}function up(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function cp(t,r,o,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Zr(-1,1),r.tag=2,Ai(o,r,1))),o.lanes|=1),t)}var Yv=ue.ReactCurrentOwner,In=!1;function mn(t,r,o,c){r.child=t===null?xd(r,null,o,c):eo(r,t.child,o,c)}function hp(t,r,o,c,f){o=o.render;var m=r.ref;return no(r,f),c=Ac(t,r,o,c,m,f),o=Cc(),t!==null&&!In?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ei(t,r,f)):(vt&&o&&uc(r),r.flags|=1,mn(t,r,c,f),r.child)}function fp(t,r,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!rh(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,dp(t,r,m,c,f)):(t=bl(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:jo,o(_,c)&&t.ref===r.ref)return ei(t,r,f)}return r.flags|=1,t=Ni(m,c),t.ref=r.ref,t.return=r,r.child=t}function dp(t,r,o,c,f){if(t!==null){var m=t.memoizedProps;if(jo(m,c)&&t.ref===r.ref)if(In=!1,r.pendingProps=c=m,(t.lanes&f)!==0)t.flags&131072&&(In=!0);else return r.lanes=t.lanes,ei(t,r,f)}return Oc(t,r,o,c,f)}function pp(t,r,o){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(oo,On),On|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ct(oo,On),On|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,ct(oo,On),On|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,ct(oo,On),On|=c;return mn(t,r,f,o),r.child}function mp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Oc(t,r,o,c,f){var m=Sn(o)?as:rn.current;return m=Ys(r,m),no(r,f),o=Ac(t,r,o,c,m,f),c=Cc(),t!==null&&!In?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ei(t,r,f)):(vt&&c&&uc(r),r.flags|=1,mn(t,r,o,f),r.child)}function gp(t,r,o,c,f){if(Sn(o)){var m=!0;ul(r)}else m=!1;if(no(r,f),r.stateNode===null)Cl(t,r),ip(r,o,c),Vc(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,A=r.memoizedProps;_.props=A;var D=_.context,q=o.contextType;typeof q=="object"&&q!==null?q=Hn(q):(q=Sn(o)?as:rn.current,q=Ys(r,q));var ee=o.getDerivedStateFromProps,te=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||D!==q)&&sp(r,_,c,q),Ri=!1;var Z=r.memoizedState;_.state=Z,vl(r,c,_,f),D=r.memoizedState,A!==c||Z!==D||Tn.current||Ri?(typeof ee=="function"&&(Nc(r,o,ee,c),D=r.memoizedState),(A=Ri||rp(r,o,A,c,Z,D,q))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=D),_.props=c,_.state=D,_.context=q,c=A):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Nd(t,r),A=r.memoizedProps,q=r.type===r.elementType?A:cr(r.type,A),_.props=q,te=r.pendingProps,Z=_.context,D=o.contextType,typeof D=="object"&&D!==null?D=Hn(D):(D=Sn(o)?as:rn.current,D=Ys(r,D));var pe=o.getDerivedStateFromProps;(ee=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==te||Z!==D)&&sp(r,_,c,D),Ri=!1,Z=r.memoizedState,_.state=Z,vl(r,c,_,f);var we=r.memoizedState;A!==te||Z!==we||Tn.current||Ri?(typeof pe=="function"&&(Nc(r,o,pe,c),we=r.memoizedState),(q=Ri||rp(r,o,q,c,Z,we,D)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,we,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,we,D)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=we),_.props=c,_.state=we,_.context=D,c=q):(typeof _.componentDidUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),c=!1)}return Fc(t,r,o,c,m,f)}function Fc(t,r,o,c,f,m){mp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&wd(r,o,!1),ei(t,r,m);c=r.stateNode,Yv.current=r;var A=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=eo(r,t.child,null,m),r.child=eo(r,null,A,m)):mn(t,r,A,m),r.memoizedState=c.state,f&&wd(r,o,!0),r.child}function yp(t){var r=t.stateNode;r.pendingContext?_d(t,r.pendingContext,r.pendingContext!==r.context):r.context&&_d(t,r.context,!1),Ec(t,r.containerInfo)}function vp(t,r,o,c,f){return Zs(),dc(f),r.flags|=256,mn(t,r,o,c),r.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function Uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _p(t,r,o){var c=r.pendingProps,f=_t.current,m=!1,_=(r.flags&128)!==0,A;if((A=_)||(A=t!==null&&t.memoizedState===null?!1:(f&2)!==0),A?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ct(_t,f&1),t===null)return fc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Ul(_,c,0,null),t=ys(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Uc(o),r.memoizedState=bc,t):zc(r,_));if(f=t.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return Xv(t,r,_,c,A,f,o);if(m){m=c.fallback,_=r.mode,f=t.child,A=f.sibling;var D={mode:"hidden",children:c.children};return!(_&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=D,r.deletions=null):(c=Ni(f,D),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?m=Ni(A,m):(m=ys(m,_,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?Uc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=bc,c}return m=t.child,t=m.sibling,c=Ni(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function zc(t,r){return r=Ul({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,o,c){return c!==null&&dc(c),eo(r,t.child,null,o),t=zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Xv(t,r,o,c,f,m,_){if(o)return r.flags&256?(r.flags&=-257,c=Lc(Error(n(422))),Al(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=Ul({mode:"visible",children:c.children},f,0,null),m=ys(m,f,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&eo(r,t.child,null,_),r.child.memoizedState=Uc(_),r.memoizedState=bc,m);if(!(r.mode&1))return Al(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(n(419)),c=Lc(m,c,void 0),Al(t,r,_,c)}if(A=(_&t.childLanes)!==0,In||A){if(c=Ut,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Jr(t,f),dr(c,t,f,-1))}return nh(),c=Lc(Error(n(421))),Al(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=c_.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,Mn=wi(f.nextSibling),Ln=r,vt=!0,ur=null,t!==null&&(Bn[$n++]=Yr,Bn[$n++]=Xr,Bn[$n++]=ls,Yr=t.id,Xr=t.overflow,ls=r),r=zc(r,c.children),r.flags|=4096,r)}function Ep(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),yc(t.return,r,o)}function jc(t,r,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function wp(t,r,o){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(mn(t,r,c.children,o),c=_t.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,o,r);else if(t.tag===19)Ep(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ct(_t,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&_l(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),jc(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&_l(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}jc(r,!0,o,null,m);break;case"together":jc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ei(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ds|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ni(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ni(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Jv(t,r,o){switch(r.tag){case 3:yp(r),Zs();break;case 5:Md(r);break;case 1:Sn(r.type)&&ul(r);break;case 4:Ec(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;ct(ml,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(ct(_t,_t.current&1),r.flags|=128,null):o&r.child.childLanes?_p(t,r,o):(ct(_t,_t.current&1),t=ei(t,r,o),t!==null?t.sibling:null);ct(_t,_t.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return wp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(_t,_t.current),c)break;return null;case 22:case 23:return r.lanes=0,pp(t,r,o)}return ei(t,r,o)}var Tp,Bc,Sp,Ip;Tp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Bc=function(){},Sp=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,hs(Pr.current);var m=null;switch(o){case"input":f=Fr(t,f),c=Fr(t,c),m=[];break;case"select":f=he({},f,{value:void 0}),c=he({},c,{value:void 0}),m=[];break;case"textarea":f=Yn(t,f),c=Yn(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=ol)}Er(o,c);var _;o=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(_ in A)A.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?m||(m=[]):(m=m||[]).push(q,null));for(q in c){var D=c[q];if(A=f!=null?f[q]:void 0,c.hasOwnProperty(q)&&D!==A&&(D!=null||A!=null))if(q==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in D)D.hasOwnProperty(_)&&A[_]!==D[_]&&(o||(o={}),o[_]=D[_])}else o||(m||(m=[]),m.push(q,o)),o=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(m=m||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(a.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&pt("scroll",t),m||A===D||(m=[])):(m=m||[]).push(q,D))}o&&(m=m||[]).push("style",o);var q=m;(r.updateQueue=q)&&(r.flags|=4)}},Ip=function(t,r,o,c){o!==c&&(r.flags|=4)};function na(t,r){if(!vt)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function on(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Zv(t,r,o){var c=r.pendingProps;switch(cc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(r),null;case 1:return Sn(r.type)&&ll(),on(r),null;case 3:return c=r.stateNode,ro(),mt(Tn),mt(rn),Sc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(dl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ur!==null&&(Zc(ur),ur=null))),Bc(t,r),on(r),null;case 5:wc(r);var f=hs(Xo.current);if(o=r.type,t!==null&&r.stateNode!=null)Sp(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return on(r),null}if(t=hs(Pr.current),dl(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Cr]=r,c[Wo]=m,t=(r.mode&1)!==0,o){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(f=0;f<$o.length;f++)pt($o[f],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":si(c,m),pt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},pt("invalid",c);break;case"textarea":br(c,m),pt("invalid",c)}Er(o,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var A=m[_];_==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&sl(c.textContent,A,t),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&sl(c.textContent,A,t),f=["children",""+A]):a.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&pt("scroll",c)}switch(o){case"input":Un(c),Ps(c,m,!0);break;case"textarea":Un(c),yn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ol)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ot(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Cr]=r,t[Wo]=c,Tp(t,r,!1,!1),r.stateNode=t;e:{switch(_=ci(o,c),o){case"dialog":pt("cancel",t),pt("close",t),f=c;break;case"iframe":case"object":case"embed":pt("load",t),f=c;break;case"video":case"audio":for(f=0;f<$o.length;f++)pt($o[f],t);f=c;break;case"source":pt("error",t),f=c;break;case"img":case"image":case"link":pt("error",t),pt("load",t),f=c;break;case"details":pt("toggle",t),f=c;break;case"input":si(t,c),f=Fr(t,c),pt("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=he({},c,{value:void 0}),pt("invalid",t);break;case"textarea":br(t,c),f=Yn(t,c),pt("invalid",t);break;default:f=c}Er(o,f),A=f;for(m in A)if(A.hasOwnProperty(m)){var D=A[m];m==="style"?Ji(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Xi(t,D)):m==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&Ht(t,D):typeof D=="number"&&Ht(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?D!=null&&m==="onScroll"&&pt("scroll",t):D!=null&&re(t,m,D,_))}switch(o){case"input":Un(t),Ps(t,c,!1);break;case"textarea":Un(t),yn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Je(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?$t(t,!!c.multiple,m,!1):c.defaultValue!=null&&$t(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ol)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return on(r),null;case 6:if(t&&r.stateNode!=null)Ip(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=hs(Xo.current),hs(Pr.current),dl(r)){if(c=r.stateNode,o=r.memoizedProps,c[Cr]=r,(m=c.nodeValue!==o)&&(t=Ln,t!==null))switch(t.tag){case 3:sl(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Cr]=r,r.stateNode=c}return on(r),null;case 13:if(mt(_t),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Mn!==null&&r.mode&1&&!(r.flags&128))Cd(),Zs(),r.flags|=98560,m=!1;else if(m=dl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Cr]=r}else Zs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;on(r),m=!1}else ur!==null&&(Zc(ur),ur=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||_t.current&1?Mt===0&&(Mt=3):nh())),r.updateQueue!==null&&(r.flags|=4),on(r),null);case 4:return ro(),Bc(t,r),t===null&&Ho(r.stateNode.containerInfo),on(r),null;case 10:return gc(r.type._context),on(r),null;case 17:return Sn(r.type)&&ll(),on(r),null;case 19:if(mt(_t),m=r.memoizedState,m===null)return on(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)na(m,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=_l(t),_!==null){for(r.flags|=128,na(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ct(_t,_t.current&1|2),r.child}t=t.sibling}m.tail!==null&&st()>ao&&(r.flags|=128,c=!0,na(m,!1),r.lanes=4194304)}else{if(!c)if(t=_l(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),na(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!vt)return on(r),null}else 2*st()-m.renderingStartTime>ao&&o!==1073741824&&(r.flags|=128,c=!0,na(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=st(),r.sibling=null,o=_t.current,ct(_t,c?o&1|2:o&1),r):(on(r),null);case 22:case 23:return th(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?On&1073741824&&(on(r),r.subtreeFlags&6&&(r.flags|=8192)):on(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function e_(t,r){switch(cc(r),r.tag){case 1:return Sn(r.type)&&ll(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ro(),mt(Tn),mt(rn),Sc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return wc(r),null;case 13:if(mt(_t),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return mt(_t),null;case 4:return ro(),null;case 10:return gc(r.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var Pl=!1,an=!1,t_=typeof WeakSet=="function"?WeakSet:Set,ve=null;function so(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){It(t,r,c)}else o.current=null}function $c(t,r,o){try{o()}catch(c){It(t,r,c)}}var Rp=!1;function n_(t,r){if(tc=vi,t=rd(),Ku(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,A=-1,D=-1,q=0,ee=0,te=t,Z=null;t:for(;;){for(var pe;te!==o||f!==0&&te.nodeType!==3||(A=_+f),te!==m||c!==0&&te.nodeType!==3||(D=_+c),te.nodeType===3&&(_+=te.nodeValue.length),(pe=te.firstChild)!==null;)Z=te,te=pe;for(;;){if(te===t)break t;if(Z===o&&++q===f&&(A=_),Z===m&&++ee===c&&(D=_),(pe=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=pe}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(nc={focusedElem:t,selectionRange:o},vi=!1,ve=r;ve!==null;)if(r=ve,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ve=t;else for(;ve!==null;){r=ve;try{var we=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,At=we.memoizedState,j=r.stateNode,L=j.getSnapshotBeforeUpdate(r.elementType===r.type?Se:cr(r.type,Se),At);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){It(r,r.return,ie)}if(t=r.sibling,t!==null){t.return=r.return,ve=t;break}ve=r.return}return we=Rp,Rp=!1,we}function ra(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&$c(r,o,m)}f=f.next}while(f!==c)}}function kl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Hc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Ap(t){var r=t.alternate;r!==null&&(t.alternate=null,Ap(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Cr],delete r[Wo],delete r[oc],delete r[bv],delete r[Uv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cp(t){return t.tag===5||t.tag===3||t.tag===4}function Pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ol));else if(c!==4&&(t=t.child,t!==null))for(qc(t,r,o),t=t.sibling;t!==null;)qc(t,r,o),t=t.sibling}function Wc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Wc(t,r,o),t=t.sibling;t!==null;)Wc(t,r,o),t=t.sibling}var Gt=null,hr=!1;function Ci(t,r,o){for(o=o.child;o!==null;)kp(t,r,o),o=o.sibling}function kp(t,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(_n,o)}catch{}switch(o.tag){case 5:an||so(o,r);case 6:var c=Gt,f=hr;Gt=null,Ci(t,r,o),Gt=c,hr=f,Gt!==null&&(hr?(t=Gt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Gt.removeChild(o.stateNode));break;case 18:Gt!==null&&(hr?(t=Gt,o=o.stateNode,t.nodeType===8?sc(t.parentNode,o):t.nodeType===1&&sc(t,o),or(t)):sc(Gt,o.stateNode));break;case 4:c=Gt,f=hr,Gt=o.stateNode.containerInfo,hr=!0,Ci(t,r,o),Gt=c,hr=f;break;case 0:case 11:case 14:case 15:if(!an&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&$c(o,r,_),f=f.next}while(f!==c)}Ci(t,r,o);break;case 1:if(!an&&(so(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(A){It(o,r,A)}Ci(t,r,o);break;case 21:Ci(t,r,o);break;case 22:o.mode&1?(an=(c=an)||o.memoizedState!==null,Ci(t,r,o),an=c):Ci(t,r,o);break;default:Ci(t,r,o)}}function xp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new t_),r.forEach(function(c){var f=h_.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function fr(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 5:Gt=A.stateNode,hr=!1;break e;case 3:Gt=A.stateNode.containerInfo,hr=!0;break e;case 4:Gt=A.stateNode.containerInfo,hr=!0;break e}A=A.return}if(Gt===null)throw Error(n(160));kp(m,_,f),Gt=null,hr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(q){It(f,r,q)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Dp(r,t),r=r.sibling}function Dp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(r,t),xr(t),c&4){try{ra(3,t,t.return),kl(3,t)}catch(Se){It(t,t.return,Se)}try{ra(5,t,t.return)}catch(Se){It(t,t.return,Se)}}break;case 1:fr(r,t),xr(t),c&512&&o!==null&&so(o,o.return);break;case 5:if(fr(r,t),xr(t),c&512&&o!==null&&so(o,o.return),t.flags&32){var f=t.stateNode;try{Ht(f,"")}catch(Se){It(t,t.return,Se)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,A=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&oi(f,m),ci(A,_);var q=ci(A,m);for(_=0;_<D.length;_+=2){var ee=D[_],te=D[_+1];ee==="style"?Ji(f,te):ee==="dangerouslySetInnerHTML"?Xi(f,te):ee==="children"?Ht(f,te):re(f,ee,te,q)}switch(A){case"input":Yi(f,m);break;case"textarea":yr(f,m);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var pe=m.value;pe!=null?$t(f,!!m.multiple,pe,!1):Z!==!!m.multiple&&(m.defaultValue!=null?$t(f,!!m.multiple,m.defaultValue,!0):$t(f,!!m.multiple,m.multiple?[]:"",!1))}f[Wo]=m}catch(Se){It(t,t.return,Se)}}break;case 6:if(fr(r,t),xr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(Se){It(t,t.return,Se)}}break;case 3:if(fr(r,t),xr(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{or(r.containerInfo)}catch(Se){It(t,t.return,Se)}break;case 4:fr(r,t),xr(t);break;case 13:fr(r,t),xr(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Gc=st())),c&4&&xp(t);break;case 22:if(ee=o!==null&&o.memoizedState!==null,t.mode&1?(an=(q=an)||ee,fr(r,t),an=q):fr(r,t),xr(t),c&8192){if(q=t.memoizedState!==null,(t.stateNode.isHidden=q)&&!ee&&t.mode&1)for(ve=t,ee=t.child;ee!==null;){for(te=ve=ee;ve!==null;){switch(Z=ve,pe=Z.child,Z.tag){case 0:case 11:case 14:case 15:ra(4,Z,Z.return);break;case 1:so(Z,Z.return);var we=Z.stateNode;if(typeof we.componentWillUnmount=="function"){c=Z,o=Z.return;try{r=c,we.props=r.memoizedProps,we.state=r.memoizedState,we.componentWillUnmount()}catch(Se){It(c,o,Se)}}break;case 5:so(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Lp(te);continue}}pe!==null?(pe.return=Z,ve=pe):Lp(te)}ee=ee.sibling}e:for(ee=null,te=t;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,q?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=te.stateNode,D=te.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=li("display",_))}catch(Se){It(t,t.return,Se)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(Se){It(t,t.return,Se)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:fr(r,t),xr(t),c&4&&xp(t);break;case 21:break;default:fr(r,t),xr(t)}}function xr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Cp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Ht(f,""),c.flags&=-33);var m=Pp(t);Wc(t,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,A=Pp(t);qc(t,A,_);break;default:throw Error(n(161))}}catch(D){It(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function r_(t,r,o){ve=t,Np(t)}function Np(t,r,o){for(var c=(t.mode&1)!==0;ve!==null;){var f=ve,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Pl;if(!_){var A=f.alternate,D=A!==null&&A.memoizedState!==null||an;A=Pl;var q=an;if(Pl=_,(an=D)&&!q)for(ve=f;ve!==null;)_=ve,D=_.child,_.tag===22&&_.memoizedState!==null?Mp(f):D!==null?(D.return=_,ve=D):Mp(f);for(;m!==null;)ve=m,Np(m),m=m.sibling;ve=f,Pl=A,an=q}Vp(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ve=m):Vp(t)}}function Vp(t){for(;ve!==null;){var r=ve;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:an||kl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!an)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:cr(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Ld(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Ld(r,_,o)}break;case 5:var A=r.stateNode;if(o===null&&r.flags&4){o=A;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var q=r.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&or(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}an||r.flags&512&&Hc(r)}catch(Z){It(r,r.return,Z)}}if(r===t){ve=null;break}if(o=r.sibling,o!==null){o.return=r.return,ve=o;break}ve=r.return}}function Lp(t){for(;ve!==null;){var r=ve;if(r===t){ve=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ve=o;break}ve=r.return}}function Mp(t){for(;ve!==null;){var r=ve;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{kl(4,r)}catch(D){It(r,o,D)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(D){It(r,f,D)}}var m=r.return;try{Hc(r)}catch(D){It(r,m,D)}break;case 5:var _=r.return;try{Hc(r)}catch(D){It(r,_,D)}}}catch(D){It(r,r.return,D)}if(r===t){ve=null;break}var A=r.sibling;if(A!==null){A.return=r.return,ve=A;break}ve=r.return}}var i_=Math.ceil,xl=ue.ReactCurrentDispatcher,Kc=ue.ReactCurrentOwner,Wn=ue.ReactCurrentBatchConfig,et=0,Ut=null,xt=null,Yt=0,On=0,oo=Ti(0),Mt=0,ia=null,ds=0,Dl=0,Qc=0,sa=null,Rn=null,Gc=0,ao=1/0,ti=null,Nl=!1,Yc=null,Pi=null,Vl=!1,ki=null,Ll=0,oa=0,Xc=null,Ml=-1,Ol=0;function gn(){return et&6?st():Ml!==-1?Ml:Ml=st()}function xi(t){return t.mode&1?et&2&&Yt!==0?Yt&-Yt:jv.transition!==null?(Ol===0&&(Ol=ts()),Ol):(t=je,t!==0||(t=window.event,t=t===void 0?16:Lo(t.type)),t):1}function dr(t,r,o,c){if(50<oa)throw oa=0,Xc=null,Error(n(185));pi(t,o,c),(!(et&2)||t!==Ut)&&(t===Ut&&(!(et&2)&&(Dl|=o),Mt===4&&Di(t,Yt)),An(t,c),o===1&&et===0&&!(r.mode&1)&&(ao=st()+500,cl&&Ii()))}function An(t,r){var o=t.callbackNode;$r(t,r);var c=es(t,t===Ut?Yt:0);if(c===0)o!==null&&jr(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&jr(o),r===1)t.tag===0?zv(Fp.bind(null,t)):Td(Fp.bind(null,t)),Ov(function(){!(et&6)&&Ii()}),o=null;else{switch(gi(c)){case 1:o=qe;break;case 4:o=ft;break;case 16:o=Wt;break;case 536870912:o=dt;break;default:o=Wt}o=qp(o,Op.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Op(t,r){if(Ml=-1,Ol=0,et&6)throw Error(n(327));var o=t.callbackNode;if(lo()&&t.callbackNode!==o)return null;var c=es(t,t===Ut?Yt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Fl(t,c);else{r=c;var f=et;et|=2;var m=Up();(Ut!==t||Yt!==r)&&(ti=null,ao=st()+500,ms(t,r));do try{a_();break}catch(A){bp(t,A)}while(!0);mc(),xl.current=m,et=f,xt!==null?r=0:(Ut=null,Yt=0,r=Mt)}if(r!==0){if(r===2&&(f=Dn(t),f!==0&&(c=f,r=Jc(t,f))),r===1)throw o=ia,ms(t,0),Di(t,c),An(t,st()),o;if(r===6)Di(t,c);else{if(f=t.current.alternate,!(c&30)&&!s_(f)&&(r=Fl(t,c),r===2&&(m=Dn(t),m!==0&&(c=m,r=Jc(t,m))),r===1))throw o=ia,ms(t,0),Di(t,c),An(t,st()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:gs(t,Rn,ti);break;case 3:if(Di(t,c),(c&130023424)===c&&(r=Gc+500-st(),10<r)){if(es(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){gn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=ic(gs.bind(null,t,Rn,ti),r);break}gs(t,Rn,ti);break;case 4:if(Di(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-dn(c);m=1<<_,_=r[_],_>f&&(f=_),c&=~m}if(c=f,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*i_(c/1960))-c,10<c){t.timeoutHandle=ic(gs.bind(null,t,Rn,ti),c);break}gs(t,Rn,ti);break;case 5:gs(t,Rn,ti);break;default:throw Error(n(329))}}}return An(t,st()),t.callbackNode===o?Op.bind(null,t):null}function Jc(t,r){var o=sa;return t.current.memoizedState.isDehydrated&&(ms(t,r).flags|=256),t=Fl(t,r),t!==2&&(r=Rn,Rn=o,r!==null&&Zc(r)),t}function Zc(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function s_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!lr(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Di(t,r){for(r&=~Qc,r&=~Dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-dn(r),c=1<<o;t[o]=-1,r&=~c}}function Fp(t){if(et&6)throw Error(n(327));lo();var r=es(t,0);if(!(r&1))return An(t,st()),null;var o=Fl(t,r);if(t.tag!==0&&o===2){var c=Dn(t);c!==0&&(r=c,o=Jc(t,c))}if(o===1)throw o=ia,ms(t,0),Di(t,r),An(t,st()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,gs(t,Rn,ti),An(t,st()),null}function eh(t,r){var o=et;et|=1;try{return t(r)}finally{et=o,et===0&&(ao=st()+500,cl&&Ii())}}function ps(t){ki!==null&&ki.tag===0&&!(et&6)&&lo();var r=et;et|=1;var o=Wn.transition,c=je;try{if(Wn.transition=null,je=1,t)return t()}finally{je=c,Wn.transition=o,et=r,!(et&6)&&Ii()}}function th(){On=oo.current,mt(oo)}function ms(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Mv(o)),xt!==null)for(o=xt.return;o!==null;){var c=o;switch(cc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ll();break;case 3:ro(),mt(Tn),mt(rn),Sc();break;case 5:wc(c);break;case 4:ro();break;case 13:mt(_t);break;case 19:mt(_t);break;case 10:gc(c.type._context);break;case 22:case 23:th()}o=o.return}if(Ut=t,xt=t=Ni(t.current,null),Yt=On=r,Mt=0,ia=null,Qc=Dl=ds=0,Rn=sa=null,cs!==null){for(r=0;r<cs.length;r++)if(o=cs[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}o.pending=c}cs=null}return t}function bp(t,r){do{var o=xt;try{if(mc(),El.current=Il,wl){for(var c=Et.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}wl=!1}if(fs=0,bt=Lt=Et=null,Jo=!1,Zo=0,Kc.current=null,o===null||o.return===null){Mt=1,ia=r,xt=null;break}e:{var m=t,_=o.return,A=o,D=r;if(r=Yt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,ee=A,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var pe=up(_);if(pe!==null){pe.flags&=-257,cp(pe,_,A,m,r),pe.mode&1&&lp(m,q,r),r=pe,D=q;var we=r.updateQueue;if(we===null){var Se=new Set;Se.add(D),r.updateQueue=Se}else we.add(D);break e}else{if(!(r&1)){lp(m,q,r),nh();break e}D=Error(n(426))}}else if(vt&&A.mode&1){var At=up(_);if(At!==null){!(At.flags&65536)&&(At.flags|=256),cp(At,_,A,m,r),dc(io(D,A));break e}}m=D=io(D,A),Mt!==4&&(Mt=2),sa===null?sa=[m]:sa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var j=op(m,D,r);Vd(m,j);break e;case 1:A=D;var L=m.type,B=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Pi===null||!Pi.has(B)))){m.flags|=65536,r&=-r,m.lanes|=r;var ie=ap(m,A,r);Vd(m,ie);break e}}m=m.return}while(m!==null)}jp(o)}catch(Ie){r=Ie,xt===o&&o!==null&&(xt=o=o.return);continue}break}while(!0)}function Up(){var t=xl.current;return xl.current=Il,t===null?Il:t}function nh(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ut===null||!(ds&268435455)&&!(Dl&268435455)||Di(Ut,Yt)}function Fl(t,r){var o=et;et|=2;var c=Up();(Ut!==t||Yt!==r)&&(ti=null,ms(t,r));do try{o_();break}catch(f){bp(t,f)}while(!0);if(mc(),et=o,xl.current=c,xt!==null)throw Error(n(261));return Ut=null,Yt=0,Mt}function o_(){for(;xt!==null;)zp(xt)}function a_(){for(;xt!==null&&!wr();)zp(xt)}function zp(t){var r=Hp(t.alternate,t,On);t.memoizedProps=t.pendingProps,r===null?jp(t):xt=r,Kc.current=null}function jp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=e_(o,r),o!==null){o.flags&=32767,xt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,xt=null;return}}else if(o=Zv(o,r,On),o!==null){xt=o;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=t}while(r!==null);Mt===0&&(Mt=5)}function gs(t,r,o){var c=je,f=Wn.transition;try{Wn.transition=null,je=1,l_(t,r,o,c)}finally{Wn.transition=f,je=c}return null}function l_(t,r,o,c){do lo();while(ki!==null);if(et&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(lt(t,m),t===Ut&&(xt=Ut=null,Yt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Vl||(Vl=!0,qp(Wt,function(){return lo(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=Wn.transition,Wn.transition=null;var _=je;je=1;var A=et;et|=4,Kc.current=null,n_(t,o),Dp(o,t),Pv(nc),vi=!!tc,nc=tc=null,t.current=o,r_(o),tr(),et=A,je=_,Wn.transition=m}else t.current=o;if(Vl&&(Vl=!1,ki=t,Ll=f),m=t.pendingLanes,m===0&&(Pi=null),ks(o.stateNode),An(t,st()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Nl)throw Nl=!1,t=Yc,Yc=null,t;return Ll&1&&t.tag!==0&&lo(),m=t.pendingLanes,m&1?t===Xc?oa++:(oa=0,Xc=t):oa=0,Ii(),null}function lo(){if(ki!==null){var t=gi(Ll),r=Wn.transition,o=je;try{if(Wn.transition=null,je=16>t?16:t,ki===null)var c=!1;else{if(t=ki,ki=null,Ll=0,et&6)throw Error(n(331));var f=et;for(et|=4,ve=t.current;ve!==null;){var m=ve,_=m.child;if(ve.flags&16){var A=m.deletions;if(A!==null){for(var D=0;D<A.length;D++){var q=A[D];for(ve=q;ve!==null;){var ee=ve;switch(ee.tag){case 0:case 11:case 15:ra(8,ee,m)}var te=ee.child;if(te!==null)te.return=ee,ve=te;else for(;ve!==null;){ee=ve;var Z=ee.sibling,pe=ee.return;if(Ap(ee),ee===q){ve=null;break}if(Z!==null){Z.return=pe,ve=Z;break}ve=pe}}}var we=m.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var At=Se.sibling;Se.sibling=null,Se=At}while(Se!==null)}}ve=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ve=_;else e:for(;ve!==null;){if(m=ve,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ra(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,ve=j;break e}ve=m.return}}var L=t.current;for(ve=L;ve!==null;){_=ve;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,ve=B;else e:for(_=L;ve!==null;){if(A=ve,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:kl(9,A)}}catch(Ie){It(A,A.return,Ie)}if(A===_){ve=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,ve=ie;break e}ve=A.return}}if(et=f,Ii(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(_n,t)}catch{}c=!0}return c}finally{je=o,Wn.transition=r}}return!1}function Bp(t,r,o){r=io(o,r),r=op(t,r,1),t=Ai(t,r,1),r=gn(),t!==null&&(pi(t,1,r),An(t,r))}function It(t,r,o){if(t.tag===3)Bp(t,t,o);else for(;r!==null;){if(r.tag===3){Bp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pi===null||!Pi.has(c))){t=io(o,t),t=ap(r,t,1),r=Ai(r,t,1),t=gn(),r!==null&&(pi(r,1,t),An(r,t));break}}r=r.return}}function u_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=gn(),t.pingedLanes|=t.suspendedLanes&o,Ut===t&&(Yt&o)===o&&(Mt===4||Mt===3&&(Yt&130023424)===Yt&&500>st()-Gc?ms(t,0):Qc|=o),An(t,r)}function $p(t,r){r===0&&(t.mode&1?(r=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):r=1);var o=gn();t=Jr(t,r),t!==null&&(pi(t,r,o),An(t,o))}function c_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),$p(t,o)}function h_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),$p(t,o)}var Hp;Hp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Tn.current)In=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return In=!1,Jv(t,r,o);In=!!(t.flags&131072)}else In=!1,vt&&r.flags&1048576&&Sd(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Cl(t,r),t=r.pendingProps;var f=Ys(r,rn.current);no(r,o),f=Ac(null,r,c,t,f,o);var m=Cc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Sn(c)?(m=!0,ul(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,_c(r),f.updater=Rl,r.stateNode=f,f._reactInternals=r,Vc(r,c,t,o),r=Fc(null,r,c,!0,m,o)):(r.tag=0,vt&&m&&uc(r),mn(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Cl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=d_(c),t=cr(c,t),f){case 0:r=Oc(null,r,c,t,o);break e;case 1:r=gp(null,r,c,t,o);break e;case 11:r=hp(null,r,c,t,o);break e;case 14:r=fp(null,r,c,cr(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),Oc(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),gp(t,r,c,f,o);case 3:e:{if(yp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,Nd(t,r),vl(r,c,null,o);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=io(Error(n(423)),r),r=vp(t,r,c,o,f);break e}else if(c!==f){f=io(Error(n(424)),r),r=vp(t,r,c,o,f);break e}else for(Mn=wi(r.stateNode.containerInfo.firstChild),Ln=r,vt=!0,ur=null,o=xd(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zs(),c===f){r=ei(t,r,o);break e}mn(t,r,c,o)}r=r.child}return r;case 5:return Md(r),t===null&&fc(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,_=f.children,rc(c,f)?_=null:m!==null&&rc(c,m)&&(r.flags|=32),mp(t,r),mn(t,r,_,o),r.child;case 6:return t===null&&fc(r),null;case 13:return _p(t,r,o);case 4:return Ec(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=eo(r,null,c,o):mn(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),hp(t,r,c,f,o);case 7:return mn(t,r,r.pendingProps,o),r.child;case 8:return mn(t,r,r.pendingProps.children,o),r.child;case 12:return mn(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,_=f.value,ct(ml,c._currentValue),c._currentValue=_,m!==null)if(lr(m.value,_)){if(m.children===f.children&&!Tn.current){r=ei(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var A=m.dependencies;if(A!==null){_=m.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=Zr(-1,o&-o),D.tag=2;var q=m.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),q.pending=D}}m.lanes|=o,D=m.alternate,D!==null&&(D.lanes|=o),yc(m.return,o,r),A.lanes|=o;break}D=D.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,A=_.alternate,A!==null&&(A.lanes|=o),yc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}mn(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,no(r,o),f=Hn(f),c=c(f),r.flags|=1,mn(t,r,c,o),r.child;case 14:return c=r.type,f=cr(c,r.pendingProps),f=cr(c.type,f),fp(t,r,c,f,o);case 15:return dp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),Cl(t,r),r.tag=1,Sn(c)?(t=!0,ul(r)):t=!1,no(r,o),ip(r,c,f),Vc(r,c,f,o),Fc(null,r,c,!0,t,o);case 19:return wp(t,r,o);case 22:return pp(t,r,o)}throw Error(n(156,r.tag))};function qp(t,r){return qt(t,r)}function f_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,r,o,c){return new f_(t,r,o,c)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d_(t){if(typeof t=="function")return rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===U)return 11;if(t===$e)return 14}return 2}function Ni(t,r){var o=t.alternate;return o===null?(o=Kn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function bl(t,r,o,c,f,m){var _=2;if(c=t,typeof t=="function")rh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return ys(o.children,f,m,r);case T:_=8,f|=8;break;case R:return t=Kn(12,o,r,f|2),t.elementType=R,t.lanes=m,t;case C:return t=Kn(13,o,r,f),t.elementType=C,t.lanes=m,t;case ut:return t=Kn(19,o,r,f),t.elementType=ut,t.lanes=m,t;case He:return Ul(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:_=10;break e;case V:_=9;break e;case U:_=11;break e;case $e:_=14;break e;case Rt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Kn(_,o,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function ys(t,r,o,c){return t=Kn(7,t,c,r),t.lanes=o,t}function Ul(t,r,o,c){return t=Kn(22,t,c,r),t.elementType=He,t.lanes=o,t.stateNode={isHidden:!1},t}function ih(t,r,o){return t=Kn(6,t,null,r),t.lanes=o,t}function sh(t,r,o){return r=Kn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function p_(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function oh(t,r,o,c,f,m,_,A,D){return t=new p_(t,r,o,A,D),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Kn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(m),t}function m_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Wp(t){if(!t)return Si;t=t._reactInternals;e:{if(ze(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Sn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Sn(o))return Ed(t,o,r)}return r}function Kp(t,r,o,c,f,m,_,A,D){return t=oh(o,c,!0,t,f,m,_,A,D),t.context=Wp(null),o=t.current,c=gn(),f=xi(o),m=Zr(c,f),m.callback=r??null,Ai(o,m,f),t.current.lanes=f,pi(t,f,c),An(t,c),t}function zl(t,r,o,c){var f=r.current,m=gn(),_=xi(f);return o=Wp(o),r.context===null?r.context=o:r.pendingContext=o,r=Zr(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Ai(f,r,_),t!==null&&(dr(t,f,_,m),yl(t,f,_)),_}function jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function ah(t,r){Qp(t,r),(t=t.alternate)&&Qp(t,r)}var Gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function lh(t){this._internalRoot=t}Bl.prototype.render=lh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));zl(t,r,null,null)},Bl.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ps(function(){zl(null,t,null,null)}),r[Qr]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ba();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Sr.length&&r!==0&&r<Sr[o].priority;o++);Sr.splice(o,0,t),o===0&&qa(t)}};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function g_(t,r,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var q=jl(_);m.call(q)}}var _=Kp(r,c,t,0,null,!1,!1,"",Yp);return t._reactRootContainer=_,t[Qr]=_.current,Ho(t.nodeType===8?t.parentNode:t),ps(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var q=jl(D);A.call(q)}}var D=oh(t,0,!1,null,null,!1,!1,"",Yp);return t._reactRootContainer=D,t[Qr]=D.current,Ho(t.nodeType===8?t.parentNode:t),ps(function(){zl(r,D,o,c)}),D}function Hl(t,r,o,c,f){var m=o._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var A=f;f=function(){var D=jl(_);A.call(D)}}zl(r,_,t,f)}else _=g_(o,r,t,f,c);return jl(_)}za=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=fi(r.pendingLanes);o!==0&&(mi(r,o|1),An(r,st()),!(et&6)&&(ao=st()+500,Ii()))}break;case 13:ps(function(){var c=Jr(t,1);if(c!==null){var f=gn();dr(c,t,1,f)}}),ah(t,1)}},Ns=function(t){if(t.tag===13){var r=Jr(t,134217728);if(r!==null){var o=gn();dr(r,t,134217728,o)}ah(t,134217728)}},ja=function(t){if(t.tag===13){var r=xi(t),o=Jr(t,r);if(o!==null){var c=gn();dr(o,t,r,c)}ah(t,r)}},Ba=function(){return je},$a=function(t,r){var o=je;try{return je=t,r()}finally{je=o}},Ur=function(t,r,o){switch(r){case"input":if(Yi(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=al(c);if(!f)throw Error(n(90));ii(c),Yi(c,f)}}}break;case"textarea":yr(t,o);break;case"select":r=o.value,r!=null&&$t(t,!!o.multiple,r,!1)}},zr=eh,N=ps;var y_={usingClientEntryPoint:!1,Events:[Ko,Qs,al,fn,Zi,eh]},aa={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=er(t),t===null?null:t.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{_n=ql.inject(v_),nn=ql}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_,Cn.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(r))throw Error(n(200));return m_(t,r,null,o)},Cn.createRoot=function(t,r){if(!uh(t))throw Error(n(299));var o=!1,c="",f=Gp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=oh(t,1,!1,null,null,o,!1,c,f),t[Qr]=r.current,Ho(t.nodeType===8?t.parentNode:t),new lh(r)},Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=er(r),t=t===null?null:t.stateNode,t},Cn.flushSync=function(t){return ps(t)},Cn.hydrate=function(t,r,o){if(!$l(r))throw Error(n(200));return Hl(null,t,r,!0,o)},Cn.hydrateRoot=function(t,r,o){if(!uh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",_=Gp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Kp(r,null,t,1,o??null,f,!1,m,_),t[Qr]=r.current,Ho(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Bl(r)},Cn.render=function(t,r,o){if(!$l(r))throw Error(n(200));return Hl(null,t,r,!1,o)},Cn.unmountComponentAtNode=function(t){if(!$l(t))throw Error(n(40));return t._reactRootContainer?(ps(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1},Cn.unstable_batchedUpdates=eh,Cn.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!$l(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Hl(t,r,o,!1,c)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var im;function Cg(){if(im)return fh.exports;im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fh.exports=A_(),fh.exports}var sm;function C_(){if(sm)return Wl;sm=1;var i=Cg();return Wl.createRoot=i.createRoot,Wl.hydrateRoot=i.hydrateRoot,Wl}var P_=C_(),ua={},om;function k_(){if(om)return ua;om=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.parse=h,ua.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,P){const M=new u,H=S.length;if(H<2)return M;const $=(P==null?void 0:P.decode)||E;let K=0;do{const se=S.indexOf("=",K);if(se===-1)break;const re=S.indexOf(";",K),ue=re===-1?H:re;if(se>ue){K=S.lastIndexOf(";",se-1)+1;continue}const b=d(S,K,se),ce=g(S,se,b),k=S.slice(b,ce);if(M[k]===void 0){let T=d(S,se+1,ue),R=g(S,ue,T);const x=$(S.slice(T,R));M[k]=x}K=ue+1}while(K<H);return M}function d(S,P,M){do{const H=S.charCodeAt(P);if(H!==32&&H!==9)return P}while(++P<M);return M}function g(S,P,M){for(;P>M;){const H=S.charCodeAt(--P);if(H!==32&&H!==9)return P+1}return M}function v(S,P,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const $=H(P);if(!e.test($))throw new TypeError(`argument val is invalid: ${P}`);let K=S+"="+$;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!I(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return a.call(S)==="[object Date]"}return ua}k_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var am="popstate";function x_(i={}){function e(s,a){let{pathname:u,search:h,hash:d}=s.location;return Ta("",{pathname:u,search:h,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Bi(a)}return N_(e,n,null,i)}function Be(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D_(){return Math.random().toString(36).substring(2,10)}function lm(i,e){return{usr:i.state,key:i.key,idx:e}}function Ta(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Qi(e):e,state:n,key:e&&e.key||s||D_()}}function Bi({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Qi(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function N_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,d="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function I(){d="POP";let $=E(),K=$==null?null:$-v;v=$,g&&g({action:d,location:H.location,delta:K})}function S($,K){d="PUSH";let se=Ta(H.location,$,K);v=E()+1;let re=lm(se,v),ue=H.createHref(se);try{h.pushState(re,"",ue)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(ue)}u&&g&&g({action:d,location:H.location,delta:1})}function P($,K){d="REPLACE";let se=Ta(H.location,$,K);v=E();let re=lm(se,v),ue=H.createHref(se);h.replaceState(re,"",ue),u&&g&&g({action:d,location:H.location,delta:0})}function M($){let K=a.location.origin!=="null"?a.location.origin:a.location.href,se=typeof $=="string"?$:Bi($);return se=se.replace(/ $/,"%20"),Be(K,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,K)}let H={get action(){return d},get location(){return i(a,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(am,I),g=$,()=>{a.removeEventListener(am,I),g=null}},createHref($){return e(a,$)},createURL:M,encodeLocation($){let K=M($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:P,go($){return h.go($)}};return H}var V_=new Set(["lazy","caseSensitive","path","id","index","children"]);function L_(i){return i.index===!0}function uu(i,e,n=[],s={}){return i.map((a,u)=>{let h=[...n,String(u)],d=typeof a.id=="string"?a.id:h.join("-");if(Be(a.index!==!0||!a.children,"Cannot specify children on an index route"),Be(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),L_(a)){let g={...a,...e(a),id:d};return s[d]=g,g}else{let g={...a,...e(a),id:d,children:void 0};return s[d]=g,a.children&&(g.children=uu(a.children,e,h,s)),g}})}function Mi(i,e,n="/"){return eu(i,e,n,!1)}function eu(i,e,n,s){let a=typeof e=="string"?Qi(e):e,u=mr(a.pathname||"/",n);if(u==null)return null;let h=Pg(i);O_(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let v=K_(u);d=q_(h[g],v,s)}return d}function M_(i,e){let{route:n,pathname:s,params:a}=i;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function Pg(i,e=[],n=[],s=""){let a=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Be(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Nr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Pg(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:$_(v,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,h);else for(let g of kg(u.path))a(u,h,g)}),e}function kg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=kg(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&d.push(...h),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function O_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:H_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var F_=/^:[\w-]+$/,b_=3,U_=2,z_=1,j_=10,B_=-2,um=i=>i==="*";function $_(i,e){let n=i.split("/"),s=n.length;return n.some(um)&&(s+=B_),e&&(s+=U_),n.filter(a=>!um(a)).reduce((a,u)=>a+(F_.test(u)?b_:u===""?z_:j_),s)}function H_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function q_(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],v=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",I=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),S=g.route;if(!I&&v&&n&&!s[s.length-1].route.index&&(I=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!I)return null;Object.assign(a,I.params),h.push({params:a,pathname:Nr([u,I.pathname]),pathnameBase:Y_(Nr([u,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(u=Nr([u,I.pathnameBase]))}return h}function cu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=W_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:I},S)=>{if(E==="*"){let M=d[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const P=d[S];return I&&!P?v[E]=void 0:v[E]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function W_(i,e=!1,n=!0){Jt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function K_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function mr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Q_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Qi(i):i;return{pathname:n?n.startsWith("/")?n:G_(n,e):e,search:X_(s),hash:J_(a)}}function G_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xg(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ef(i){let e=xg(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tf(i,e,n,s=!1){let a;typeof i=="string"?a=Qi(i):(a={...i},Be(!a.pathname||!a.pathname.includes("?"),mh("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),mh("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),mh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,d;if(h==null)d=n;else{let I=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),I-=1;a.pathname=S.join("/")}d=I>=0?e[I]:"/"}let g=Q_(a,d),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Nr=i=>i.join("/").replace(/\/\/+/g,"/"),Y_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),X_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,J_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,hu=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Su(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Dg=["POST","PUT","PATCH","DELETE"],Z_=new Set(Dg),eE=["GET",...Dg],tE=new Set(eE),nE=new Set([301,302,303,307,308]),rE=new Set([307,308]),gh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ca={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sE=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Ng="remix-router-transitions",Vg=Symbol("ResetLoaderData");function oE(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Be(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||sE,a={},u=uu(i.routes,s,void 0,a),h,d=i.basename||"/",g=i.dataStrategy||hE,v=i.patchRoutesOnNavigation,E={...i.future},I=null,S=new Set,P=null,M=null,H=null,$=i.hydrationData!=null,K=Mi(u,i.history.location,d),se=null;if(K==null&&!v){let N=Qn(404,{pathname:i.history.location.pathname}),{matches:F,route:Q}=Em(u);K=F,se={[Q.id]:N}}K&&!i.hydrationData&&Jn(K,u,i.history.location.pathname).active&&(K=null);let re;if(K)if(K.some(N=>N.route.lazy))re=!1;else if(!K.some(N=>N.route.loader))re=!0;else{let N=i.hydrationData?i.hydrationData.loaderData:null,F=i.hydrationData?i.hydrationData.errors:null;if(F){let Q=K.findIndex(X=>F[X.route.id]!==void 0);re=K.slice(0,Q+1).every(X=>!kh(X.route,N,F))}else re=K.every(Q=>!kh(Q.route,N,F))}else{re=!1,K=[];let N=Jn(null,u,i.history.location.pathname);N.active&&N.matches&&(K=N.matches)}let ue,b={historyAction:i.history.action,location:i.history.location,matches:K,initialized:re,navigation:gh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||se,fetchers:new Map,blockers:new Map},ce="POP",k=!1,T,R=!1,x=new Map,V=null,U=!1,C=!1,ut=new Set,$e=new Map,Rt=0,He=-1,oe=new Map,Te=new Set,he=new Map,O=new Map,Y=new Set,Ee=new Map,Ve,Ne=null;function Ue(){if(I=i.history.listen(({action:N,location:F,delta:Q})=>{if(Ve){Ve(),Ve=void 0;return}Jt(Ee.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=ci({currentLocation:b.location,nextLocation:F,historyAction:N});if(X&&Q!=null){let fe=new Promise(ye=>{Ve=ye});i.history.go(Q*-1),Er(X,{state:"blocked",location:F,proceed(){Er(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),fe.then(()=>i.history.go(Q))},reset(){let ye=new Map(b.blockers);ye.set(X,ca),Oe({blockers:ye})}});return}return en(N,F)}),n){TE(e,x);let N=()=>SE(e,x);e.addEventListener("pagehide",N),V=()=>e.removeEventListener("pagehide",N)}return b.initialized||en("POP",b.location,{initialHydration:!0}),ue}function Xe(){I&&I(),V&&V(),S.clear(),T&&T.abort(),b.fetchers.forEach((N,F)=>kn(F)),b.blockers.forEach((N,F)=>ui(F))}function Je(N){return S.add(N),()=>S.delete(N)}function Oe(N,F={}){b={...b,...N};let Q=[],X=[];b.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(Y.has(ye)?Q.push(ye):X.push(ye))}),[...S].forEach(fe=>fe(b,{deletedFetchers:Q,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Q.forEach(fe=>kn(fe)),X.forEach(fe=>b.fetchers.delete(fe))}function ht(N,F,{flushSync:Q}={}){var ae,ke;let X=b.actionData!=null&&b.navigation.formMethod!=null&&pr(b.navigation.formMethod)&&b.navigation.state==="loading"&&((ae=N.state)==null?void 0:ae._isRedirect)!==!0,fe;F.actionData?Object.keys(F.actionData).length>0?fe=F.actionData:fe=null:X?fe=b.actionData:fe=null;let ye=F.loaderData?vm(b.loaderData,F.loaderData,F.matches||[],F.errors):b.loaderData,Re=b.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Fe,rt)=>Re.set(rt,ca)));let de=k===!0||b.navigation.formMethod!=null&&pr(b.navigation.formMethod)&&((ke=N.state)==null?void 0:ke._isRedirect)!==!0;h&&(u=h,h=void 0),U||ce==="POP"||(ce==="PUSH"?i.history.push(N,N.state):ce==="REPLACE"&&i.history.replace(N,N.state));let _e;if(ce==="POP"){let Fe=x.get(b.location.pathname);Fe&&Fe.has(N.pathname)?_e={currentLocation:b.location,nextLocation:N}:x.has(N.pathname)&&(_e={currentLocation:N,nextLocation:b.location})}else if(R){let Fe=x.get(b.location.pathname);Fe?Fe.add(N.pathname):(Fe=new Set([N.pathname]),x.set(b.location.pathname,Fe)),_e={currentLocation:b.location,nextLocation:N}}Oe({...F,actionData:fe,loaderData:ye,historyAction:ce,location:N,initialized:!0,navigation:gh,revalidation:"idle",restoreScrollPosition:xn(N,F.matches||b.matches),preventScrollReset:de,blockers:Re},{viewTransitionOpts:_e,flushSync:Q===!0}),ce="POP",k=!1,R=!1,U=!1,C=!1,Ne==null||Ne.resolve(),Ne=null}async function Un(N,F){if(typeof N=="number"){i.history.go(N);return}let Q=Ph(b.location,b.matches,d,N,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:X,submission:fe,error:ye}=cm(!1,Q,F),Re=b.location,de=Ta(b.location,X,F&&F.state);de={...de,...i.history.encodeLocation(de)};let _e=F&&F.replace!=null?F.replace:void 0,ae="PUSH";_e===!0?ae="REPLACE":_e===!1||fe!=null&&pr(fe.formMethod)&&fe.formAction===b.location.pathname+b.location.search&&(ae="REPLACE");let ke=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Fe=(F&&F.flushSync)===!0,rt=ci({currentLocation:Re,nextLocation:de,historyAction:ae});if(rt){Er(rt,{state:"blocked",location:de,proceed(){Er(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Un(N,F)},reset(){let St=new Map(b.blockers);St.set(rt,ca),Oe({blockers:St})}});return}await en(ae,de,{submission:fe,pendingError:ye,preventScrollReset:ke,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Fe})}function ii(){Ne||(Ne=IE()),yr(),Oe({revalidation:"loading"});let N=Ne.promise;return b.navigation.state==="submitting"?N:b.navigation.state==="idle"?(en(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),N):(en(ce||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:R===!0}),N)}async function en(N,F,Q){T&&T.abort(),T=null,ce=N,U=(Q&&Q.startUninterruptedRevalidation)===!0,vn(b.location,b.matches),k=(Q&&Q.preventScrollReset)===!0,R=(Q&&Q.enableViewTransition)===!0;let X=h||u,fe=Q&&Q.overrideNavigation,ye=Mi(X,F,d),Re=(Q&&Q.flushSync)===!0,de=Jn(ye,X,F.pathname);if(de.active&&de.matches&&(ye=de.matches),!ye){let{error:ze,notFoundMatches:Ze,route:it}=Xn(F.pathname);ht(F,{matches:Ze,loaderData:{},errors:{[it.id]:ze}},{flushSync:Re});return}if(b.initialized&&!C&&yE(b.location,F)&&!(Q&&Q.submission&&pr(Q.submission.formMethod))){ht(F,{matches:ye},{flushSync:Re});return}T=new AbortController;let _e=uo(i.history,F,T.signal,Q&&Q.submission),ae;if(Q&&Q.pendingError)ae=[_s(ye).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&pr(Q.submission.formMethod)){let ze=await Fr(_e,F,Q.submission,ye,de.active,{replace:Q.replace,flushSync:Re});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[Ze,it]=ze.pendingActionResult;if(Fn(it)&&Su(it.error)&&it.error.status===404){T=null,ht(F,{matches:ze.matches,loaderData:{},errors:{[Ze]:it.error}});return}}ye=ze.matches||ye,ae=ze.pendingActionResult,fe=yh(F,Q.submission),Re=!1,de.active=!1,_e=uo(i.history,_e.url,_e.signal)}let{shortCircuited:ke,matches:Fe,loaderData:rt,errors:St}=await si(_e,F,ye,de.active,fe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Re,ae);ke||(T=null,ht(F,{matches:Fe||ye,..._m(ae),loaderData:rt,errors:St}))}async function Fr(N,F,Q,X,fe,ye={}){yr();let Re=EE(F,Q);if(Oe({navigation:Re},{flushSync:ye.flushSync===!0}),fe){let ae=await fn(X,F.pathname,N.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let ke=_s(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[ke,{type:"error",error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:ke,error:Fe,route:rt}=Xn(F.pathname);return{matches:ke,pendingActionResult:[rt.id,{type:"error",error:Fe}]}}}let de,_e=da(X,F);if(!_e.route.action&&!_e.route.lazy)de={type:"error",error:Qn(405,{method:N.method,pathname:F.pathname,routeId:_e.route.id})};else if(de=(await Yn("action",b,N,[_e],X,null))[_e.route.id],N.signal.aborted)return{shortCircuited:!0};if(Es(de)){let ae;return ye&&ye.replace!=null?ae=ye.replace:ae=mm(de.response.headers.get("Location"),new URL(N.url),d)===b.location.pathname+b.location.search,await $t(N,de,!0,{submission:Q,replace:ae}),{shortCircuited:!0}}if(Fn(de)){let ae=_s(X,_e.route.id);return(ye&&ye.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[ae.route.id,de]}}return{matches:X,pendingActionResult:[_e.route.id,de]}}async function si(N,F,Q,X,fe,ye,Re,de,_e,ae,ke){let Fe=fe||yh(F,ye),rt=ye||Re||Tm(Fe),St=!U&&!_e;if(X){if(St){let ft=oi(ke);Oe({navigation:Fe,...ft!==void 0?{actionData:ft}:{}},{flushSync:ae})}let qe=await fn(Q,F.pathname,N.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let ft=_s(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[ft]:qe.error}}}else if(qe.matches)Q=qe.matches;else{let{error:ft,notFoundMatches:Wt,route:nr}=Xn(F.pathname);return{matches:Wt,loaderData:{},errors:{[nr.id]:ft}}}}let ze=h||u,[Ze,it]=fm(i.history,b,Q,rt,F,_e===!0,C,ut,Y,he,Te,ze,d,ke);if(He=++Rt,Ze.length===0&&it.length===0){let qe=_r();return ht(F,{matches:Q,loaderData:{},errors:ke&&Fn(ke[1])?{[ke[0]]:ke[1].error}:null,..._m(ke),...qe?{fetchers:new Map(b.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(St){let qe={};if(!X){qe.navigation=Fe;let ft=oi(ke);ft!==void 0&&(qe.actionData=ft)}it.length>0&&(qe.fetchers=Yi(it)),Oe(qe,{flushSync:ae})}it.forEach(qe=>{Ht(qe.key),qe.controller&&$e.set(qe.key,qe.controller)});let Zn=()=>it.forEach(qe=>Ht(qe.key));T&&T.signal.addEventListener("abort",Zn);let{loaderResults:er,fetcherResults:tn}=await br(b,Q,Ze,it,N);if(N.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Zn),it.forEach(qe=>$e.delete(qe.key));let qt=Kl(er);if(qt)return await $t(N,qt.result,!0,{replace:de}),{shortCircuited:!0};if(qt=Kl(tn),qt)return Te.add(qt.key),await $t(N,qt.result,!0,{replace:de}),{shortCircuited:!0};let{loaderData:jr,errors:wr}=ym(b,Q,er,ke,it,tn);_e&&b.errors&&(wr={...b.errors,...wr});let tr=_r(),st=li(He),Br=tr||st||it.length>0;return{matches:Q,loaderData:jr,errors:wr,...Br?{fetchers:new Map(b.fetchers)}:{}}}function oi(N){if(N&&!Fn(N[1]))return{[N[0]]:N[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Yi(N){return N.forEach(F=>{let Q=b.fetchers.get(F.key),X=ha(void 0,Q?Q.data:void 0);b.fetchers.set(F.key,X)}),new Map(b.fetchers)}async function Ps(N,F,Q,X){Ht(N);let fe=(X&&X.flushSync)===!0,ye=h||u,Re=Ph(b.location,b.matches,d,Q,F,X==null?void 0:X.relative),de=Mi(ye,Re,d),_e=Jn(de,ye,Re);if(_e.active&&_e.matches&&(de=_e.matches),!de){ot(N,F,Qn(404,{pathname:Re}),{flushSync:fe});return}let{path:ae,submission:ke,error:Fe}=cm(!0,Re,X);if(Fe){ot(N,F,Fe,{flushSync:fe});return}let rt=da(de,ae),St=(X&&X.preventScrollReset)===!0;if(ke&&pr(ke.formMethod)){await ai(N,F,ae,rt,de,_e.active,fe,St,ke);return}he.set(N,{routeId:F,path:ae}),await Gn(N,F,ae,rt,de,_e.active,fe,St,ke)}async function ai(N,F,Q,X,fe,ye,Re,de,_e){yr(),he.delete(N);function ae(dt){if(!dt.route.action&&!dt.route.lazy){let _n=Qn(405,{method:_e.formMethod,pathname:Q,routeId:F});return ot(N,F,_n,{flushSync:Re}),!0}return!1}if(!ye&&ae(X))return;let ke=b.fetchers.get(N);yn(N,wE(_e,ke),{flushSync:Re});let Fe=new AbortController,rt=uo(i.history,Q,Fe.signal,_e);if(ye){let dt=await fn(fe,Q,rt.signal);if(dt.type==="aborted")return;if(dt.type==="error"){ot(N,F,dt.error,{flushSync:Re});return}else if(dt.matches){if(fe=dt.matches,X=da(fe,Q),ae(X))return}else{ot(N,F,Qn(404,{pathname:Q}),{flushSync:Re});return}}$e.set(N,Fe);let St=Rt,Ze=(await Yn("action",b,rt,[X],fe,N))[X.route.id];if(rt.signal.aborted){$e.get(N)===Fe&&$e.delete(N);return}if(Y.has(N)){if(Es(Ze)||Fn(Ze)){yn(N,Li(void 0));return}}else{if(Es(Ze))if($e.delete(N),He>St){yn(N,Li(void 0));return}else return Te.add(N),yn(N,ha(_e)),$t(rt,Ze,!1,{fetcherSubmission:_e,preventScrollReset:de});if(Fn(Ze)){ot(N,F,Ze.error);return}}let it=b.navigation.location||b.location,Zn=uo(i.history,it,Fe.signal),er=h||u,tn=b.navigation.state!=="idle"?Mi(er,b.navigation.location,d):b.matches;Be(tn,"Didn't find any matches after fetcher action");let qt=++Rt;oe.set(N,qt);let jr=ha(_e,Ze.data);b.fetchers.set(N,jr);let[wr,tr]=fm(i.history,b,tn,_e,it,!1,C,ut,Y,he,Te,er,d,[X.route.id,Ze]);tr.filter(dt=>dt.key!==N).forEach(dt=>{let _n=dt.key,nn=b.fetchers.get(_n),ks=ha(void 0,nn?nn.data:void 0);b.fetchers.set(_n,ks),Ht(_n),dt.controller&&$e.set(_n,dt.controller)}),Oe({fetchers:new Map(b.fetchers)});let st=()=>tr.forEach(dt=>Ht(dt.key));Fe.signal.addEventListener("abort",st);let{loaderResults:Br,fetcherResults:qe}=await br(b,tn,wr,tr,Zn);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",st),oe.delete(N),$e.delete(N),tr.forEach(dt=>$e.delete(dt.key));let ft=Kl(Br);if(ft)return $t(Zn,ft.result,!1,{preventScrollReset:de});if(ft=Kl(qe),ft)return Te.add(ft.key),$t(Zn,ft.result,!1,{preventScrollReset:de});let{loaderData:Wt,errors:nr}=ym(b,tn,Br,void 0,tr,qe);if(b.fetchers.has(N)){let dt=Li(Ze.data);b.fetchers.set(N,dt)}li(qt),b.navigation.state==="loading"&&qt>He?(Be(ce,"Expected pending action"),T&&T.abort(),ht(b.navigation.location,{matches:tn,loaderData:Wt,errors:nr,fetchers:new Map(b.fetchers)})):(Oe({errors:nr,loaderData:vm(b.loaderData,Wt,tn,nr),fetchers:new Map(b.fetchers)}),C=!1)}async function Gn(N,F,Q,X,fe,ye,Re,de,_e){let ae=b.fetchers.get(N);yn(N,ha(_e,ae?ae.data:void 0),{flushSync:Re});let ke=new AbortController,Fe=uo(i.history,Q,ke.signal);if(ye){let Ze=await fn(fe,Q,Fe.signal);if(Ze.type==="aborted")return;if(Ze.type==="error"){ot(N,F,Ze.error,{flushSync:Re});return}else if(Ze.matches)fe=Ze.matches,X=da(fe,Q);else{ot(N,F,Qn(404,{pathname:Q}),{flushSync:Re});return}}$e.set(N,ke);let rt=Rt,ze=(await Yn("loader",b,Fe,[X],fe,N))[X.route.id];if($e.get(N)===ke&&$e.delete(N),!Fe.signal.aborted){if(Y.has(N)){yn(N,Li(void 0));return}if(Es(ze))if(He>rt){yn(N,Li(void 0));return}else{Te.add(N),await $t(Fe,ze,!1,{preventScrollReset:de});return}if(Fn(ze)){ot(N,F,ze.error);return}yn(N,Li(ze.data))}}async function $t(N,F,Q,{submission:X,fetcherSubmission:fe,preventScrollReset:ye,replace:Re}={}){F.response.headers.has("X-Remix-Revalidate")&&(C=!0);let de=F.response.headers.get("Location");Be(de,"Expected a Location header on the redirect Response"),de=mm(de,new URL(N.url),d);let _e=Ta(b.location,de,{_isRedirect:!0});if(n){let ze=!1;if(F.response.headers.has("X-Remix-Reload-Document"))ze=!0;else if(nf.test(de)){const Ze=i.history.createURL(de);ze=Ze.origin!==e.location.origin||mr(Ze.pathname,d)==null}if(ze){Re?e.location.replace(de):e.location.assign(de);return}}T=null;let ae=Re===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Fe,formEncType:rt}=b.navigation;!X&&!fe&&ke&&Fe&&rt&&(X=Tm(b.navigation));let St=X||fe;if(rE.has(F.response.status)&&St&&pr(St.formMethod))await en(ae,_e,{submission:{...St,formAction:de},preventScrollReset:ye||k,enableViewTransition:Q?R:void 0});else{let ze=yh(_e,X);await en(ae,_e,{overrideNavigation:ze,fetcherSubmission:fe,preventScrollReset:ye||k,enableViewTransition:Q?R:void 0})}}async function Yn(N,F,Q,X,fe,ye){let Re,de={};try{Re=await fE(g,N,F,Q,X,fe,ye,a,s)}catch(_e){return X.forEach(ae=>{de[ae.route.id]={type:"error",error:_e}}),de}for(let[_e,ae]of Object.entries(Re))if(vE(ae)){let ke=ae.result;de[_e]={type:"redirect",response:mE(ke,Q,_e,fe,d)}}else de[_e]=await pE(ae);return de}async function br(N,F,Q,X,fe){let ye=Yn("loader",N,fe,Q,F,null),Re=Promise.all(X.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let Fe=(await Yn("loader",N,uo(i.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:Fe}}else return Promise.resolve({[ae.key]:{type:"error",error:Qn(404,{pathname:ae.path})}})})),de=await ye,_e=(await Re).reduce((ae,ke)=>Object.assign(ae,ke),{});return{loaderResults:de,fetcherResults:_e}}function yr(){C=!0,he.forEach((N,F)=>{$e.has(F)&&ut.add(F),Ht(F)})}function yn(N,F,Q={}){b.fetchers.set(N,F),Oe({fetchers:new Map(b.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function ot(N,F,Q,X={}){let fe=_s(b.matches,F);kn(N),Oe({errors:{[fe.route.id]:Q},fetchers:new Map(b.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Tt(N){return O.set(N,(O.get(N)||0)+1),Y.has(N)&&Y.delete(N),b.fetchers.get(N)||iE}function kn(N){let F=b.fetchers.get(N);$e.has(N)&&!(F&&F.state==="loading"&&oe.has(N))&&Ht(N),he.delete(N),oe.delete(N),Te.delete(N),Y.delete(N),ut.delete(N),b.fetchers.delete(N)}function Xi(N){let F=(O.get(N)||0)-1;F<=0?(O.delete(N),Y.add(N)):O.set(N,F),Oe({fetchers:new Map(b.fetchers)})}function Ht(N){let F=$e.get(N);F&&(F.abort(),$e.delete(N))}function vr(N){for(let F of N){let Q=Tt(F),X=Li(Q.data);b.fetchers.set(F,X)}}function _r(){let N=[],F=!1;for(let Q of Te){let X=b.fetchers.get(Q);Be(X,`Expected fetcher: ${Q}`),X.state==="loading"&&(Te.delete(Q),N.push(Q),F=!0)}return vr(N),F}function li(N){let F=[];for(let[Q,X]of oe)if(X<N){let fe=b.fetchers.get(Q);Be(fe,`Expected fetcher: ${Q}`),fe.state==="loading"&&(Ht(Q),oe.delete(Q),F.push(Q))}return vr(F),F.length>0}function Ji(N,F){let Q=b.blockers.get(N)||ca;return Ee.get(N)!==F&&Ee.set(N,F),Q}function ui(N){b.blockers.delete(N),Ee.delete(N)}function Er(N,F){let Q=b.blockers.get(N)||ca;Be(Q.state==="unblocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="proceeding"||Q.state==="blocked"&&F.state==="unblocked"||Q.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${F.state}`);let X=new Map(b.blockers);X.set(N,F),Oe({blockers:X})}function ci({currentLocation:N,nextLocation:F,historyAction:Q}){if(Ee.size===0)return;Ee.size>1&&Jt(!1,"A router only supports one blocker at a time");let X=Array.from(Ee.entries()),[fe,ye]=X[X.length-1],Re=b.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:N,nextLocation:F,historyAction:Q}))return fe}function Xn(N){let F=Qn(404,{pathname:N}),Q=h||u,{matches:X,route:fe}=Em(Q);return{notFoundMatches:X,route:fe,error:F}}function hi(N,F,Q){if(P=N,H=F,M=Q||null,!$&&b.navigation===gh){$=!0;let X=xn(b.location,b.matches);X!=null&&Oe({restoreScrollPosition:X})}return()=>{P=null,H=null,M=null}}function Ur(N,F){return M&&M(N,F.map(X=>M_(X,b.loaderData)))||N.key}function vn(N,F){if(P&&H){let Q=Ur(N,F);P[Q]=H()}}function xn(N,F){if(P){let Q=Ur(N,F),X=P[Q];if(typeof X=="number")return X}return null}function Jn(N,F,Q){if(v)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:eu(F,Q,d,!0)}}else return{active:!0,matches:eu(F,Q,d,!0)||[]};return{active:!1,matches:null}}async function fn(N,F,Q){if(!v)return{type:"success",matches:N};let X=N;for(;;){let fe=h==null,ye=h||u,Re=a;try{await v({path:F,matches:X,patch:(ae,ke)=>{Q.aborted||pm(ae,ke,ye,Re,s)}})}catch(ae){return{type:"error",error:ae,partialMatches:X}}finally{fe&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let de=Mi(ye,F,d);if(de)return{type:"success",matches:de};let _e=eu(ye,F,d,!0);if(!_e||X.length===_e.length&&X.every((ae,ke)=>ae.route.id===_e[ke].route.id))return{type:"success",matches:null};X=_e}}function Zi(N){a={},h=uu(N,s,void 0,a)}function zr(N,F){let Q=h==null;pm(N,F,h||u,a,s),Q&&(u=[...u],Oe({}))}return ue={get basename(){return d},get future(){return E},get state(){return b},get routes(){return u},get window(){return e},initialize:Ue,subscribe:Je,enableScrollRestoration:hi,navigate:Un,fetch:Ps,revalidate:ii,createHref:N=>i.history.createHref(N),encodeLocation:N=>i.history.encodeLocation(N),getFetcher:Tt,deleteFetcher:Xi,dispose:Xe,getBlocker:Ji,deleteBlocker:ui,patchRoutes:zr,_internalFetchControllers:$e,_internalSetRoutes:Zi},ue}function aE(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Ph(i,e,n,s,a,u){let h,d;if(a){h=[];for(let v of e)if(h.push(v),v.route.id===a){d=v;break}}else h=e,d=e[e.length-1];let g=tf(s||".",ef(h),mr(i.pathname,n)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&d){let v=rf(g.search);if(d.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&v){let E=new URLSearchParams(g.search),I=E.getAll("index");E.delete("index"),I.filter(P=>P).forEach(P=>E.append("index",P));let S=E.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Nr([n,g.pathname])),Bi(g)}function cm(i,e,n){if(!n||!aE(n))return{path:e};if(n.formMethod&&!_E(n.formMethod))return{path:e,error:Qn(405,{method:n.formMethod})};let s=()=>({path:e,error:Qn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=Mg(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!pr(u))return s();let I=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[P,M])=>`${S}${P}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:I}}}else if(n.formEncType==="application/json"){if(!pr(u))return s();try{let I=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:I,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=xh(n.formData),g=n.formData;else if(n.body instanceof FormData)d=xh(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=gm(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=gm(d)}catch{return s()}let v={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(pr(v.formMethod))return{path:e,submission:v};let E=Qi(e);return i&&E.search&&rf(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Bi(E),submission:v}}function hm(i,e,n=!1){let s=i.findIndex(a=>a.route.id===e);return s>=0?i.slice(0,n?s+1:s):i}function fm(i,e,n,s,a,u,h,d,g,v,E,I,S,P){let M=P?Fn(P[1])?P[1].error:P[1].data:void 0,H=i.createURL(e.location),$=i.createURL(a),K=n;u&&e.errors?K=hm(n,Object.keys(e.errors)[0],!0):P&&Fn(P[1])&&(K=hm(n,P[0]));let se=P?P[1].statusCode:void 0,re=se&&se>=400,ue=K.filter((ce,k)=>{let{route:T}=ce;if(T.lazy)return!0;if(T.loader==null)return!1;if(u)return kh(T,e.loaderData,e.errors);if(lE(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return dm(ce,{currentUrl:H,currentParams:R.params,nextUrl:$,nextParams:x.params,...s,actionResult:M,actionStatus:se,defaultShouldRevalidate:re?!1:h||H.pathname+H.search===$.pathname+$.search||H.search!==$.search||uE(R,x)})}),b=[];return v.forEach((ce,k)=>{if(u||!n.some(U=>U.route.id===ce.routeId)||g.has(k))return;let T=Mi(I,ce.path,S);if(!T){b.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=da(T,ce.path),V=!1;E.has(k)?V=!1:d.has(k)?(d.delete(k),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=h:V=dm(x,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:n[n.length-1].params,...s,actionResult:M,actionStatus:se,defaultShouldRevalidate:re?!1:h}),V&&b.push({key:k,routeId:ce.routeId,path:ce.path,matches:T,match:x,controller:new AbortController})}),[ue,b]}function kh(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,a=n!=null&&n[i.id]!==void 0;return!s&&a?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!a}function lE(i,e,n){let s=!e||n.route.id!==e.route.id,a=!i.hasOwnProperty(n.route.id);return s||a}function uE(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function dm(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function pm(i,e,n,s,a){let u;if(i){let g=s[i];Be(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(v=>Lg(g,v))),d=uu(h,a,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...d)}function Lg(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,s)=>{var a;return(a=e.children)==null?void 0:a.some(u=>Lg(n,u))}):!1}async function cE(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let a=n[i.id];Be(a,"No route found in manifest");let u={};for(let h in s){let g=a[h]!==void 0&&h!=="hasErrorBoundary";Jt(!g,`Route "${a.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!V_.has(h)&&(u[h]=s[h])}Object.assign(a,u),Object.assign(a,{...e(a),lazy:void 0})}async function hE({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,a,u)=>Object.assign(s,{[e[u].route.id]:a}),{})}async function fE(i,e,n,s,a,u,h,d,g,v){let E=u.map(P=>P.route.lazy?cE(P.route,g,d):void 0),I=u.map((P,M)=>{let H=E[M],$=a.some(se=>se.route.id===P.route.id);return{...P,shouldLoad:$,resolve:async se=>(se&&s.method==="GET"&&(P.route.lazy||P.route.loader)&&($=!0),$?dE(e,s,P,H,se,v):Promise.resolve({type:"data",result:void 0}))}}),S=await i({matches:I,request:s,params:u[0].params,fetcherKey:h,context:v});try{await Promise.all(E)}catch{}return S}async function dE(i,e,n,s,a,u){let h,d,g=v=>{let E,I=new Promise((M,H)=>E=H);d=()=>E(),e.signal.addEventListener("abort",d);let S=M=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):v({request:e,params:n.params,context:u},...M!==void 0?[M]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(H=>S(H)):S())}}catch(M){return{type:"error",result:M}}})();return Promise.race([P,I])};try{let v=n.route[i];if(s)if(v){let E,[I]=await Promise.all([g(v).catch(S=>{E=S}),s]);if(E!==void 0)throw E;h=I}else if(await s,v=n.route[i],v)h=await g(v);else if(i==="action"){let E=new URL(e.url),I=E.pathname+E.search;throw Qn(405,{method:e.method,pathname:I,routeId:n.route.id})}else return{type:"data",result:void 0};else if(v)h=await g(v);else{let E=new URL(e.url),I=E.pathname+E.search;throw Qn(404,{pathname:I})}}catch(v){return{type:"error",result:v}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function pE(i){var s,a,u,h;let{result:e,type:n}=i;if(Og(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new hu(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(wm(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new hu(((a=e.init)==null?void 0:a.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Su(e)?e.status:void 0}}return wm(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mE(i,e,n,s,a){let u=i.headers.get("Location");if(Be(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!nf.test(u)){let h=s.slice(0,s.findIndex(d=>d.route.id===n)+1);u=Ph(new URL(e.url),h,a,u),i.headers.set("Location",u)}return i}function mm(i,e,n){if(nf.test(i)){let s=i,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=mr(a.pathname,n)!=null;if(a.origin===e.origin&&u)return a.pathname+a.search+a.hash}return i}function uo(i,e,n,s){let a=i.createURL(Mg(e)).toString(),u={signal:n};if(s&&pr(s.formMethod)){let{formMethod:h,formEncType:d}=s;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=xh(s.formData):u.body=s.formData}return new Request(a,u)}function xh(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function gm(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function gE(i,e,n,s=!1,a=!1){let u={},h=null,d,g=!1,v={},E=n&&Fn(n[1])?n[1].error:void 0;return i.forEach(I=>{if(!(I.route.id in e))return;let S=I.route.id,P=e[S];if(Be(!Es(P),"Cannot handle redirect results in processLoaderData"),Fn(P)){let M=P.error;if(E!==void 0&&(M=E,E=void 0),h=h||{},a)h[S]=M;else{let H=_s(i,S);h[H.route.id]==null&&(h[H.route.id]=M)}s||(u[S]=Vg),g||(g=!0,d=Su(P.error)?P.error.status:500),P.headers&&(v[S]=P.headers)}else u[S]=P.data,P.statusCode&&P.statusCode!==200&&!g&&(d=P.statusCode),P.headers&&(v[S]=P.headers)}),E!==void 0&&n&&(h={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:v}}function ym(i,e,n,s,a,u){let{loaderData:h,errors:d}=gE(e,n,s);return a.forEach(g=>{let{key:v,match:E,controller:I}=g,S=u[v];if(Be(S,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(Fn(S)){let P=_s(i.matches,E==null?void 0:E.route.id);d&&d[P.route.id]||(d={...d,[P.route.id]:S.error}),i.fetchers.delete(v)}else if(Es(S))Be(!1,"Unhandled fetcher revalidation redirect");else{let P=Li(S.data);i.fetchers.set(v,P)}}),{loaderData:h,errors:d}}function vm(i,e,n,s){let a=Object.entries(e).filter(([,u])=>u!==Vg).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(a[h]=i[h]),s&&s.hasOwnProperty(h))break}return a}function _m(i){return i?Fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function _s(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Em(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(i,{pathname:e,routeId:n,method:s,type:a,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):i===403?(h="Forbidden",d=`Route "${n}" does not match URL "${e}"`):i===404?(h="Not Found",d=`No route matches URL "${e}"`):i===405&&(h="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new hu(i||500,h,new Error(d),!0)}function Kl(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(Es(a))return{key:s,result:a}}}function Mg(i){let e=typeof i=="string"?Qi(i):i;return Bi({...e,hash:""})}function yE(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function vE(i){return Og(i.result)&&nE.has(i.result.status)}function Fn(i){return i.type==="error"}function Es(i){return(i&&i.type)==="redirect"}function wm(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Og(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function _E(i){return tE.has(i.toUpperCase())}function pr(i){return Z_.has(i.toUpperCase())}function rf(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function da(i,e){let n=typeof e=="string"?Qi(e).search:e.search;if(i[i.length-1].route.index&&rf(n||""))return i[i.length-1];let s=xg(i);return s[s.length-1]}function Tm(i){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:u,json:h}=i;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function yh(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EE(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ha(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wE(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Li(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function TE(i,e){try{let n=i.sessionStorage.getItem(Ng);if(n){let s=JSON.parse(n);for(let[a,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(a,new Set(u||[]))}}catch{}}function SE(i,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{i.sessionStorage.setItem(Ng,JSON.stringify(n))}catch(s){Jt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function IE(){let i,e,n=new Promise((s,a)=>{i=async u=>{s(u);try{await n}catch{}},e=async u=>{a(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var Rs=W.createContext(null);Rs.displayName="DataRouter";var Na=W.createContext(null);Na.displayName="DataRouterState";var sf=W.createContext({isTransitioning:!1});sf.displayName="ViewTransition";var Fg=W.createContext(new Map);Fg.displayName="Fetchers";var RE=W.createContext(null);RE.displayName="Await";var Mr=W.createContext(null);Mr.displayName="Navigation";var Iu=W.createContext(null);Iu.displayName="Location";var Or=W.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var of=W.createContext(null);of.displayName="RouteError";function AE(i,{relative:e}={}){Be(Va(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(Mr),{hash:a,pathname:u,search:h}=La(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Nr([n,u])),s.createHref({pathname:d,search:h,hash:a})}function Va(){return W.useContext(Iu)!=null}function As(){return Be(Va(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Iu).location}var bg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ug(i){W.useContext(Mr).static||W.useLayoutEffect(i)}function CE(){let{isDataRoute:i}=W.useContext(Or);return i?jE():PE()}function PE(){Be(Va(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(Rs),{basename:e,navigator:n}=W.useContext(Mr),{matches:s}=W.useContext(Or),{pathname:a}=As(),u=JSON.stringify(ef(s)),h=W.useRef(!1);return Ug(()=>{h.current=!0}),W.useCallback((g,v={})=>{if(Jt(h.current,bg),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=tf(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Nr([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,a,i])}W.createContext(null);function kE(){let{matches:i}=W.useContext(Or),e=i[i.length-1];return e?e.params:{}}function La(i,{relative:e}={}){let{matches:n}=W.useContext(Or),{pathname:s}=As(),a=JSON.stringify(ef(n));return W.useMemo(()=>tf(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function xE(i,e,n,s){Be(Va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=W.useContext(Mr),{matches:u}=W.useContext(Or),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let K=E&&E.path||"";zg(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=As(),S;S=I;let P=S.pathname||"/",M=P;if(v!=="/"){let K=v.replace(/^\//,"").split("/");M="/"+P.replace(/^\//,"").split("/").slice(K.length).join("/")}let H=Mi(i,{pathname:M});return Jt(E||H!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Jt(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ME(H&&H.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Nr([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Nr([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s)}function DE(){let i=zE(),e=Su(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:a},n):null,h)}var NE=W.createElement(DE,null),VE=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(Or.Provider,{value:this.props.routeContext},W.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LE({routeContext:i,match:e,children:n}){let s=W.useContext(Rs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Or.Provider,{value:i},n)}function ME(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Be(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:E,errors:I}=n,S=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||S){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let I,S=!1,P=null,M=null;n&&(I=u&&v.route.id?u[v.route.id]:void 0,P=v.route.errorElement||NE,h&&(d<0&&E===0?(zg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):d===E&&(S=!0,M=v.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,E+1)),$=()=>{let K;return I?K=P:S?K=M:v.route.Component?K=W.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=g,W.createElement(LE,{match:v,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:K})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?W.createElement(VE,{location:n.location,revalidation:n.revalidation,component:P,error:I,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}function af(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(i){let e=W.useContext(Rs);return Be(e,af(i)),e}function FE(i){let e=W.useContext(Na);return Be(e,af(i)),e}function bE(i){let e=W.useContext(Or);return Be(e,af(i)),e}function lf(i){let e=bE(i),n=e.matches[e.matches.length-1];return Be(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function UE(){return lf("useRouteId")}function zE(){var s;let i=W.useContext(of),e=FE("useRouteError"),n=lf("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function jE(){let{router:i}=OE("useNavigate"),e=lf("useNavigate"),n=W.useRef(!1);return Ug(()=>{n.current=!0}),W.useCallback(async(a,u={})=>{Jt(n.current,bg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Sm={};function zg(i,e,n){!e&&!Sm[i]&&(Sm[i]=!0,Jt(!1,n))}var Im={};function Rm(i,e){!i&&!Im[e]&&(Im[e]=!0,console.warn(e))}function BE(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var $E=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function HE({router:i,flushSync:e}){let[n,s]=W.useState(i.state),[a,u]=W.useState(),[h,d]=W.useState({isTransitioning:!1}),[g,v]=W.useState(),[E,I]=W.useState(),[S,P]=W.useState(),M=W.useRef(new Map),H=W.useCallback((re,{deletedFetchers:ue,flushSync:b,viewTransitionOpts:ce})=>{ue.forEach(T=>M.current.delete(T)),re.fetchers.forEach((T,R)=>{T.data!==void 0&&M.current.set(R,T.data)}),Rm(b===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Rm(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&b?e(()=>s(re)):W.startTransition(()=>s(re));return}if(e&&b){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let T=i.window.document.startViewTransition(()=>{e(()=>s(re))});T.finished.finally(()=>{e(()=>{v(void 0),I(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>I(T));return}E?(g&&g.resolve(),E.skipTransition(),P({state:re,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(u(re),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[i.window,e,E,g]);W.useLayoutEffect(()=>i.subscribe(H),[i,H]),W.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new $E)},[h]),W.useEffect(()=>{if(g&&a&&i.window){let re=a,ue=g.promise,b=i.window.document.startViewTransition(async()=>{W.startTransition(()=>s(re)),await ue});b.finished.finally(()=>{v(void 0),I(void 0),u(void 0),d({isTransitioning:!1})}),I(b)}},[a,g,i.window]),W.useEffect(()=>{g&&a&&n.location.key===a.location.key&&g.resolve()},[g,E,n.location,a]),W.useEffect(()=>{!h.isTransitioning&&S&&(u(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),P(void 0))},[h.isTransitioning,S]);let $=W.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:re=>i.navigate(re),push:(re,ue,b)=>i.navigate(re,{state:ue,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(re,ue,b)=>i.navigate(re,{replace:!0,state:ue,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[i]),K=i.basename||"/",se=W.useMemo(()=>({router:i,navigator:$,static:!1,basename:K}),[i,$,K]);return W.createElement(W.Fragment,null,W.createElement(Rs.Provider,{value:se},W.createElement(Na.Provider,{value:n},W.createElement(Fg.Provider,{value:M.current},W.createElement(sf.Provider,{value:h},W.createElement(KE,{basename:K,location:n.location,navigationType:n.historyAction,navigator:$},W.createElement(qE,{routes:i.routes,future:i.future,state:n})))))),null)}var qE=W.memo(WE);function WE({routes:i,future:e,state:n}){return xE(i,void 0,n,e)}function KE({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Be(!Va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=Qi(n));let{pathname:g="/",search:v="",hash:E="",state:I=null,key:S="default"}=n,P=W.useMemo(()=>{let M=mr(g,h);return M==null?null:{location:{pathname:M,search:v,hash:E,state:I,key:S},navigationType:s}},[h,g,v,E,I,S,s]);return Jt(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:W.createElement(Mr.Provider,{value:d},W.createElement(Iu.Provider,{children:e,value:P}))}var tu="get",nu="application/x-www-form-urlencoded";function Ru(i){return i!=null&&typeof i.tagName=="string"}function QE(i){return Ru(i)&&i.tagName.toLowerCase()==="button"}function GE(i){return Ru(i)&&i.tagName.toLowerCase()==="form"}function YE(i){return Ru(i)&&i.tagName.toLowerCase()==="input"}function XE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function JE(i,e){return i.button===0&&(!e||e==="_self")&&!XE(i)}var Ql=null;function ZE(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vh(i){return i!=null&&!ew.has(i)?(Jt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):i}function tw(i,e){let n,s,a,u,h;if(GE(i)){let d=i.getAttribute("action");s=d?mr(d,e):null,n=i.getAttribute("method")||tu,a=vh(i.getAttribute("enctype"))||nu,u=new FormData(i)}else if(QE(i)||YE(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||d.getAttribute("action");if(s=g?mr(g,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||tu,a=vh(i.getAttribute("formenctype"))||vh(d.getAttribute("enctype"))||nu,u=new FormData(d,i),!ZE()){let{name:v,type:E,value:I}=i;if(E==="image"){let S=v?`${v}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else v&&u.append(v,I)}}else{if(Ru(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,s=null,a=nu,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function uf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function nw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iw(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await nw(u,n);return h.links?h.links():[]}return[]}));return lw(s.flat(1).filter(rw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Am(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,d=(g,v)=>{var E;return n[v].pathname!==g.pathname||((E=n[v].route.path)==null?void 0:E.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||d(g,v)):u==="data"?e.filter((g,v)=>{var I;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sw(i,e){return ow(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function ow(i){return[...new Set(i)]}function aw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function lw(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(aw(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function uw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cw(){let i=W.useContext(Rs);return uf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function hw(){let i=W.useContext(Na);return uf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cf=W.createContext(void 0);cf.displayName="FrameworkContext";function jg(){let i=W.useContext(cf);return uf(i,"You must render this element inside a <HydratedRouter> element"),i}function fw(i,e){let n=W.useContext(cf),[s,a]=W.useState(!1),[u,h]=W.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:I}=e,S=W.useRef(null);W.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=K=>{K.forEach(se=>{h(se.isIntersecting)})},$=new IntersectionObserver(H,{threshold:.5});return S.current&&$.observe(S.current),()=>{$.disconnect()}}},[i]),W.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let P=()=>{a(!0)},M=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:fa(d,P),onBlur:fa(g,M),onMouseEnter:fa(v,P),onMouseLeave:fa(E,M),onTouchStart:fa(I,P)}]:[!1,S,{}]}function fa(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function dw({page:i,...e}){let{router:n}=cw(),s=W.useMemo(()=>Mi(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?W.createElement(mw,{page:i,matches:s,...e}):null}function pw(i){let{manifest:e,routeModules:n}=jg(),[s,a]=W.useState([]);return W.useEffect(()=>{let u=!1;return iw(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function mw({page:i,matches:e,...n}){let s=As(),{manifest:a,routeModules:u}=jg(),{loaderData:h,matches:d}=hw(),g=W.useMemo(()=>Am(i,e,d,a,s,"data"),[i,e,d,a,s]),v=W.useMemo(()=>Am(i,e,d,a,s,"assets"),[i,e,d,a,s]),E=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,M=!1;if(e.forEach($=>{var se;let K=a.routes[$.route.id];!K||!K.hasLoader||(!g.some(re=>re.route.id===$.route.id)&&$.route.id in h&&((se=u[$.route.id])!=null&&se.shouldRevalidate)||K.hasClientLoader?M=!0:P.add($.route.id))}),P.size===0)return[];let H=uw(i);return M&&P.size>0&&H.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[H.pathname+H.search]},[h,s,a,g,e,i,u]),I=W.useMemo(()=>sw(v,a),[v,a]),S=pw(v);return W.createElement(W.Fragment,null,E.map(P=>W.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>W.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),S.map(({key:P,link:M})=>W.createElement("link",{key:P,...M})))}function gw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bg&&(window.__reactRouterVersion="7.1.1")}catch{}function yw(i,e){return oE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:x_({window:e==null?void 0:e.window}),hydrationData:vw(),routes:i,mapRouteProperties:BE,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function vw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:_w(i.errors)}),i}function _w(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new hu(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let h=new u(a.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(a.message);u.stack="",n[s]=u}}else n[s]=a;return n}var $g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Au=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:d,target:g,to:v,preventScrollReset:E,viewTransition:I,...S},P){let{basename:M}=W.useContext(Mr),H=typeof v=="string"&&$g.test(v),$,K=!1;if(typeof v=="string"&&H&&($=v,Bg))try{let R=new URL(window.location.href),x=v.startsWith("//")?new URL(R.protocol+v):new URL(v),V=mr(x.pathname,M);x.origin===R.origin&&V!=null?v=V+x.search+x.hash:K=!0}catch{Jt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=AE(v,{relative:a}),[re,ue,b]=fw(s,S),ce=Sw(v,{replace:h,state:d,target:g,preventScrollReset:E,relative:a,viewTransition:I});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let T=W.createElement("a",{...S,...b,href:$||se,onClick:K||u?e:k,ref:gw(P,ue),target:g,"data-discover":!H&&n==="render"?"true":void 0});return re&&!H?W.createElement(W.Fragment,null,T,W.createElement(dw,{page:se})):T});Au.displayName="Link";var Ew=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:d,children:g,...v},E){let I=La(h,{relative:v.relative}),S=As(),P=W.useContext(Na),{navigator:M,basename:H}=W.useContext(Mr),$=P!=null&&Pw(I)&&d===!0,K=M.encodeLocation?M.encodeLocation(I).pathname:I.pathname,se=S.pathname,re=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(se=se.toLowerCase(),re=re?re.toLowerCase():null,K=K.toLowerCase()),re&&H&&(re=mr(re,H)||re);const ue=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let b=se===K||!a&&se.startsWith(K)&&se.charAt(ue)==="/",ce=re!=null&&(re===K||!a&&re.startsWith(K)&&re.charAt(K.length)==="/"),k={isActive:b,isPending:ce,isTransitioning:$},T=b?e:void 0,R;typeof s=="function"?R=s(k):R=[s,b?"active":null,ce?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return W.createElement(Au,{...v,"aria-current":T,className:R,ref:E,style:x,to:h,viewTransition:d},typeof g=="function"?g(k):g)});Ew.displayName="NavLink";var ww=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=tu,action:d,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:I,...S},P)=>{let M=Aw(),H=Cw(d,{relative:v}),$=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&$g.test(d),se=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ue=re.nativeEvent.submitter,b=(ue==null?void 0:ue.getAttribute("formmethod"))||h;M(ue||re.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:I})};return W.createElement("form",{ref:P,method:$,action:H,onSubmit:s?g:se,...S,"data-discover":!K&&i==="render"?"true":void 0})});ww.displayName="Form";function Tw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hg(i){let e=W.useContext(Rs);return Be(e,Tw(i)),e}function Sw(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let d=CE(),g=As(),v=La(i,{relative:u});return W.useCallback(E=>{if(JE(E,e)){E.preventDefault();let I=n!==void 0?n:Bi(g)===Bi(v);d(i,{replace:I,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,d,v,n,s,e,i,a,u,h])}var Iw=0,Rw=()=>`__${String(++Iw)}__`;function Aw(){let{router:i}=Hg("useSubmit"),{basename:e}=W.useContext(Mr),n=UE();return W.useCallback(async(s,a={})=>{let{action:u,method:h,encType:d,formData:g,body:v}=tw(s,e);if(a.navigate===!1){let E=a.fetcherKey||Rw();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function Cw(i,{relative:e}={}){let{basename:n}=W.useContext(Mr),s=W.useContext(Or);Be(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...La(i||".",{relative:e})},h=As();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(I=>I).forEach(I=>d.append("index",I));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Nr([n,u.pathname])),Bi(u)}function Pw(i,e={}){let n=W.useContext(sf);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hg("useViewTransitionState"),a=La(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cu(a.pathname,h)!=null||cu(a.pathname,u)!=null}new TextEncoder;var kw=Cg();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xw(i){return W.createElement(HE,{flushSync:kw.flushSync,...i})}function Dw(i){const e=i.nome,n=i.id,s=i.tipo1,a=i.tipo2;return De.jsxs("div",{className:`poke-wrapper ${s}`,children:[De.jsx("img",{src:`/images/pokemons/${n}.gif`,alt:`Imagem de um ${e}`}),De.jsxs("div",{className:"pokeInfos",children:[De.jsx("span",{children:e}),De.jsxs("div",{className:"pokeTypes",children:[De.jsx("img",{src:`/images/tipos/${s}.svg`,alt:`Icone de tipo ${s}`,className:`${s}`}),a!=="null"&&De.jsx("img",{src:`/images/tipos/${a}.svg`,alt:`Icone de tipo ${a}`,className:`${a}`}),De.jsx("span",{className:"poke-num-fixed",children:`# ${n}`}),De.jsx("div",{className:"pokeball-bg"})]})]})]})}var Cm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Nw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],d=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,d=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=u>>2,I=(u&3)<<4|d>>4;let S=(d&15)<<2|v>>6,P=v&63;g||(P=64,h||(S=64)),s.push(n[E],n[I],n[S],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Nw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],d=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const I=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||d==null||v==null||I==null)throw new Vw;const S=u<<2|d>>4;if(s.push(S),v!==64){const P=d<<4&240|v>>2;if(s.push(P),I!==64){const M=v<<6&192|I;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lw=function(i){const e=qg(i);return Wg.encodeByteArray(e,!0)},fu=function(i){return Lw(i).replace(/\./g,"")},Mw=function(i){try{return Wg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=()=>Ow().__FIREBASE_DEFAULTS__,bw=()=>{if(typeof process>"u"||typeof Cm>"u")return;const i=Cm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Uw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Mw(i[1]);return e&&JSON.parse(e)},hf=()=>{try{return Fw()||bw()||Uw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zw=i=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},jw=i=>{const e=zw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Kg=()=>{var i;return(i=hf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fu(JSON.stringify(n)),fu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qw(){var i;const e=(i=hf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return!qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="FirebaseError";class Ro extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Gw,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qg.prototype.create)}}class Qg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Yw(u,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new Ro(a,d,s)}}function Yw(i,e){return i.replace(Xw,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Xw=/\{\$([^}]+)}/g;function Dh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(Pm(u)&&Pm(h)){if(!Dh(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Pm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(i){return i&&i._delegate?i._delegate:i}class Ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Bw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e0(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(i){return i===vs?void 0:i}function e0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const n0={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},r0=Qe.INFO,i0={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},s0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=i0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=r0,this._logHandler=s0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const o0=(i,e)=>e.some(n=>i instanceof n);let km,xm;function a0(){return km||(km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l0(){return xm||(xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yg=new WeakMap,Nh=new WeakMap,Xg=new WeakMap,_h=new WeakMap,ff=new WeakMap;function u0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(bi(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Yg.set(n,i)}).catch(()=>{}),ff.set(e,i),e}function c0(i){if(Nh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Nh.set(i,e)}let Vh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Nh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Xg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function h0(i){Vh=i(Vh)}function f0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Eh(this),e,...n);return Xg.set(s,e.sort?e.sort():[e]),bi(s)}:l0().includes(i)?function(...e){return i.apply(Eh(this),e),bi(Yg.get(this))}:function(...e){return bi(i.apply(Eh(this),e))}}function d0(i){return typeof i=="function"?f0(i):(i instanceof IDBTransaction&&c0(i),o0(i,a0())?new Proxy(i,Vh):i)}function bi(i){if(i instanceof IDBRequest)return u0(i);if(_h.has(i))return _h.get(i);const e=d0(i);return e!==i&&(_h.set(i,e),ff.set(e,i)),e}const Eh=i=>ff.get(i);function p0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),d=bi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(bi(h.result),g.oldVersion,g.newVersion,bi(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const m0=["get","getKey","getAll","getAllKeys","count"],g0=["put","add","delete","clear"],wh=new Map;function Dm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=g0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||m0.includes(n)))return;const u=async function(h,...d){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[n](...d),a&&g.done]))[0]};return wh.set(e,u),u}h0(i=>({...i,get:(e,n,s)=>Dm(e,n)||i.get(e,n,s),has:(e,n)=>!!Dm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function v0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lh="@firebase/app",Nm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Gg("@firebase/app"),_0="@firebase/app-compat",E0="@firebase/analytics-compat",w0="@firebase/analytics",T0="@firebase/app-check-compat",S0="@firebase/app-check",I0="@firebase/auth",R0="@firebase/auth-compat",A0="@firebase/database",C0="@firebase/data-connect",P0="@firebase/database-compat",k0="@firebase/functions",x0="@firebase/functions-compat",D0="@firebase/installations",N0="@firebase/installations-compat",V0="@firebase/messaging",L0="@firebase/messaging-compat",M0="@firebase/performance",O0="@firebase/performance-compat",F0="@firebase/remote-config",b0="@firebase/remote-config-compat",U0="@firebase/storage",z0="@firebase/storage-compat",j0="@firebase/firestore",B0="@firebase/vertexai",$0="@firebase/firestore-compat",H0="firebase",q0="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",W0={[Lh]:"fire-core",[_0]:"fire-core-compat",[w0]:"fire-analytics",[E0]:"fire-analytics-compat",[S0]:"fire-app-check",[T0]:"fire-app-check-compat",[I0]:"fire-auth",[R0]:"fire-auth-compat",[A0]:"fire-rtdb",[C0]:"fire-data-connect",[P0]:"fire-rtdb-compat",[k0]:"fire-fn",[x0]:"fire-fn-compat",[D0]:"fire-iid",[N0]:"fire-iid-compat",[V0]:"fire-fcm",[L0]:"fire-fcm-compat",[M0]:"fire-perf",[O0]:"fire-perf-compat",[F0]:"fire-rc",[b0]:"fire-rc-compat",[U0]:"fire-gcs",[z0]:"fire-gcs-compat",[j0]:"fire-fst",[$0]:"fire-fst-compat",[B0]:"fire-vertex","fire-js":"fire-js",[H0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,K0=new Map,Oh=new Map;function Vm(i,e){try{i.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function pu(i){const e=i.name;if(Oh.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Oh.set(e,i);for(const n of du.values())Vm(n,i);for(const n of K0.values())Vm(n,i);return!0}function Q0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new Qg("app","Firebase",G0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=q0;function Jg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Ui.create("bad-app-name",{appName:String(a)});if(n||(n=Kg()),!n)throw Ui.create("no-options");const u=du.get(a);if(u){if(Dh(n,u.options)&&Dh(s,u.config))return u;throw Ui.create("duplicate-app",{appName:a})}const h=new t0(a);for(const g of Oh.values())h.addComponent(g);const d=new Y0(n,s,h);return du.set(a,d),d}function J0(i=Mh){const e=du.get(i);if(!e&&i===Mh&&Kg())return Jg();if(!e)throw Ui.create("no-app",{appName:i});return e}function mo(i,e,n){var s;let a=(s=W0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(d.join(" "));return}pu(new Ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firebase-heartbeat-database",eT=1,Ra="firebase-heartbeat-store";let Th=null;function Zg(){return Th||(Th=p0(Z0,eT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ui.create("idb-open",{originalErrorMessage:i.message})})),Th}async function tT(i){try{const n=(await Zg()).transaction(Ra),s=await n.objectStore(Ra).get(ey(i));return await n.done,s}catch(e){if(e instanceof Ro)ni.warn(e.message);else{const n=Ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function Lm(i,e){try{const s=(await Zg()).transaction(Ra,"readwrite");await s.objectStore(Ra).put(e,ey(i)),await s.done}catch(n){if(n instanceof Ro)ni.warn(n.message);else{const s=Ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(s.message)}}}function ey(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=1024,rT=30*24*60*60*1e3;class iT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=rT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mm(),{heartbeatsToSend:s,unsentEntries:a}=sT(this._heartbeatsCache.heartbeats),u=fu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ni.warn(n),""}}}function Mm(){return new Date().toISOString().substring(0,10)}function sT(i,e=nT){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Om(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Om(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Om(i){return fu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){pu(new Ia("platform-logger",e=>new y0(e),"PRIVATE")),pu(new Ia("heartbeat",e=>new iT(e),"PRIVATE")),mo(Lh,Nm,i),mo(Lh,Nm,"esm2017"),mo("fire-js","")}aT("");var lT="firebase",uT="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(lT,uT,"app");var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,ty;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function R(){}R.prototype=T.prototype,k.D=T.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,V,U){for(var C=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)C[ut-2]=arguments[ut];return T.prototype[V].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,R){R||(R=0);var x=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)x[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=k.g[0],R=k.g[1],V=k.g[2];var U=k.g[3],C=T+(U^R&(V^U))+x[0]+3614090360&4294967295;T=R+(C<<7&4294967295|C>>>25),C=U+(V^T&(R^V))+x[1]+3905402710&4294967295,U=T+(C<<12&4294967295|C>>>20),C=V+(R^U&(T^R))+x[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(T^V&(U^T))+x[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=T+(U^R&(V^U))+x[4]+4118548399&4294967295,T=R+(C<<7&4294967295|C>>>25),C=U+(V^T&(R^V))+x[5]+1200080426&4294967295,U=T+(C<<12&4294967295|C>>>20),C=V+(R^U&(T^R))+x[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(T^V&(U^T))+x[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=T+(U^R&(V^U))+x[8]+1770035416&4294967295,T=R+(C<<7&4294967295|C>>>25),C=U+(V^T&(R^V))+x[9]+2336552879&4294967295,U=T+(C<<12&4294967295|C>>>20),C=V+(R^U&(T^R))+x[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(T^V&(U^T))+x[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=T+(U^R&(V^U))+x[12]+1804603682&4294967295,T=R+(C<<7&4294967295|C>>>25),C=U+(V^T&(R^V))+x[13]+4254626195&4294967295,U=T+(C<<12&4294967295|C>>>20),C=V+(R^U&(T^R))+x[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(T^V&(U^T))+x[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=T+(V^U&(R^V))+x[1]+4129170786&4294967295,T=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(T^R))+x[6]+3225465664&4294967295,U=T+(C<<9&4294967295|C>>>23),C=V+(T^R&(U^T))+x[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^T&(V^U))+x[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=T+(V^U&(R^V))+x[5]+3593408605&4294967295,T=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(T^R))+x[10]+38016083&4294967295,U=T+(C<<9&4294967295|C>>>23),C=V+(T^R&(U^T))+x[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^T&(V^U))+x[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=T+(V^U&(R^V))+x[9]+568446438&4294967295,T=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(T^R))+x[14]+3275163606&4294967295,U=T+(C<<9&4294967295|C>>>23),C=V+(T^R&(U^T))+x[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^T&(V^U))+x[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=T+(V^U&(R^V))+x[13]+2850285829&4294967295,T=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(T^R))+x[2]+4243563512&4294967295,U=T+(C<<9&4294967295|C>>>23),C=V+(T^R&(U^T))+x[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^T&(V^U))+x[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=T+(R^V^U)+x[5]+4294588738&4294967295,T=R+(C<<4&4294967295|C>>>28),C=U+(T^R^V)+x[8]+2272392833&4294967295,U=T+(C<<11&4294967295|C>>>21),C=V+(U^T^R)+x[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^T)+x[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=T+(R^V^U)+x[1]+2763975236&4294967295,T=R+(C<<4&4294967295|C>>>28),C=U+(T^R^V)+x[4]+1272893353&4294967295,U=T+(C<<11&4294967295|C>>>21),C=V+(U^T^R)+x[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^T)+x[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=T+(R^V^U)+x[13]+681279174&4294967295,T=R+(C<<4&4294967295|C>>>28),C=U+(T^R^V)+x[0]+3936430074&4294967295,U=T+(C<<11&4294967295|C>>>21),C=V+(U^T^R)+x[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^T)+x[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=T+(R^V^U)+x[9]+3654602809&4294967295,T=R+(C<<4&4294967295|C>>>28),C=U+(T^R^V)+x[12]+3873151461&4294967295,U=T+(C<<11&4294967295|C>>>21),C=V+(U^T^R)+x[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^T)+x[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=T+(V^(R|~U))+x[0]+4096336452&4294967295,T=R+(C<<6&4294967295|C>>>26),C=U+(R^(T|~V))+x[7]+1126891415&4294967295,U=T+(C<<10&4294967295|C>>>22),C=V+(T^(U|~R))+x[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~T))+x[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=T+(V^(R|~U))+x[12]+1700485571&4294967295,T=R+(C<<6&4294967295|C>>>26),C=U+(R^(T|~V))+x[3]+2399980690&4294967295,U=T+(C<<10&4294967295|C>>>22),C=V+(T^(U|~R))+x[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~T))+x[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=T+(V^(R|~U))+x[8]+1873313359&4294967295,T=R+(C<<6&4294967295|C>>>26),C=U+(R^(T|~V))+x[15]+4264355552&4294967295,U=T+(C<<10&4294967295|C>>>22),C=V+(T^(U|~R))+x[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~T))+x[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=T+(V^(R|~U))+x[4]+4149444226&4294967295,T=R+(C<<6&4294967295|C>>>26),C=U+(R^(T|~V))+x[11]+3174756917&4294967295,U=T+(C<<10&4294967295|C>>>22),C=V+(T^(U|~R))+x[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var R=T-this.blockSize,x=this.B,V=this.h,U=0;U<T;){if(V==0)for(;U<=R;)a(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<T;)if(x[V++]=k.charCodeAt(U++),V==this.blockSize){a(this,x),V=0;break}}else for(;U<T;)if(x[V++]=k[U++],V==this.blockSize){a(this,x),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var R=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=R&255,R/=256;for(this.u(k),k=Array(16),T=R=0;4>T;++T)for(var x=0;32>x;x+=8)k[R++]=this.g[T]>>>x&255;return k};function u(k,T){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=T(k)}function h(k,T){this.h=T;for(var R=[],x=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;x&&U==T||(R[V]=U,x=!1)}this.g=R}var d={};function g(k){return-128<=k&&128>k?u(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return I;if(0>k)return $(v(-k));for(var T=[],R=1,x=0;k>=R;x++)T[x]=k/R|0,R*=4294967296;return new h(T,0)}function E(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return $(E(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),x=I,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),C=parseInt(k.substring(V,V+U),T);8>U?(U=v(Math.pow(T,U)),x=x.j(U).add(v(C))):(x=x.j(R),x=x.add(v(C)))}return x}var I=g(0),S=g(1),P=g(16777216);i=h.prototype,i.m=function(){if(H(this))return-$(this).m();for(var k=0,T=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(H(this))return"-"+$(this).toString(k);for(var T=v(Math.pow(k,6)),R=this,x="";;){var V=ue(R,T).g;R=K(R,V.j(T));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,M(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function H(k){return k.h==-1}i.l=function(k){return k=K(this,k),H(k)?-1:M(k)?0:1};function $(k){for(var T=k.g.length,R=[],x=0;x<T;x++)R[x]=~k.g[x];return new h(R,~k.h).add(S)}i.abs=function(){return H(this)?$(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0,V=0;V<=T;V++){var U=x+(this.i(V)&65535)+(k.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);x=C>>>16,U&=65535,C&=65535,R[V]=C<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(k,T){return k.add($(T))}i.j=function(k){if(M(this)||M(k))return I;if(H(this))return H(k)?$(this).j($(k)):$($(this).j(k));if(H(k))return $(this.j($(k)));if(0>this.l(P)&&0>k.l(P))return v(this.m()*k.m());for(var T=this.g.length+k.g.length,R=[],x=0;x<2*T;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<k.g.length;V++){var U=this.i(x)>>>16,C=this.i(x)&65535,ut=k.i(V)>>>16,$e=k.i(V)&65535;R[2*x+2*V]+=C*$e,se(R,2*x+2*V),R[2*x+2*V+1]+=U*$e,se(R,2*x+2*V+1),R[2*x+2*V+1]+=C*ut,se(R,2*x+2*V+1),R[2*x+2*V+2]+=U*ut,se(R,2*x+2*V+2)}for(x=0;x<T;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=T;x<2*T;x++)R[x]=0;return new h(R,0)};function se(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function re(k,T){this.g=k,this.h=T}function ue(k,T){if(M(T))throw Error("division by zero");if(M(k))return new re(I,I);if(H(k))return T=ue($(k),T),new re($(T.g),$(T.h));if(H(T))return T=ue(k,$(T)),new re($(T.g),T.h);if(30<k.g.length){if(H(k)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=T;0>=x.l(k);)R=b(R),x=b(x);var V=ce(R,1),U=ce(x,1);for(x=ce(x,2),R=ce(R,2);!M(x);){var C=U.add(x);0>=C.l(k)&&(V=V.add(R),U=C),x=ce(x,1),R=ce(R,1)}return T=K(k,V.j(T)),new re(V,T)}for(V=I;0<=k.l(T);){for(R=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=v(R),C=U.j(T);H(C)||0<C.l(k);)R-=x,U=v(R),C=U.j(T);M(U)&&(U=S),V=V.add(U),k=K(k,C)}return new re(V,k)}i.A=function(k){return ue(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function b(k){for(var T=k.g.length+1,R=[],x=0;x<T;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function ce(k,T){var R=T>>5;T%=32;for(var x=k.g.length-R,V=[],U=0;U<x;U++)V[U]=0<T?k.i(U+R)>>>T|k.i(U+R+1)<<32-T:k.i(U+R);return new h(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ty=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Ts=h}).apply(typeof Fm<"u"?Fm:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ny,pa,ry,ru,Fh,iy,sy,oy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var z=l[w];if(!(z in y))break e;y=y[z]}l=l[l.length-1],w=y[l],p=p(w),p!=w&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,w=!1,z={next:function(){if(!w&&y<l.length){var G=y++;return{value:p(G,l[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function I(l,p,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),l.apply(p,z)}}return function(){return l.apply(p,arguments)}}function S(l,p,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,S.apply(null,arguments)}function P(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function M(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,z,G){for(var le=Array(arguments.length-2),at=2;at<arguments.length;at++)le[at-2]=arguments[at];return p.prototype[z].apply(w,le)}}function H(l){const p=l.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=l[w];return y}return[]}function $(l,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const z=l.length||0,G=w.length||0;l.length=z+G;for(let le=0;le<G;le++)l[z+le]=w[le]}else l.push(w)}}class K{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function se(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function ue(l){return ue[" "](l),l}ue[" "]=function(){};var b=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ce(l,p,y){for(const w in l)p.call(y,l[w],w,l)}function k(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,p){let y,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(y in w)l[y]=w[y];for(let G=0;G<R.length;G++)y=R[G],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function U(l){d.setTimeout(()=>{throw l},0)}function C(){var l=Te;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ut{constructor(){this.h=this.g=null}add(p,y){const w=$e.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var $e=new K(()=>new Rt,l=>l.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let He,oe=!1,Te=new ut,he=()=>{const l=d.Promise.resolve(void 0);He=()=>{l.then(O)}};var O=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){U(y)}var p=$e;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return l}();function Ne(l,p){if(Ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(b){e:{try{ue(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ue[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ne.aa.h.call(this)}}M(Ne,Ee);var Ue={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Oe(l,p,y,w,z){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=z,this.key=++Je,this.da=this.fa=!1}function ht(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Un(l){this.src=l,this.g={},this.h=0}Un.prototype.add=function(l,p,y,w,z){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var le=en(l,p,w,z);return-1<le?(p=l[le],y||(p.fa=!1)):(p=new Oe(p,this.src,G,!!w,z),p.fa=y,l.push(p)),p};function ii(l,p){var y=p.type;if(y in l.g){var w=l.g[y],z=Array.prototype.indexOf.call(w,p,void 0),G;(G=0<=z)&&Array.prototype.splice.call(w,z,1),G&&(ht(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function en(l,p,y,w){for(var z=0;z<l.length;++z){var G=l[z];if(!G.da&&G.listener==p&&G.capture==!!y&&G.ha==w)return z}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),si={};function oi(l,p,y,w,z){if(Array.isArray(p)){for(var G=0;G<p.length;G++)oi(l,p[G],y,w,z);return null}return y=yn(y),l&&l[Xe]?l.K(p,y,v(w)?!!w.capture:!1,z):Yi(l,p,y,!1,w,z)}function Yi(l,p,y,w,z,G){if(!p)throw Error("Invalid event type");var le=v(z)?!!z.capture:!!z,at=br(l);if(at||(l[Fr]=at=new Un(l)),y=at.add(p,y,w,le,G),y.proxy)return y;if(w=Ps(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ve||(z=le),z===void 0&&(z=!1),l.addEventListener(p.toString(),w,z);else if(l.attachEvent)l.attachEvent($t(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ps(){function l(y){return p.call(l.src,l.listener,y)}const p=Yn;return l}function ai(l,p,y,w,z){if(Array.isArray(p))for(var G=0;G<p.length;G++)ai(l,p[G],y,w,z);else w=v(w)?!!w.capture:!!w,y=yn(y),l&&l[Xe]?(l=l.i,p=String(p).toString(),p in l.g&&(G=l.g[p],y=en(G,y,w,z),-1<y&&(ht(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete l.g[p],l.h--)))):l&&(l=br(l))&&(p=l.g[p.toString()],l=-1,p&&(l=en(p,y,w,z)),(y=-1<l?p[l]:null)&&Gn(y))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Xe])ii(p.i,l);else{var y=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(y,w,l.capture):p.detachEvent?p.detachEvent($t(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=br(p))?(ii(y,l),y.h==0&&(y.src=null,p[Fr]=null)):ht(l)}}}function $t(l){return l in si?si[l]:si[l]="on"+l}function Yn(l,p){if(l.da)l=!0;else{p=new Ne(p,this);var y=l.listener,w=l.ha||l.src;l.fa&&Gn(l),l=y.call(w,p)}return l}function br(l){return l=l[Fr],l instanceof Un?l:null}var yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(l){return typeof l=="function"?l:(l[yr]||(l[yr]=function(p){return l.handleEvent(p)}),l[yr])}function ot(){Y.call(this),this.i=new Un(this),this.M=this,this.F=null}M(ot,Y),ot.prototype[Xe]=!0,ot.prototype.removeEventListener=function(l,p,y,w){ai(this,l,p,y,w)};function Tt(l,p){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new Ee(p,l);else if(p instanceof Ee)p.target=p.target||l;else{var z=p;p=new Ee(w,l),x(p,z)}if(z=!0,y)for(var G=y.length-1;0<=G;G--){var le=p.g=y[G];z=kn(le,w,!0,p)&&z}if(le=p.g=l,z=kn(le,w,!0,p)&&z,z=kn(le,w,!1,p)&&z,y)for(G=0;G<y.length;G++)le=p.g=y[G],z=kn(le,w,!1,p)&&z}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],w=0;w<y.length;w++)ht(y[w]);delete l.g[p],l.h--}}this.F=null},ot.prototype.K=function(l,p,y,w){return this.i.add(String(l),p,!1,y,w)},ot.prototype.L=function(l,p,y,w){return this.i.add(String(l),p,!0,y,w)};function kn(l,p,y,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,G=0;G<p.length;++G){var le=p[G];if(le&&!le.da&&le.capture==y){var at=le.listener,Vt=le.ha||le.src;le.fa&&ii(l.i,le),z=at.call(Vt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Xi(l,p,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Ht(l){l.g=Xi(()=>{l.g=null,l.i&&(l.i=!1,Ht(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class vr extends Y{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(l){Y.call(this),this.h=l,this.g={}}M(_r,Y);var li=[];function Ji(l){ce(l.g,function(p,y){this.g.hasOwnProperty(y)&&Gn(p)},l),l.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Ji(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=d.JSON.stringify,Er=d.JSON.parse,ci=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Xn(){}Xn.prototype.h=null;function hi(l){return l.h||(l.h=l.i())}function Ur(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){Ee.call(this,"d")}M(xn,Ee);function Jn(){Ee.call(this,"c")}M(Jn,Ee);var fn={},Zi=null;function zr(){return Zi=Zi||new ot}fn.La="serverreachability";function N(l){Ee.call(this,fn.La,l)}M(N,Ee);function F(l){const p=zr();Tt(p,new N(p))}fn.STAT_EVENT="statevent";function Q(l,p){Ee.call(this,fn.STAT_EVENT,l),this.stat=p}M(Q,Ee);function X(l){const p=zr();Tt(p,new Q(p,l))}fn.Ma="timingevent";function fe(l,p){Ee.call(this,fn.Ma,l),this.size=p}M(fe,Ee);function ye(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function de(l,p,y,w,z,G){l.info(function(){if(l.g)if(G)for(var le="",at=G.split("&"),Vt=0;Vt<at.length;Vt++){var We=at[Vt].split("=");if(1<We.length){var Ft=We[0];We=We[1];var kt=Ft.split("_");le=2<=kt.length&&kt[1]=="type"?le+(Ft+"="+We+"&"):le+(Ft+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+p+`
`+y+`
`+le})}function _e(l,p,y,w,z,G,le){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+p+`
`+y+`
`+G+" "+le})}function ae(l,p,y,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fe(l,y)+(w?" "+w:"")})}function ke(l,p){l.info(function(){return"TIMEOUT: "+p})}Re.prototype.info=function(){};function Fe(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return ui(y)}catch{return p}}var rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ze;function Ze(){}M(Ze,Xn),Ze.prototype.g=function(){return new XMLHttpRequest},Ze.prototype.i=function(){return{}},ze=new Ze;function it(l,p,y,w){this.j=l,this.i=p,this.l=y,this.R=w||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var er={},tn={};function qt(l,p,y){l.L=1,l.v=mi(Dn(p)),l.m=y,l.P=!0,jr(l,null)}function jr(l,p){l.F=Date.now(),st(l),l.A=Dn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),yi(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Zn,l.g=Xa(l.j,y?p:null,!l.m),0<l.O&&(l.M=new vr(S(l.Y,l,l.g),l.O)),p=l.U,y=l.g,w=l.ca;var z="readystatechange";Array.isArray(z)||(z&&(li[0]=z.toString()),z=li);for(var G=0;G<z.length;G++){var le=oi(y,z[G],w||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),F(),de(l.i,l.u,l.A,l.l,l.R,l.m)}it.prototype.ca=function(l){l=l.target;const p=this.M;p&&wn(l)==3?p.j():this.Y(l)},it.prototype.Y=function(l){try{if(l==this.g)e:{const kt=wn(this.g);var p=this.g.Ba();const jn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||kt!=4||p==7||(p==8||0>=jn?F(3):F(2)),qe(this);var y=this.g.Z();this.X=y;t:if(wr(this)){var w=Mo(this.g);l="";var z=w.length,G=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),ft(this);var le="";break t}this.h.i=new d.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(G&&p==z-1)});w.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,_e(this.i,this.u,this.A,this.l,this.R,kt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Vt=this.g;if((at=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(at)){var We=at;break t}}We=null}if(y=We)ae(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,y);else{this.o=!1,this.s=3,X(12),Wt(this),ft(this);break e}}if(this.P){y=!0;let Vn;for(;!this.J&&this.C<le.length;)if(Vn=tr(this,le),Vn==tn){kt==4&&(this.s=4,X(14),y=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==er){this.s=4,X(15),ae(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else ae(this.i,this.l,Vn,null),nr(this,Vn);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)ae(this.i,this.l,le,"[Invalid Chunked Response]"),Wt(this),ft(this);else if(0<le.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Fo(Ft),Ft.M=!0,X(11))}}else ae(this.i,this.l,le,null),nr(this,le);kt==4&&Wt(this),this.o&&!this.J&&(kt==4?zs(this.j,this):(this.o=!1,st(this)))}else Ms(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Wt(this),ft(this)}}}catch{}finally{}};function wr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function tr(l,p){var y=l.C,w=p.indexOf(`
`,y);return w==-1?tn:(y=Number(p.substring(y,w)),isNaN(y)?er:(w+=1,w+y>p.length?tn:(p=p.slice(w,w+y),l.C=w+y,p)))}it.prototype.cancel=function(){this.J=!0,Wt(this)};function st(l){l.S=Date.now()+l.I,Br(l,l.I)}function Br(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ye(S(l.ba,l),p)}function qe(l){l.B&&(d.clearTimeout(l.B),l.B=null)}it.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ke(this.i,this.A),this.L!=2&&(F(),X(17)),Wt(this),this.s=2,ft(this)):Br(this,this.S-l)};function ft(l){l.j.G==0||l.J||zs(l.j,l)}function Wt(l){qe(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Ji(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function nr(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||dn(y.h,l))){if(!l.K&&dn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Us(y),ar(y);else break e;bs(y),X(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=ye(S(y.Za,y),6e3));if(1>=ks(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Kr(y,11)}else if((l.K||y.g==l)&&Us(y),!se(p))for(z=y.Da.g.parse(p),p=0;p<z.length;p++){let We=z[p];if(y.T=We[0],We=We[1],y.G==2)if(We[0]=="c"){y.K=We[1],y.ia=We[2];const Ft=We[3];Ft!=null&&(y.la=Ft,y.j.info("VER="+y.la));const kt=We[4];kt!=null&&(y.Aa=kt,y.j.info("SVER="+y.Aa));const jn=We[5];jn!=null&&typeof jn=="number"&&0<jn&&(w=1.5*jn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Vn=l.g;if(Vn){const ss=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var G=w.h;G.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Do(G,G.h),G.h=null))}if(w.D){const Bs=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(w.ya=Bs,lt(w.I,w.D,Bs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var le=l;if(w.qa=Ya(w,w.J?w.ia:null,w.W),le.K){ba(w.h,le);var at=le,Vt=w.L;Vt&&(at.I=Vt),at.B&&(qe(at),st(at)),w.g=le}else is(w);0<y.i.length&&Rr(y)}else We[0]!="stop"&&We[0]!="close"||Kr(y,7);else y.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Kr(y,7):Qt(y):We[0]!="noop"&&y.l&&y.l.ta(We),y.v=0)}}F(4)}catch{}}var dt=class{constructor(l,p){this.g=l,this.map=p}};function _n(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ks(l){return l.h?1:l.g?l.g.size:0}function dn(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Do(l,p){l.g?l.g.add(p):l.h=p}function ba(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}_n.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ua(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return H(l.i)}function xs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,w=0;w<y;w++)p.push(l[w]);return p}p=[],y=0;for(w in l)p[y++]=l[w];return p}function Ds(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const w in l)p[y++]=w;return p}}}function fi(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=Ds(l),w=xs(l),z=w.length,G=0;G<z;G++)p.call(void 0,w[G],y&&y[G],l)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zu(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),z=null;if(0<=w){var G=l[y].substring(0,w);z=l[y].substring(w+1)}else G=l[y];p(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function $r(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof $r){this.h=l.h,ts(this,l.j),this.o=l.o,this.g=l.g,di(this,l.s),this.l=l.l;var p=l.i,y=new Tr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),pi(this,y),this.m=l.m}else l&&(p=String(l).match(es))?(this.h=!1,ts(this,p[1]||"",!0),this.o=je(p[2]||""),this.g=je(p[3]||"",!0),di(this,p[4]),this.l=je(p[5]||"",!0),pi(this,p[6]||"",!0),this.m=je(p[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}$r.prototype.toString=function(){var l=[],p=this.j;p&&l.push(gi(p,Ns,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(gi(p,Ns,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(gi(y,y.charAt(0)=="/"?Ba:ja,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",gi(y,No)),l.join("")};function Dn(l){return new $r(l)}function ts(l,p,y){l.j=y?je(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function di(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function pi(l,p,y){p instanceof Tr?(l.i=p,Sr(l.i,l.h)):(y||(p=gi(p,$a)),l.i=new Tr(p,l.h))}function lt(l,p,y){l.i.set(p,y)}function mi(l){return lt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function je(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function gi(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ns=/[#\/\?@]/g,ja=/[#\?:]/g,Ba=/[#\?]/g,$a=/[#\?@]/g,No=/#/g;function Tr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Kt(l){l.g||(l.g=new Map,l.h=0,l.i&&zu(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=Tr.prototype,i.add=function(l,p){Kt(this),this.i=null,l=zn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function rr(l,p){Kt(l),p=zn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function ir(l,p){return Kt(l),p=zn(l,p),l.g.has(p)}i.forEach=function(l,p){Kt(this),this.g.forEach(function(y,w){y.forEach(function(z){l.call(p,z,w,this)},this)},this)},i.na=function(){Kt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const z=l[w];for(let G=0;G<z.length;G++)y.push(p[w])}return y},i.V=function(l){Kt(this);let p=[];if(typeof l=="string")ir(this,l)&&(p=p.concat(this.g.get(zn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Kt(this),this.i=null,l=zn(this,l),ir(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function yi(l,p,y){rr(l,p),0<y.length&&(l.i=null,l.g.set(zn(l,p),H(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const G=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var z=G;le[w]!==""&&(z+="="+encodeURIComponent(String(le[w]))),l.push(z)}}return this.i=l.join("&")};function zn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Sr(l,p){p&&!l.j&&(Kt(l),l.i=null,l.g.forEach(function(y,w){var z=w.toLowerCase();w!=z&&(rr(this,w),yi(this,z,y))},l)),l.j=p}function ju(l,p){const y=new Re;if(d.Image){const w=new Image;w.onload=P(En,y,"TestLoadImage: loaded",!0,p,w),w.onerror=P(En,y,"TestLoadImage: error",!1,p,w),w.onabort=P(En,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=P(En,y,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Ha(l,p){const y=new Re,w=new AbortController,z=setTimeout(()=>{w.abort(),En(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(G=>{clearTimeout(z),G.ok?En(y,"TestPingServer: ok",!0,p):En(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),En(y,"TestPingServer: error",!1,p)})}function En(l,p,y,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(y)}catch{}}function Bu(){this.g=new ci}function qa(l,p,y){const w=y||"";try{fi(l,function(z,G){let le=z;v(z)&&(le=ui(z)),p.push(w+G+"="+encodeURIComponent(le))})}catch(z){throw p.push(w+"type="+encodeURIComponent("_badmap")),z}}function Hr(l){this.l=l.Ub||null,this.j=l.eb||!1}M(Hr,Xn),Hr.prototype.g=function(){return new ns(this.l,this.j)},Hr.prototype.i=function(l){return function(){return l}}({});function ns(l,p){ot.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ns,ot),i=ns.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,or(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?sr(this):or(this),this.readyState==3&&Wa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,sr(this))},i.Qa=function(l){this.g&&(this.response=l,sr(this))},i.ga=function(){this.g&&sr(this)};function sr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,or(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function or(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qr(l){let p="";return ce(l,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function vi(l,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=qr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):lt(l,p,y))}function yt(l){ot.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(yt,ot);var $u=/^https?$/i,Vo=["POST","PUT"];i=yt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?hi(this.o):hi(ze),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(G){rs(this,G);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)y.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())y.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vo,p,void 0))||w||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of y)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){rs(this,G)}};function rs(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Vs(l),Nn(l)}function Vs(l){l.A||(l.A=!0,Tt(l,"complete"),Tt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Tt(this,"complete"),Tt(this,"abort"),Nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),yt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},i.bb=function(){Lo(this)};function Lo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||wn(l)!=4||l.Z()!=2)){if(l.u&&wn(l)==4)Xi(l.Ea,0,l);else if(Tt(l,"readystatechange"),wn(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=le===0){var z=String(l.D).match(es)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),w=!$u.test(z?z.toLowerCase():"")}y=w}if(y)Tt(l,"complete"),Tt(l,"success");else{l.m=6;try{var G=2<wn(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",Vs(l)}}finally{Nn(l)}}}}function Nn(l,p){if(l.g){Ls(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Tt(l,"ready");try{y.onreadystatechange=w}catch{}}}function Ls(l){l.I&&(d.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function wn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Er(p)}};function Mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(l){const p={};l=(l.g&&2<=wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(se(l[w]))continue;var y=V(l[w]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=p[z]||[];p[z]=G,G.push(y)}k(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Oo(l){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,l),this.cb=Ir("retryDelaySeedMs",1e4,l),this.Wa=Ir("forwardChannelMaxRetries",2,l),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _n(l&&l.concurrentRequestLimit),this.Da=new Bu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oo.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,w){X(0),this.W=l,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Ya(this,null,this.W),Rr(this)};function Qt(l){if(Os(l),l.G==3){var p=l.U++,y=Dn(l.I);if(lt(y,"SID",l.K),lt(y,"RID",p),lt(y,"TYPE","terminate"),Wr(l,y),p=new it(l,l.j,p),p.L=2,p.v=mi(Dn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=Xa(p.j,null),p.g.ea(p.v)),p.F=Date.now(),st(p)}Ga(l)}function ar(l){l.g&&(Fo(l),l.g.cancel(),l.g=null)}function Os(l){ar(l),l.u&&(d.clearTimeout(l.u),l.u=null),Us(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Rr(l){if(!nn(l.h)&&!l.s){l.s=!0;var p=l.Ga;He||he(),oe||(He(),oe=!0),Te.add(p,l),l.B=0}}function Hu(l,p){return ks(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ye(S(l.Ga,l,p),Qa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const z=new it(this,this.j,l);let G=this.o;if(this.S&&(G?(G=T(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=_i(this,z,p),y=Dn(this.I),lt(y,"RID",l),lt(y,"CVER",22),this.D&&lt(y,"X-HTTP-Session-Id",this.D),Wr(this,y),G&&(this.O?p="headers="+encodeURIComponent(String(qr(G)))+"&"+p:this.m&&vi(y,this.m,G)),Do(this.h,z),this.Ua&&lt(y,"TYPE","init"),this.P?(lt(y,"$req",p),lt(y,"SID","null"),z.T=!0,qt(z,y,null)):qt(z,y,p),this.G=2}}else this.G==3&&(l?Fs(this,l):this.i.length==0||nn(this.h)||Fs(this))};function Fs(l,p){var y;p?y=p.l:y=l.U++;const w=Dn(l.I);lt(w,"SID",l.K),lt(w,"RID",y),lt(w,"AID",l.T),Wr(l,w),l.m&&l.o&&vi(w,l.m,l.o),y=new it(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=_i(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Do(l.h,y),qt(y,w,p)}function Wr(l,p){l.H&&ce(l.H,function(y,w){lt(p,w,y)}),l.l&&fi({},function(y,w){lt(p,w,y)})}function _i(l,p,y){y=Math.min(l.i.length,y);var w=l.l?S(l.l.Na,l.l,l):null;e:{var z=l.i;let G=-1;for(;;){const le=["count="+y];G==-1?0<y?(G=z[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let at=!0;for(let Vt=0;Vt<y;Vt++){let We=z[Vt].g;const Ft=z[Vt].map;if(We-=G,0>We)G=Math.max(0,z[Vt].g-100),at=!1;else try{qa(Ft,le,"req"+We+"_")}catch{w&&w(Ft)}}if(at){w=le.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,w}function is(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;He||he(),oe||(He(),oe=!0),Te.add(p,l),l.v=0}}function bs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ye(S(l.Fa,l),Qa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ye(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),ar(this),Ka(this))};function Fo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Ka(l){l.g=new it(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Dn(l.qa);lt(p,"RID","rpc"),lt(p,"SID",l.K),lt(p,"AID",l.T),lt(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&lt(p,"TO",l.ja),lt(p,"TYPE","xmlhttp"),Wr(l,p),l.m&&l.o&&vi(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=mi(Dn(p)),y.m=null,y.P=!0,jr(y,l)}i.Za=function(){this.C!=null&&(this.C=null,ar(this),bs(this),X(19))};function Us(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function zs(l,p){var y=null;if(l.g==p){Us(l),Fo(l),l.g=null;var w=2}else if(dn(l.h,p))y=p.D,ba(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var z=l.B;w=zr(),Tt(w,new fe(w,y)),Rr(l)}else is(l);else if(z=p.s,z==3||z==0&&0<p.X||!(w==1&&Hu(l,p)||w==2&&bs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),z){case 1:Kr(l,5);break;case 4:Kr(l,10);break;case 3:Kr(l,6);break;default:Kr(l,2)}}}function Qa(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function Kr(l,p){if(l.j.info("Error code "+p),p==2){var y=S(l.fb,l),w=l.Xa;const z=!w;w=new $r(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ts(w,"https"),mi(w),z?ju(w.toString(),y):Ha(w.toString(),y)}else X(2);l.G=0,l.l&&l.l.sa(p),Ga(l),Os(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Ga(l){if(l.G=0,l.ka=[],l.l){const p=Ua(l.h);(p.length!=0||l.i.length!=0)&&($(l.ka,p),$(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function Ya(l,p,y){var w=y instanceof $r?Dn(y):new $r(y);if(w.g!="")p&&(w.g=p+"."+w.g),di(w,w.s);else{var z=d.location;w=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var G=new $r(null);w&&ts(G,w),p&&(G.g=p),z&&di(G,z),y&&(G.l=y),w=G}return y=l.D,p=l.ya,y&&p&&lt(w,y,p),lt(w,"VER",l.la),Wr(l,w),w}function Xa(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new yt(new Hr({eb:y})):new yt(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}i=bo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function js(){}js.prototype.g=function(l,p){return new pn(l,p)};function pn(l,p){ot.call(this),this.g=new Oo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!se(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!se(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Ar(this)}M(pn,ot),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Qt(this.g)},pn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ui(l),l=y);p.i.push(new dt(p.Ya++,l)),p.G==3&&Rr(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,pn.aa.N.call(this)};function Ja(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}M(Ja,xn);function Za(){Jn.call(this),this.status=1}M(Za,Jn);function Ar(l){this.g=l}M(Ar,bo),Ar.prototype.ua=function(){Tt(this.g,"a")},Ar.prototype.ta=function(l){Tt(this.g,new Ja(l))},Ar.prototype.sa=function(l){Tt(this.g,new Za)},Ar.prototype.ra=function(){Tt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,oy=function(){return new js},sy=function(){return zr()},iy=fn,Fh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,ru=rt,St.COMPLETE="complete",ry=St,Ur.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,pa=Ur,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,ny=yt}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const bm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Gg("@firebase/firestore");function co(){return Is.logLevel}function me(i,...e){if(Is.logLevel<=Qe.DEBUG){const n=e.map(df);Is.debug(`Firestore (${Ao}): ${i}`,...n)}}function ri(i,...e){if(Is.logLevel<=Qe.ERROR){const n=e.map(df);Is.error(`Firestore (${Ao}): ${i}`,...n)}}function vo(i,...e){if(Is.logLevel<=Qe.WARN){const n=e.map(df);Is.warn(`Firestore (${Ao}): ${i}`,...n)}}function df(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(i="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+i;throw ri(e),new Error(e)}function wt(i,e){i||Me()}function Ye(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class hT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fT{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zi,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt(typeof s.accessToken=="string"),new ay(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new un(e)}}class dT{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pT{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new dT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){wt(this.o===void 0);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string"),this.R=n.token,new mT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=yT(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function _o(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Bt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Bt(0,0))}static max(){return new Le(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(),s===void 0?s=e.length-n:s>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends Aa{construct(e,n,s){return new gt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const vT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Aa{construct(e,n,s){return new hn(e,n,s)}static isValidIdentifier(e){return vT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(u(),a++)}if(u(),h)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(gt.fromString(e))}static fromName(e){return new Ae(gt.fromString(e).popFirst(5))}static empty(){return new Ae(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new gt(e.slice()))}}function _T(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(s===1e9?new Bt(n+1,0):new Bt(n,s));return new $i(a,Ae.empty(),e)}function ET(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $i(Le.min(),Ae.empty(),-1)}static max(){return new $i(Le.max(),Ae.empty(),-1)}}function wT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ST{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==TT)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let a=0,u=0,h=!1;e.forEach(d=>{++a,d.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(a=>a?J.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,a)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(E=>{h[v]=E,++d,d===u&&s(h)},E=>a(E))}})}static doWhile(e,n){return new J((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function IT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pu.oe=-1;function ku(i){return i==null}function mu(i){return i===0&&1/i==-1/0}function RT(i){return typeof i=="number"&&Number.isInteger(i)&&!mu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Um(e)),e=CT(i.get(n),e);return Um(e)}function CT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Um(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Po(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function uy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=a??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Xt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Xt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jm(this.data.getIterator())}getIteratorFrom(e){return new jm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class jm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Oi([])}unionWith(e){let n=new Ot(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cy("Invalid base64 string: "+u):u}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const PT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(i){if(wt(!!i),typeof i=="string"){let e=0;const n=PT.exec(i);if(wt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function qi(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xu(i){const e=i.mapValue.fields.__previous_value__;return pf(e)?xu(e):e}function Ca(i){const e=Hi(i.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,s,a,u,h,d,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v}}class Pa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pf(i)?4:DT(i)?9007199254740991:xT(i)?10:11:Me()}function Lr(i,e){if(i===e)return!0;const n=Wi(i);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ca(i).isEqual(Ca(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Hi(a.timestampValue),d=Hi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return qi(a.bytesValue).isEqual(qi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return Ct(a.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Ct(a.integerValue)===Ct(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=Ct(a.doubleValue),d=Ct(u.doubleValue);return h===d?mu(h)===mu(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},d=u.mapValue.fields||{};if(zm(h)!==zm(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Lr(h[g],d[g])))return!1;return!0}(i,e);default:return Me()}}function ka(i,e){return(i.values||[]).find(n=>Lr(n,e))!==void 0}function Eo(i,e){if(i===e)return 0;const n=Wi(i),s=Wi(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Ct(u.integerValue||u.doubleValue),g=Ct(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return Bm(i.timestampValue,e.timestampValue);case 4:return Bm(Ca(i),Ca(e));case 5:return Ge(i.stringValue,e.stringValue);case 6:return function(u,h){const d=qi(u),g=qi(h);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let v=0;v<d.length&&v<g.length;v++){const E=Ge(d[v],g[v]);if(E!==0)return E}return Ge(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ge(Ct(u.latitude),Ct(h.latitude));return d!==0?d:Ge(Ct(u.longitude),Ct(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return $m(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,v,E;const I=u.fields||{},S=h.fields||{},P=(d=I.value)===null||d===void 0?void 0:d.arrayValue,M=(g=S.value)===null||g===void 0?void 0:g.arrayValue,H=Ge(((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:$m(P,M)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Xl.mapValue&&h===Xl.mapValue)return 0;if(u===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const S=Ge(g[I],E[I]);if(S!==0)return S;const P=Eo(d[g[I]],v[E[I]]);if(P!==0)return P}return Ge(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Me()}}function Bm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=Hi(i),s=Hi(e),a=Ge(n.seconds,s.seconds);return a!==0?a:Ge(n.nanos,s.nanos)}function $m(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Eo(n[a],s[a]);if(u)return u}return Ge(n.length,s.length)}function wo(i){return bh(i)}function bh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Hi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return qi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ae.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=bh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${bh(n.fields[h])}`;return a+"}"}(i.mapValue):Me()}function iu(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xu(i);return e?16+iu(e):16;case 5:return 2*i.stringValue.length;case 6:return qi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+iu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Po(s.fields,(u,h)=>{a+=u.length+iu(h)}),a}(i.mapValue);default:throw Me()}}function Hm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Uh(i){return!!i&&"integerValue"in i}function mf(i){return!!i&&"arrayValue"in i}function qm(i){return!!i&&"nullValue"in i}function Wm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function xT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function va(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Po(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=va(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=va(i.arrayValue.values[n]);return e}return Object.assign({},i)}function DT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(n)}setAll(e){let n=hn.emptyPath(),s={},a=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=d.popLast()}h?s[d.lastSegment()]=va(h):a.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Sh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Po(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new Dr(va(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s,a,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Le.min(),Le.min(),Le.min(),Dr.empty(),0)}static newFoundDocument(e,n,s,a){return new cn(e,1,n,Le.min(),s,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Le.min(),Le.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Le.min(),Le.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.position=e,this.inclusive=n}}function Km(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Lr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n="asc"){this.field=e,this.dir=n}}function NT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{}class Nt extends hy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LT(e,n,s):n==="array-contains"?new FT(e,s):n==="in"?new bT(e,s):n==="not-in"?new UT(e,s):n==="array-contains-any"?new zT(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MT(e,s):new OT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends hy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gr(e,n)}matches(e){return fy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fy(i){return i.op==="and"}function dy(i){return VT(i)&&fy(i)}function VT(i){for(const e of i.filters)if(e instanceof gr)return!1;return!0}function zh(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(dy(i))return i.filters.map(e=>zh(e)).join(",");{const e=i.filters.map(n=>zh(n)).join(",");return`${i.op}(${e})`}}function py(i,e){return i instanceof Nt?function(s,a){return a instanceof Nt&&s.op===a.op&&s.field.isEqual(a.field)&&Lr(s.value,a.value)}(i,e):i instanceof gr?function(s,a){return a instanceof gr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,d)=>u&&py(h,a.filters[d]),!0):!1}(i,e):void Me()}function my(i){return i instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(i):i instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(my).join(" ,")+"}"}(i):"Filter"}class LT extends Nt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class MT extends Nt{constructor(e,n){super(e,"in",n),this.keys=gy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OT extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=gy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class FT extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mf(n)&&ka(n.arrayValue,this.value)}}class bT extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ka(this.value.arrayValue,n)}}class UT extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ka(this.value.arrayValue,n)}}class zT extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ka(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n=null,s=[],a=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function Gm(i,e=null,n=[],s=[],a=null,u=null,h=null){return new jT(i,e,n,s,a,u,h)}function gf(i){const e=Ye(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.ue=n}return e.ue}function yf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!NT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!py(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Qm(i.startAt,e.startAt)&&Qm(i.endAt,e.endAt)}function jh(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n=null,s=[],a=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BT(i,e,n,s,a,u,h,d){return new ko(i,e,n,s,a,u,h,d)}function vf(i){return new ko(i)}function Ym(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function yy(i){return i.collectionGroup!==null}function _a(i){const e=Ye(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot(hn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(d=d.add(v.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new xa(u,s))}),n.has(hn.keyField().canonicalString())||e.ce.push(new xa(hn.keyField(),s))}return e.ce}function Vr(i){const e=Ye(i);return e.le||(e.le=$T(e,_a(i))),e.le}function $T(i,e){if(i.limitType==="F")return Gm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new xa(a.field,u)});const n=i.endAt?new gu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gu(i.startAt.position,i.startAt.inclusive):null;return Gm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Bh(i,e){const n=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yu(i,e,n){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Du(i,e){return yf(Vr(i),Vr(e))&&i.limitType===e.limitType}function vy(i){return`${gf(Vr(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>my(a)).join(", ")}]`),ku(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>wo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>wo(a)).join(",")),`Target(${s})`}(Vr(i))}; limitType=${i.limitType})`}function Nu(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of _a(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,d,g){const v=Km(h,d,g);return h.inclusive?v<=0:v<0}(s.startAt,_a(s),a)||s.endAt&&!function(h,d,g){const v=Km(h,d,g);return h.inclusive?v>=0:v>0}(s.endAt,_a(s),a))}(i,e)}function HT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _y(i){return(e,n)=>{let s=!1;for(const a of _a(i)){const u=qT(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function qT(i,e,n){const s=i.field.isKeyField()?Ae.comparator(e.key,n.key):function(u,h,d){const g=h.data.field(u),v=d.data.field(u);return g!==null&&v!==null?Eo(g,v):Me()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return uy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Pt(Ae.comparator);function Ki(){return WT}const Ey=new Pt(Ae.comparator);function ma(...i){let e=Ey;for(const n of i)e=e.insert(n.key,n);return e}function KT(i){let e=Ey;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ws(){return Ea()}function wy(){return Ea()}function Ea(){return new Cs(i=>i.toString(),(i,e)=>i.isEqual(e))}const QT=new Ot(Ae.comparator);function tt(...i){let e=QT;for(const n of i)e=e.add(n);return e}const GT=new Ot(Ge);function YT(){return GT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function Ty(i){return{integerValue:""+i}}function XT(i,e){return RT(e)?Ty(e):_f(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this._=void 0}}function JT(i,e,n){return i instanceof $h?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&pf(u)&&(u=xu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof vu?Sy(i,e):i instanceof _u?Iy(i,e):function(a,u){const h=eS(a,u),d=Xm(h)+Xm(a.Pe);return Uh(h)&&Uh(a.Pe)?Ty(d):_f(a.serializer,d)}(i,e)}function ZT(i,e,n){return i instanceof vu?Sy(i,e):i instanceof _u?Iy(i,e):n}function eS(i,e){return i instanceof Hh?function(s){return Uh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class $h extends Vu{}class vu extends Vu{constructor(e){super(),this.elements=e}}function Sy(i,e){const n=Ry(e);for(const s of i.elements)n.some(a=>Lr(a,s))||n.push(s);return{arrayValue:{values:n}}}class _u extends Vu{constructor(e){super(),this.elements=e}}function Iy(i,e){let n=Ry(e);for(const s of i.elements)n=n.filter(a=>!Lr(a,s));return{arrayValue:{values:n}}}class Hh extends Vu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Xm(i){return Ct(i.integerValue||i.doubleValue)}function Ry(i){return mf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function tS(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof vu&&a instanceof vu||s instanceof _u&&a instanceof _u?_o(s.elements,a.elements,Lr):s instanceof Hh&&a instanceof Hh?Lr(s.Pe,a.Pe):s instanceof $h&&a instanceof $h}(i.transform,e.transform)}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ef{}function Ay(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new rS(i.key,Ss.none()):new wf(i.key,i.data,Ss.none());{const n=i.data,s=Dr.empty();let a=new Ot(hn.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Lu(i.key,s,new Oi(a.toArray()),Ss.none())}}function nS(i,e,n){i instanceof wf?function(a,u,h){const d=a.value.clone(),g=Zm(a.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Lu?function(a,u,h){if(!su(a.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Zm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Cy(a)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function wa(i,e,n,s){return i instanceof wf?function(u,h,d,g){if(!su(u.precondition,h))return d;const v=u.value.clone(),E=eg(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Lu?function(u,h,d,g){if(!su(u.precondition,h))return d;const v=eg(u.fieldTransforms,g,h),E=h.data;return E.setAll(Cy(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(i,e,n,s):function(u,h,d){return su(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,n)}function Jm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&_o(s,a,(u,h)=>tS(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wf extends Ef{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Lu extends Ef{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Cy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Zm(i,e,n){const s=new Map;wt(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,d=e.data.field(u.field);s.set(u.field,ZT(h,d,n[a]))}return s}function eg(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,JT(u,h,e))}return s}class rS extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&nS(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=wa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=wa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wy();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(a.key)?null:d;const g=Ay(h,d);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>Jm(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>Jm(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ke;function Py(i){if(i===void 0)return ri("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return Me()}}(Ke=Dt||(Dt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Ts([4294967295,4294967295],0);function tg(i){const e=aS().encode(i),n=new ty;return n.update(e),new Uint8Array(n.digest())}function ng(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ts([n,s],0),new Ts([a,u],0)]}class Tf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ga(`Invalid padding: ${n}`);if(s<0)throw new ga(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ga(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ts.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Ts.fromNumber(s)));return a.compare(lS)===1&&(a=new Ts([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=tg(e),[s,a]=ng(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Tf(u,a,n);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const n=tg(e),[s,a]=ng(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mu(Le.min(),a,new Pt(Ge),Ki(),tt())}}class Ma{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ma(s,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class ky{constructor(e,n){this.targetId=e,this.me=n}}class xy{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class rg{constructor(){this.fe=0,this.ge=ig(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),n=tt(),s=tt();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me()}}),new Ma(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=ig()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=Jl(),this.Qe=Jl(),this.Ke=new Pt(Ge)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(jh(u))if(s===0){const h=new Ae(u.path);this.We(n,h,cn.newNoDocument(h,Le.min()))}else wt(s===1);else{const h=this.Ze(n);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,d;try{h=qi(s).toUint8Array()}catch(g){if(g instanceof cy)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Tf(h,a,u)}catch(g){return vo(g instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&jh(d.target)){const g=new Ae(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,cn.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=tt();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Mu(e,n,this.Ke,this.ke,s);return this.ke=Ki(),this.qe=Jl(),this.Qe=Jl(),this.Ke=new Pt(Ge),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new rg,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ot(Ge),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Ge),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new rg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new Pt(Ae.comparator)}function ig(){return new Pt(Ae.comparator)}const cS={asc:"ASCENDING",desc:"DESCENDING"},hS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fS={and:"AND",or:"OR"};class dS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qh(i,e){return i.useProto3Json||ku(e)?e:{value:e}}function Wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function go(i){return wt(!!i),Le.fromTimestamp(function(n){const s=Hi(n);return new Bt(s.seconds,s.nanos)}(i))}function Ny(i,e){return Kh(i,e).canonicalString()}function Kh(i,e){const n=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Vy(i){const e=gt.fromString(i);return wt(by(e)),e}function Ih(i,e){const n=Vy(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ae(My(n))}function Ly(i,e){return Ny(i.databaseId,e)}function pS(i){const e=Vy(i);return e.length===4?gt.emptyPath():My(e)}function sg(i){return new gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function My(i){return wt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function mS(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(wt(E===void 0||typeof E=="string"),Zt.fromBase64String(E||"")):(wt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Zt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(v){const E=v.code===void 0?ne.UNKNOWN:Py(v.code);return new ge(E,v.message||"")}(h);n=new xy(s,a,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ih(i,s.document.name),u=go(s.document.updateTime),h=s.document.createTime?go(s.document.createTime):Le.min(),d=new Dr({mapValue:{fields:s.document.fields}}),g=cn.newFoundDocument(a,u,h,d),v=s.targetIds||[],E=s.removedTargetIds||[];n=new ou(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ih(i,s.document),u=s.readTime?go(s.readTime):Le.min(),h=cn.newNoDocument(a,u),d=s.removedTargetIds||[];n=new ou([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ih(i,s.document),u=s.removedTargetIds||[];n=new ou([],u,a,null)}else{if(!("filter"in e))return Me();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new oS(a,u),d=s.targetId;n=new ky(d,h)}}return n}function gS(i,e){return{documents:[Ly(i,e.path)]}}function yS(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ly(i,a);const u=function(v){if(v.length!==0)return Fy(gr.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(S){return{field:fo(S.field),direction:ES(S.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=qh(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function vS(i){let e=pS(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){wt(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const S=Oy(I);return S instanceof gr&&dy(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(I){return I.map(S=>function(M){return new xa(po(M.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(I){let S;return S=typeof I=="object"?I.value:I,ku(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(I){const S=!!I.before,P=I.values||[];return new gu(P,S)}(n.startAt));let v=null;return n.endAt&&(v=function(I){const S=!I.before,P=I.values||[];return new gu(P,S)}(n.endAt)),BT(e,a,h,u,d,"F",g,v)}function _S(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Oy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=po(n.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(i):i.fieldFilter!==void 0?function(n){return Nt.create(po(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(s=>Oy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(i):Me()}function ES(i){return cS[i]}function wS(i){return hS[i]}function TS(i){return fS[i]}function fo(i){return{fieldPath:i.canonicalString()}}function po(i){return hn.fromServerFormat(i.fieldPath)}function Fy(i){return i instanceof Nt?function(n){if(n.op==="=="){if(Wm(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(qm(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wm(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(qm(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:wS(n.op),value:n.value}}}(i):i instanceof gr?function(n){const s=n.getFilters().map(a=>Fy(a));return s.length===1?s[0]:{compositeFilter:{op:TS(n.op),filters:s}}}(i):Me()}function by(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,s,a,u=Le.min(),h=Le.min(),d=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.ht=e}}function IS(i){const e=vS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.ln=new AS}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve($i.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class AS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ot(gt.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ot(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new To(0)}static Qn(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag([i,e],[n,s]){const a=Ge(i,n);return a===0?Ge(e,s):a}class CS{constructor(e){this.Gn=e,this.buffer=new Ot(ag),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ag(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PS{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Cu(n)}await this.Yn(3e5)})}}class kS{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Pu.oe);const s=new CS(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(og)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),og):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,d,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),a=this.params.maximumSequenceNumbersToCollect):a=I,h=Date.now(),this.nthSequenceNumber(e,a))).next(I=>(s=I,d=Date.now(),this.removeTargets(e,s,n))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),co()<=Qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${I} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:I})))}}function xS(i,e){return new kS(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&wa(s.mutation,a,Oi.empty(),Bt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,tt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=tt()){const a=ws();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=ma();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,tt()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,s,a){let u=Ki();const h=Ea(),d=function(){return Ea()}();return n.forEach((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof Lu)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),wa(E.mutation,v,E.mutation.getFieldMask(),Bt.now())):h.set(v.key,Oi.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),n.forEach((v,E)=>{var I;return d.set(v,new NS(E,(I=h.get(v))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Ea();let a=new Pt((h,d)=>h-d),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||Oi.empty();E=d.applyToLocalView(v,E),s.set(g,E);const I=(a.get(d.batchId)||tt()).add(g);a=a.insert(d.batchId,I)})}).next(()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,E=g.value,I=wy();E.forEach(S=>{if(!u.has(S)){const P=Ay(n.get(S),s.get(S));P!==null&&I.set(S,P),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,I))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return Ae.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):J.resolve(ws());let d=-1,g=u;return h.next(v=>J.forEach(v,(E,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,tt())).next(E=>({batchId:d,changes:KT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(s=>{let a=ma();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=ma();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,g=>{const v=function(I,S){return new ko(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(E=>{E.forEach((I,S)=>{h=h.insert(I,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,cn.newInvalidDocument(E)))});let d=ma();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&wa(E.mutation,v,Oi.empty(),Bt.now()),Nu(n,v)&&(d=d.insert(g,v))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:go(a.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:IS(a.bundledQuery),readTime:go(a.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.overlays=new Pt(Ae.comparator),this.Er=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ws();return J.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const a=ws(),u=n.length+1,h=new Ae(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return J.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Pt((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=ws(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const d=ws(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>d.set(v,E)),!(d.size()>=a)););return J.resolve(d)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new sS(n,s));let u=this.Er.get(n);u===void 0&&(u=tt(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.dr=new Ot(jt.Ar),this.Rr=new Ot(jt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new jt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new Ae(new gt([])),s=new jt(n,e),a=new jt(n,e+1),u=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ae(new gt([])),s=new jt(n,e),a=new jt(n,e+1);let u=tt();return this.Rr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new jt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ae.comparator(e.key,n.key)||Ge(e.br,n.br)}static Vr(e,n){return Ge(e.br,n.br)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ot(jt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new iS(u,n,s,a);this.mutationQueue.push(h);for(const d of a)this.vr=this.vr.add(new jt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),a=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],h=>{const d=this.Cr(h.br);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ge);return n.forEach(a=>{const u=new jt(a,0),h=new jt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),J.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const h=new jt(new Ae(u),0);let d=new Ot(Ge);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(d=d.add(g.br)),!0)},h),J.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){wt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return J.forEach(n.mutations,a=>{const u=new jt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new jt(n,0),a=this.vr.firstAfterOrEqual(s);return J.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.Nr=e,this.docs=function(){return new Pt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=Ki();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():cn.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ki();const h=n.path,d=new Ae(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||wT(ET(E),s)<=0||(a.has(E.key)||Nu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Me()}Lr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new US(this)}getSize(e){return J.resolve(this.size)}}class US extends DS{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.persistence=e,this.Br=new Cs(n=>gf(n),yf),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Sf,this.targetCount=0,this.Qr=To.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),J.waitFor(u).next(()=>a)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Pu(0),this.Ur=!1,this.Ur=!0,this.Wr=new OS,this.referenceDelegate=e(this),this.Gr=new zS(this),this.indexManager=new RS,this.remoteDocumentCache=function(a){return new bS(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new SS(n),this.jr=new LS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new FS(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new jS(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return J.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class jS extends ST{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.Zr=new Sf,this.Xr=null}static ei(e){return new If(e)}get ti(){if(this.Xr)return this.Xr;throw Me()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,s=>{const a=Ae.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,Le.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Eu{constructor(e,n){this.persistence=e,this.ri=new Cs(s=>AT(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=xS(this,n)}static ei(e,n){return new Eu(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?J.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(d=>{d||(s++,u.removeEntry(h,Le.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=iu(e.data.value)),n}ir(e,n,s){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return J.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=tt(),a=tt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Rf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Ww()?8:IT(Hw())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new BS;return this.ts(e,n,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,n,h,d.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(co()<=Qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(co()<=Qe.DEBUG&&me("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(co()<=Qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):J.resolve())}Xi(e,n){if(Ym(n))return J.resolve(null);let s=Vr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=yu(n,null,"F"),s=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=tt(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,d);return this.ss(n,v,h,g.readTime)?this.Xi(e,yu(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,a){return Ym(n)||a.isEqual(Le.min())?J.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?J.resolve(null):(co()<=Qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ho(n)),this.os(e,h,n,_T(a,-1)).next(d=>d))})}rs(e,n){let s=new Ot(_y(e));return n.forEach((a,u)=>{Nu(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return co()<=Qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Zi.getDocumentsMatchingQuery(e,n,$i.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Pt(Ge),this.cs=new Cs(u=>gf(u),yf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function qS(i,e,n,s){return new HS(i,e,n,s)}async function zy(i,e){const n=Ye(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=tt();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){d.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:d}))})})}function jy(i){const e=Ye(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function WS(i,e){const n=Ye(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const d=[];e.targetChanges.forEach((E,I)=>{const S=a.get(I);if(!S)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,I).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,I)));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?P=P.withResumeToken(Zt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),a=a.insert(I,P),function(H,$,K){return H.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,P,E)&&d.push(n.Gr.updateTargetData(u,P))});let g=Ki(),v=tt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(KS(u,h,e.documentUpdates).next(E=>{g=E.Is,v=E.Es})),!s.isEqual(Le.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(I=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.us=a,u))}function KS(i,e,n){let s=tt(),a=tt();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ki();return n.forEach((d,g)=>{const v=u.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Le.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:a}})}function QS(i,e){const n=Ye(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,J.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new Fi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Qh(i,e,n){const s=Ye(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Co(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function lg(i,e,n){const s=Ye(i);let a=Le.min(),u=tt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const I=Ye(g),S=I.cs.get(E);return S!==void 0?J.resolve(I.us.get(S)):I.Gr.getTargetData(v,E)}(s,h,Vr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Le.min(),n?u:tt())).next(d=>(GS(s,HT(e),d),{documents:d,ds:u})))}function GS(i,e,n){let s=i.ls.get(e)||Le.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class ug{constructor(){this.activeTargetIds=YT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YS{constructor(){this._o=new ug,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ug,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Rh(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class eI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const d=Rh(),g=this.No(n,s.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(n,g,v,a).then(E=>(me("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw vo("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",a),E})}ko(n,s,a,u,h,d){return this.Oo(n,s,a,u,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),a&&a.headers.forEach((u,h)=>n[h]=u)}No(n,s){const a=JS[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const u=Rh();return new Promise((h,d)=>{const g=new ny;g.setWithCredentials(!0),g.listenOnce(ry.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ru.NO_ERROR:const E=g.getResponseJson();me(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ru.TIMEOUT:me(ln,`RPC '${e}' ${u} timed out`),d(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:const I=g.getStatus();if(me(ln,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S==null?void 0:S.error;if(P&&P.status&&P.message){const M=function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(P.status);d(new ge(M,P.message))}else d(new ge(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{me(ln,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);me(ln,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}qo(e,n,s){const a=Rh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=oy(),d=sy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${E}`,g);const I=h.createWebChannel(E,g);let S=!1,P=!1;const M=new ZS({Eo:$=>{P?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(S||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),I.open(),S=!0),me(ln,`RPC '${e}' stream ${a} sending:`,$),I.send($))},Ao:()=>I.close()}),H=($,K,se)=>{$.listen(K,re=>{try{se(re)}catch(ue){setTimeout(()=>{throw ue},0)}})};return H(I,pa.EventType.OPEN,()=>{P||(me(ln,`RPC '${e}' stream ${a} transport opened.`),M.So())}),H(I,pa.EventType.CLOSE,()=>{P||(P=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),M.Do())}),H(I,pa.EventType.ERROR,$=>{P||(P=!0,vo(ln,`RPC '${e}' stream ${a} transport errored:`,$),M.Do(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),H(I,pa.EventType.MESSAGE,$=>{var K;if(!P){const se=$.data[0];wt(!!se);const re=se,ue=(re==null?void 0:re.error)||((K=re[0])===null||K===void 0?void 0:K.error);if(ue){me(ln,`RPC '${e}' stream ${a} received error:`,ue);const b=ue.status;let ce=function(R){const x=Dt[R];if(x!==void 0)return Py(x)}(b),k=ue.message;ce===void 0&&(ce=ne.INTERNAL,k="Unknown error status: "+b+" with message "+ue.message),P=!0,M.Do(new ge(ce,k)),I.close()}else me(ln,`RPC '${e}' stream ${a} received:`,se),M.vo(se)}}),H(d,iy.STAT_EVENT,$=>{$.stat===Fh.PROXY?me(ln,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===Fh.NOPROXY&&me(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){return new dS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,s,a,u,h,d,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new By(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ge(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nI extends tI{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=mS(this.serializer,e),s=function(u){if(!("targetChange"in u))return Le.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Le.min():h.readTime?go(h.readTime):Le.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=sg(this.serializer),n.addTarget=function(u,h){let d;const g=h.target;if(d=jh(g)?{documents:gS(u,g)}:{query:yS(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Dy(u,h.resumeToken);const v=qh(u,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(Le.min())>0){d.readTime=Wh(u,h.snapshotVersion.toTimestamp());const v=qh(u,h.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,e);const s=_S(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Kh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Kh(n,s),a,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(ne.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class iI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ri(n),this.C_=!1):me("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Fa(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Ye(g);v.k_.add(4),await Oa(v),v.K_.set("Unknown"),v.k_.delete(4),await Fu(v)}(this))})}),this.K_=new iI(s,a)}}async function Fu(i){if(Fa(i))for(const e of i.q_)await e(!0)}async function Oa(i){for(const e of i.q_)await e(!1)}function $y(i,e){const n=Ye(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),kf(n)?Pf(n):xo(n).s_()&&Cf(n,e))}function Af(i,e){const n=Ye(i),s=xo(n);n.B_.delete(e),s.s_()&&Hy(n,e),n.B_.size===0&&(s.s_()?s.a_():Fa(n)&&n.K_.set("Unknown"))}function Cf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(i).V_(e)}function Hy(i,e){i.U_.xe(e),xo(i).m_(e)}function Pf(i){i.U_=new uS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.K_.F_()}function kf(i){return Fa(i)&&!xo(i).i_()&&i.B_.size>0}function Fa(i){return Ye(i).k_.size===0}function qy(i){i.U_=void 0}async function oI(i){i.K_.set("Online")}async function aI(i){i.B_.forEach((e,n)=>{Cf(i,e)})}async function lI(i,e){qy(i),kf(i)?(i.K_.O_(e),Pf(i)):i.K_.set("Unknown")}async function uI(i,e,n){if(i.K_.set("Online"),e instanceof xy&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const d of u.targetIds)a.B_.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.B_.delete(d),a.U_.removeTarget(d))}(i,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hg(i,s)}else if(e instanceof ou?i.U_.$e(e):e instanceof ky?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Le.min()))try{const s=await jy(i.localStore);n.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.B_.get(v);E&&u.B_.set(v,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,v)=>{const E=u.B_.get(g);if(!E)return;u.B_.set(g,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),Hy(u,g);const I=new Fi(E.target,g,v,E.sequenceNumber);Cf(u,I)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await hg(i,s)}}async function hg(i,e,n){if(!Co(e))throw e;i.k_.add(1),await Oa(i),i.K_.set("Offline"),n||(n=()=>jy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Fu(i)})}async function fg(i,e){const n=Ye(i);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=Fa(n);n.k_.add(3),await Oa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Fu(n)}async function cI(i,e){const n=Ye(i);e?(n.k_.delete(2),await Fu(n)):e||(n.k_.add(2),await Oa(n),n.K_.set("Unknown"))}function xo(i){return i.W_||(i.W_=function(n,s,a){const u=Ye(n);return u.b_(),new nI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:oI.bind(null,i),mo:aI.bind(null,i),po:lI.bind(null,i),R_:uI.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),kf(i)?Pf(i):i.K_.set("Unknown")):(await i.W_.stop(),qy(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,d=new xf(e,n,h,a,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(i,e){if(ri("AsyncQueue",`${e}: ${i}`),Co(i))return new ge(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=ma(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.z_=new Pt(Ae.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Me():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class So{constructor(e,n,s,a,u,h,d,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new So(e,n,yo.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class fI{constructor(){this.queries=pg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ye(n),u=a.queries;a.queries=pg(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function pg(){return new Cs(i=>vy(i),Du)}async function Ky(i,e){const n=Ye(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new hI,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const d=Wy(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&Df(n)}async function Qy(i,e){const n=Ye(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dI(i,e){const n=Ye(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const d of h.J_)d.ta(a)&&(s=!0);h.H_=a}}s&&Df(n)}function pI(i,e,n){const s=Ye(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function Df(i){i.X_.forEach(e=>{e.next()})}var Gh,mg;(mg=Gh||(Gh={})).na="default",mg.Cache="cache";class Gy{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Gh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.key=e}}class Xy{constructor(e){this.key=e}}class mI{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=tt(),this.mutatedKeys=tt(),this.Va=_y(e),this.ma=new yo(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new dg,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,I)=>{const S=a.get(E),P=Nu(this.query,I)?I:null,M=!!S&&this.mutatedKeys.has(S.key),H=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;S&&P?S.data.isEqual(P.data)?M!==H&&(s.track({type:3,doc:P}),$=!0):this.ya(S,P)||(s.track({type:2,doc:P}),$=!0,(g&&this.Va(P,g)>0||v&&this.Va(P,v)<0)&&(d=!0)):!S&&P?(s.track({type:0,doc:P}),$=!0):S&&!P&&(s.track({type:1,doc:S}),$=!0,(g||v)&&(d=!0)),$&&(P?(h=h.add(P),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,I)=>function(P,M){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return H(P)-H(M)}(E.type,I.type)||this.Va(E.doc,I.doc)),this.wa(s),a=a!=null&&a;const d=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new So(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new dg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=tt(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Xy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Yy(s))}),n}va(e){this.da=e.ds,this.Ra=tt();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return So.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yI{constructor(e){this.key=e,this.Fa=!1}}class vI{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Cs(d=>vy(d),Du),this.Oa=new Map,this.Na=new Set,this.La=new Pt(Ae.comparator),this.Ba=new Map,this.ka=new Sf,this.qa={},this.Qa=new Map,this.Ka=To.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function _I(i,e,n=!0){const s=nv(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await Jy(s,e,n,!0),a}async function EI(i,e){const n=nv(i);await Jy(n,e,!0,!1)}async function Jy(i,e,n,s){const a=await QS(i.localStore,Vr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await wI(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&$y(i.remoteStore,a),d}async function wI(i,e,n,s,a){i.Ua=(I,S,P)=>async function(H,$,K,se){let re=$.view.ga(K);re.ss&&(re=await lg(H.localStore,$.query,!1).then(({documents:k})=>$.view.ga(k,re)));const ue=se&&se.targetChanges.get($.targetId),b=se&&se.targetMismatches.get($.targetId)!=null,ce=$.view.applyChanges(re,H.isPrimaryClient,ue,b);return yg(H,$.targetId,ce.ba),ce.snapshot}(i,I,S,P);const u=await lg(i.localStore,e,!0),h=new mI(e,u.ds),d=h.ga(u.documents),g=Ma.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(d,i.isPrimaryClient,g);yg(i,n,v.ba);const E=new gI(e,n,h);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function TI(i,e,n){const s=Ye(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(h=>!Du(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Qh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Af(s.remoteStore,a.targetId),Yh(s,a.targetId)}).catch(Cu)):(Yh(s,a.targetId),await Qh(s.localStore,a.targetId,!0))}async function SI(i,e){const n=Ye(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Af(n.remoteStore,s.targetId))}async function Zy(i,e){const n=Ye(i);try{const s=await WS(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ba.get(u);h&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?wt(h.Fa):a.removedDocuments.size>0&&(wt(h.Fa),h.Fa=!1))}),await tv(n,s,e)}catch(s){await Cu(s)}}function gg(i,e,n){const s=Ye(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&a.push(d.snapshot)}),function(h,d){const g=Ye(h);g.onlineState=d;let v=!1;g.queries.forEach((E,I)=>{for(const S of I.J_)S.ea(d)&&(v=!0)}),v&&Df(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function II(i,e,n){const s=Ye(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),u=a&&a.key;if(u){let h=new Pt(Ae.comparator);h=h.insert(u,cn.newNoDocument(u,Le.min()));const d=tt().add(u),g=new Mu(Le.min(),new Map,new Pt(Ge),h,d);await Zy(s,g),s.La=s.La.remove(u),s.Ba.delete(e),Nf(s)}else await Qh(s.localStore,e,!1).then(()=>Yh(s,e,n)).catch(Cu)}function Yh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||ev(i,s)})}function ev(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Af(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Nf(i))}function yg(i,e,n){for(const s of n)s instanceof Yy?(i.ka.addReference(s.key,e),RI(i,s)):s instanceof Xy?(me("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||ev(i,s.key)):Me()}function RI(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(me("SyncEngine","New document in limbo: "+n),i.Na.add(s),Nf(i))}function Nf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new Ae(gt.fromString(e)),s=i.Ka.next();i.Ba.set(s,new yI(n)),i.La=i.La.insert(n,s),$y(i.remoteStore,new Fi(Vr(vf(n.path)),s,"TargetPurposeLimboResolution",Pu.oe))}}async function tv(i,e,n){const s=Ye(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(v){a.push(v);const I=Rf.zi(g.targetId,v);u.push(I)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,v){const E=Ye(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>J.forEach(v,S=>J.forEach(S.Wi,P=>E.persistence.referenceDelegate.addReference(I,S.targetId,P)).next(()=>J.forEach(S.Gi,P=>E.persistence.referenceDelegate.removeReference(I,S.targetId,P)))))}catch(I){if(!Co(I))throw I;me("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const S=I.targetId;if(!I.fromCache){const P=E.us.get(S),M=P.snapshotVersion,H=P.withLastLimboFreeSnapshotVersion(M);E.us=E.us.insert(S,H)}}}(s.localStore,u))}async function AI(i,e){const n=Ye(i);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await zy(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new ge(ne.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tv(n,s.Ts)}}function CI(i,e){const n=Ye(i),s=n.Ba.get(e);if(s&&s.Fa)return tt().add(s.key);{let a=tt();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const d=n.xa.get(h);a=a.unionWith(d.view.fa)}return a}}function nv(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=II.bind(null,e),e.Ma.R_=dI.bind(null,e.eventManager),e.Ma.Wa=pI.bind(null,e.eventManager),e}class wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ou(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return qS(this.persistence,new $S,e.initialUser,this.serializer)}ja(e){return new Uy(If.ei,this.serializer)}za(e){return new YS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wu.provider={build:()=>new wu};class PI extends wu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){wt(this.persistence.referenceDelegate instanceof Eu);const s=this.persistence.referenceDelegate.garbageCollector;return new PS(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Uy(s=>Eu.ei(s,n),this.serializer)}}class Xh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AI.bind(null,this.syncEngine),await cI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fI}()}createDatastore(e){const n=Ou(e.databaseInfo.databaseId),s=function(u){return new eI(u)}(e.databaseInfo);return function(u,h,d,g){return new rI(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,d){return new sI(s,a,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>gg(this.syncEngine,n,0),function(){return cg.p()?new cg:new XS}())}createSyncEngine(e,n){return function(a,u,h,d,g,v,E){const I=new vI(a,u,h,d,g,v);return E&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Ye(a);me("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Oa(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xh.provider={build:()=>new Xh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ch(i,e){i.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await zy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function vg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await xI(i);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>fg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>fg(e.remoteStore,a)),i._onlineComponents=e}async function xI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Ch(i,new wu)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Ch(i,new PI(void 0));return i._offlineComponents}async function DI(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await vg(i,i._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await vg(i,new Xh))),i._onlineComponents}async function iv(i){const e=await DI(i),n=e.eventManager;return n.onListen=_I.bind(null,e.syncEngine),n.onUnlisten=TI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SI.bind(null,e.syncEngine),n}function NI(i,e,n={}){const s=new zi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const E=new rv({next:S=>{E.eu(),h.enqueueAndForget(()=>Qy(u,I));const P=S.docs.has(d);!P&&S.fromCache?v.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&g&&g.source==="server"?v.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),I=new Gy(vf(d.path),E,{includeMetadataChanges:!0,ua:!0});return Ky(u,I)}(await iv(i),i.asyncQueue,e,n,s)),s.promise}function VI(i,e,n={}){const s=new zi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const E=new rv({next:S=>{E.eu(),h.enqueueAndForget(()=>Qy(u,I)),S.fromCache&&g.source==="server"?v.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),I=new Gy(d,E,{includeMetadataChanges:!0,ua:!0});return Ky(u,I)}(await iv(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(i,e,n){if(!n)throw new ge(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function LI(i,e,n,s){if(e===!0&&s===!0)throw new ge(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Eg(i){if(!Ae.isDocumentKey(i))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wg(i){if(Ae.isDocumentKey(i))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Me()}function Da(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bu(i);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function MI(i,e){if(e<=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new cT;switch(s.type){case"firstParty":return new pT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_g.get(n);s&&(me("ComponentProvider","Removing Datastore"),_g.delete(n),s.terminate())}(this),Promise.resolve()}}function OI(i,e,n,s={}){var a;const u=(i=Da(i,Uu))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=un.MOCK_USER;else{d=$w(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new un(v)}i._authCredentials=new hT(new ay(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class bn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class ji extends Gi{constructor(e,n,s){super(e,n,vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Ae(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function FI(i,e,...n){if(i=Sa(i),ov("collection","path",e),i instanceof Uu){const s=gt.fromString(e,...n);return wg(s),new ji(i,null,s)}{if(!(i instanceof bn||i instanceof ji))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(gt.fromString(e,...n));return wg(s),new ji(i.firestore,null,s)}}function bI(i,e,...n){if(i=Sa(i),arguments.length===1&&(e=ly.newId()),ov("doc","path",e),i instanceof Uu){const s=gt.fromString(e,...n);return Eg(s),new bn(i,null,new Ae(s))}{if(!(i instanceof bn||i instanceof ji))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(gt.fromString(e,...n));return Eg(s),new bn(i.firestore,i instanceof ji?i.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new By(this,"async_queue_retry"),this.fu=()=>{const s=Ah();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new zi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Co(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw ri("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=xf.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&Me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Vf extends Uu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Sg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sg(e),this._firestoreClient=void 0,await e}}}function UI(i,e){const n=typeof i=="object"?i:J0(),s=typeof i=="string"?i:"(default)",a=Q0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=jw("firestore");u&&OI(a,...u)}return a}function av(i){if(i._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zI(i),i._firestoreClient}function zI(i){var e,n,s;const a=i._freezeSettings(),u=function(d,g,v,E){return new kT(d,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,sv(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new kI(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(Zt.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=/^__.*__$/;function cv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class Of{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(cv(this.Mu)&&jI.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class BI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ou(e)}$u(e,n,s,a=!1){return new Of({Mu:e,methodName:n,Ku:s,path:hn.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $I(i){const e=i._freezeSettings(),n=Ou(i._databaseId);return new BI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function HI(i,e,n,s=!1){return Ff(n,i.$u(s?4:3,e))}function Ff(i,e){if(hv(i=Sa(i)))return WI("Unsupported field value:",e,i),qI(i,e);if(i instanceof uv)return function(s,a){if(!cv(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const d of s){let g=Ff(d,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Sa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Bt.fromDate(s);return{timestampValue:Wh(a.serializer,u)}}if(s instanceof Bt){const u=new Bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(a.serializer,u)}}if(s instanceof Lf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Io)return{bytesValue:Dy(a.serializer,s._byteString)};if(s instanceof bn){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ny(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Mf)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return _f(d.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${bu(s)}`)}(i,e)}function qI(i,e){const n={};return uy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(i,(s,a)=>{const u=Ff(a,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function hv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Bt||i instanceof Lf||i instanceof Io||i instanceof bn||i instanceof uv||i instanceof Mf)}function WI(i,e,n){if(!hv(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=bu(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}const KI=new RegExp("[~\\*/\\[\\]]");function QI(i,e,n){if(e.search(KI)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lv(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new ge(ne.INVALID_ARGUMENT,d+i+g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GI extends fv{data(){return super.data()}}function bf(i,e){return typeof e=="string"?QI(i,e):e instanceof lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uf{}class zf extends Uf{}function XI(i,e,...n){let s=[];e instanceof Uf&&s.push(e),s=s.concat(n),function(u){const h=u.filter(g=>g instanceof Bf).length,d=u.filter(g=>g instanceof jf).length;if(h>1||h>0&&d>0)throw new ge(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class jf extends zf{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jf(e,n,s)}_apply(e){const n=this._parse(e);return dv(e._query,n),new Gi(e.firestore,e.converter,Bh(e._query,n))}_parse(e){const n=$I(e.firestore);return function(u,h,d,g,v,E,I){let S;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Rg(I,E);const P=[];for(const M of I)P.push(Ig(g,u,M));S={arrayValue:{values:P}}}else S=Ig(g,u,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Rg(I,E),S=HI(d,h,I,E==="in"||E==="not-in");return Nt.create(v,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bf extends Uf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,u){let h=a;const d=u.getFlattenedFilters();for(const g of d)dv(h,g),h=Bh(h,g)}(e._query,n),new Gi(e.firestore,e.converter,Bh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $f extends zf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $f(e,n)}_apply(e){const n=function(a,u,h){if(a.startAt!==null)throw new ge(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xa(u,h)}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(a,u){const h=a.explicitOrderBy.concat([u]);return new ko(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function JI(i,e="asc"){const n=e,s=bf("orderBy",i);return $f._create(s,n)}class Hf extends zf{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Hf(e,n,s)}_apply(e){return new Gi(e.firestore,e.converter,yu(e._query,this._limit,this._limitType))}}function ZI(i){return MI("limit",i),Hf._create("limit",i,"F")}function Ig(i,e,n){if(typeof(n=Sa(n))=="string"){if(n==="")throw new ge(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yy(e)&&n.indexOf("/")!==-1)throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(gt.fromString(n));if(!Ae.isDocumentKey(s))throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hm(i,new Ae(s))}if(n instanceof bn)return Hm(i,n._key);throw new ge(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bu(n)}.`)}function Rg(i,e){if(!Array.isArray(i)||i.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dv(i,e){const n=function(a,u){for(const h of a)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e1{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Po(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>Ct(h.doubleValue));return new Mf(u)}convertGeoPoint(e){return new Lf(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=gt.fromString(e);wt(by(s));const a=new Pa(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return a.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pv extends fv{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class au extends pv{data(e={}){return super.data(e)}}class t1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ya(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new au(this._firestore,this._userDataWriter,s.key,s,new ya(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(d=>{const g=new au(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ya(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new au(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ya(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:n1(d.type),doc:g,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function n1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(i){i=Da(i,bn);const e=Da(i.firestore,Vf);return NI(av(e),i._key).then(n=>s1(e,i,n))}class mv extends e1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function i1(i){i=Da(i,Gi);const e=Da(i.firestore,Vf),n=av(e),s=new mv(e);return YI(i._query),VI(n,i._query).then(a=>new t1(e,s,i,a))}function s1(i,e,n){const s=n.docs.get(e._key),a=new mv(i);return new pv(i,a,e._key,s,new ya(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ao=a})(X0),pu(new Ia("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Vf(new fT(s.getProvider("auth-internal")),new gT(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),mo(bm,"4.7.5",e),mo(bm,"4.7.5","esm2017")})();const o1={apiKey:"AIzaSyAmHQLy0EJDEaX_6lACIQ06Gj8Lux1iYbQ",authDomain:"pokedex-app-a4e43.firebaseapp.com",projectId:"pokedex-app-a4e43",storageBucket:"pokedex-app-a4e43.firebasestorage.app",messagingSenderId:"40711984776",appId:"1:40711984776:web:d9581050b141336a0af13d"},a1=Jg(o1),gv=UI(a1);var lu={exports:{}},l1=lu.exports,Ag;function u1(){return Ag||(Ag=1,function(i,e){(function(n,s,a){i.exports=a(),i.exports.default=a()})("slugify",l1,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),s=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function a(u,h){if(typeof u!="string")throw new Error("slugify: string argument expected");h=typeof h=="string"?{replacement:h}:h||{};var d=s[h.locale]||{},g=h.replacement===void 0?"-":h.replacement,v=h.trim===void 0?!0:h.trim,E=u.normalize().split("").reduce(function(I,S){var P=d[S];return P===void 0&&(P=n[S]),P===void 0&&(P=S),P===g&&(P=" "),I+P.replace(h.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return h.strict&&(E=E.replace(/[^A-Za-z0-9\s]/g,"")),v&&(E=E.trim()),E=E.replace(/\s+/g,g),h.lower&&(E=E.toLowerCase()),E}return a.extend=function(u){Object.assign(n,u)},a})}(lu)),lu.exports}var c1=u1();const Tu=E_(c1),h1="/assets/slowpoke-loading-DDTe6Vfh.gif";function yv(i){return De.jsx("div",{className:`loading-banner${i.status?" visible":""}`,children:De.jsx("img",{src:h1,alt:"Imagem de um slowpoke com círculo em sua cabeça"})})}function f1(){let i=Number(sessionStorage.getItem("@pokedex-app-limit"));const[e,n]=W.useState([]),[s,a]=W.useState(!0),[u,h]=W.useState(Number(i));i||(h(9),sessionStorage.setItem("@pokedex-app-limit",u.toString())),W.useEffect(()=>{const g=sessionStorage.getItem("@pokedex-app");g?(n(JSON.parse(g)),a(!1)):v();function v(){const E=FI(gv,"Kanto"),I=XI(E,JI("id","asc"),ZI(Number(u)));i1(I).then(S=>{let P=[];S.forEach(M=>{P.push({id:M.data().id,nome:M.data().nome,tipo1:M.data().tipo1,tipo2:M.data().tipo2,descricao:M.data().descricao})}),n(P),sessionStorage.setItem("@pokedex-app",JSON.stringify(P)),sessionStorage.setItem("@pokedex-app-limit",u.toString())}).then(()=>{a(!1)})}},[u]);function d(){sessionStorage.removeItem("@pokedex-app"),a(!0),h(u+9)}return De.jsxs("main",{className:"container",children:[De.jsx("h2",{children:"Olá! Você encontrará abaixo uma lista com os Pokémons descobertos na região de Kanto! Você pode clicar em seus cards para ver mais informações!"}),De.jsxs("ul",{className:"card-wrapper",children:[De.jsx(yv,{status:s}),e.map(g=>De.jsx(Au,{to:`/pokemon/${g.id}`,children:De.jsx("li",{children:De.jsx(Dw,{nome:g.nome,id:g.id,tipo1:Tu(`${g.tipo1}`,{lower:!0,strict:!0}),tipo2:Tu(`${g.tipo2}`,{lower:!0,strict:!0})})})},g.id))]}),u<152&&De.jsx("button",{className:"load-more-button",onClick:d,children:"Ver mais"})]})}const d1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='M20%2011H6.83l2.88-2.88c.39-.39.39-1.02%200-1.41-.39-.39-1.02-.39-1.41%200L3.71%2011.3c-.39.39-.39%201.02%200%201.41L8.3%2017.3c.39.39%201.02.39%201.41%200%20.39-.39.39-1.02%200-1.41L6.83%2013H20c.55%200%201-.45%201-1s-.45-1-1-1z'/%3e%3c/svg%3e";function p1(){const i=kE(),[e,n]=W.useState(!0),[s,a]=W.useState(""),[u,h]=W.useState(""),[d,g]=W.useState(""),[v,E]=W.useState(""),[I,S]=W.useState(""),[P,M]=W.useState(""),[H,$]=W.useState("");return W.useEffect(()=>{const K=sessionStorage.getItem("@pokedex-app");function se(ue){a(ue.id.toString()),h(ue.nome),g(ue.tipo1),M(Tu(`${ue.tipo1}`,{lower:!0,strict:!0})),E(ue.tipo2?ue.tipo2:""),$(Tu(`${ue.tipo2}`,{lower:!0,strict:!0})),S(ue.descricao?ue.descricao:"")}if(K){let b=JSON.parse(K).find(ce=>Number(ce.id)===Number(i.id));se(b),n(!1)}else re();function re(){const ue=bI(gv,"Kanto",`${i.id}`);r1(ue).then(b=>{b.data()!==void 0&&se(b.data())}).catch(b=>{console.log(`Pokémon não encontrado... Erro: ${b}`)}),n(!1)}},[]),De.jsx("main",{className:"container",children:De.jsxs("div",{className:"pokemon-page-wrapper",children:[De.jsx(yv,{status:e}),De.jsxs("div",{className:"pokeDescHeader",children:[De.jsx(Au,{to:"/",children:De.jsx("img",{src:d1,alt:"Ícone de retorno"})}),De.jsxs("div",{className:"pokeInfo",children:[De.jsx("span",{children:`# ${s}`}),De.jsx("span",{children:u}),De.jsxs("div",{className:"pokeTypes",children:[P&&H&&De.jsx("img",{src:`/images/tipos/${P}.svg`,alt:`Icone de tipo ${P}`,className:`${P}`}),v!==""?De.jsx("img",{src:`/images/tipos/${H}.svg`,alt:`Icone de tipo ${H}`,className:`${H}`}):De.jsx(De.Fragment,{})]})]})]}),De.jsx("div",{className:"pokeSprite",children:De.jsx("img",{src:`/images/pokemons/${s}.gif`,alt:`Imagem de um ${u}`})}),De.jsxs("div",{className:"pokeTypesNames",children:[De.jsx("span",{children:"Tipo(s): "}),De.jsx("span",{children:d}),v!==""?De.jsxs("span",{children:[" / ",v]}):De.jsx(De.Fragment,{})]}),De.jsx("div",{className:"pokeDescription",children:De.jsx("p",{children:I})})]})})}const m1=yw([{path:"/",element:De.jsx(f1,{})},{path:"/pokemon/:id",element:De.jsx(p1,{})}]);P_.createRoot(document.getElementById("root")).render(De.jsx(W.StrictMode,{children:De.jsx(xw,{router:m1})}));
